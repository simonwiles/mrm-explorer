import{r as Ce,p as z,i as $e,g as Kt,K as pe,c as we,S as ar,u as Ie,x as Le,o as ke,L as pn,M as ue,N as de,d as ot,H as Ve,b as ve,z as Ue,O as Ro,a as Ge,Q as lt,J as or,s as jt,t as mt,G as Fr,U as Bo,y as Ee,m as We,V as sr,f as je,e as ct,W as Mo,T as za,v as ya,R as At,X as _i,Y as xi,I as Lr,A as ga,Z as Ko,_ as Io,B as Oi,w as ki,$ as Lo,a0 as qo}from"../chunks/disclose-version.Cx9vODKj.js";import{p as Qe,a as Je,a8 as Fo,g as V,d as ie,u as Ye,a9 as No}from"../chunks/runtime.uCQMOSHy.js";import{i as Ne}from"../chunks/if.CKqgJlVf.js";import{c as Va,o as zo,p as Mr}from"../chunks/main-client.CsJ1RqSQ.js";import{w as Vo}from"../chunks/index.DXw4irpk.js";import{C as Ho}from"../chunks/Close.Dn8pUC3W.js";var Wo=Ue("<a> </a>"),Uo=Ue("<div></div>");function Go(a,r){const u=Ce(r,["children","$$slots","$$events"]),l=Ce(u,["href","size","$$props"]);Je(r,!1);let f=z(r,"href",0,void 0),v=z(r,"size",0,"default");$e();var E=Ve(a),w=Le(E);Ne(w,f,g=>{var S=ke(g,!0,Wo);let D;var M=ot(ve(S));M.nodeValue=ar(""),Kt(()=>{D=pn(S,D,[{href:f()},{rel:l.target==="_blank"?"noopener noreferrer":void 0},{role:"button"},l],!0,""),ue(S,"bx--skeleton",!0),ue(S,"bx--btn",!0),ue(S,"bx--btn--field",v()==="field"),ue(S,"bx--btn--sm",v()==="small"),ue(S,"bx--btn--lg",v()==="lg"),ue(S,"bx--btn--xl",v()==="xl")}),pe("click",S,function(K){de.call(this,r,K)}),pe("focus",S,function(K){de.call(this,r,K)}),pe("blur",S,function(K){de.call(this,r,K)}),pe("mouseover",S,function(K){de.call(this,r,K)}),pe("mouseenter",S,function(K){de.call(this,r,K)}),pe("mouseleave",S,function(K){de.call(this,r,K)}),we(g,S)},g=>{var S=ke(g,!0,Uo);let D;Kt(()=>{D=pn(S,D,[l],!0,""),ue(S,"bx--skeleton",!0),ue(S,"bx--btn",!0),ue(S,"bx--btn--field",v()==="field"),ue(S,"bx--btn--sm",v()==="small"),ue(S,"bx--btn--lg",v()==="lg"),ue(S,"bx--btn--xl",v()==="xl")}),pe("click",S,function(M){de.call(this,r,M)}),pe("focus",S,function(M){de.call(this,r,M)}),pe("blur",S,function(M){de.call(this,r,M)}),pe("mouseover",S,function(M){de.call(this,r,M)}),pe("mouseenter",S,function(M){de.call(this,r,M)}),pe("mouseleave",S,function(M){de.call(this,r,M)}),we(g,S)}),Ie(a,E),Qe()}var Yo=Ue("<span> </span>"),Xo=Ue("<a><!> <!><!></a>"),Zo=Ue("<span> </span>"),Qo=Ue("<button><!> <!><!></button>");function Jo(a,r){const u=Ro(r),l=Ce(r,["children","$$slots","$$events"]),f=Ce(l,["kind","size","expressive","isSelected","icon","iconDescription","tooltipAlignment","tooltipPosition","as","skeleton","disabled","href","tabindex","type","ref","$$props"]);Je(r,!1);const v=We(),E=We();let w=z(r,"kind",0,"primary"),g=z(r,"size",0,"lg"),S=z(r,"expressive",0,!1),D=z(r,"isSelected",0,!1),M=z(r,"icon",0,void 0),K=z(r,"iconDescription",0,void 0),J=z(r,"tooltipAlignment",0,"center"),Z=z(r,"tooltipPosition",0,"bottom"),X=z(r,"as",0,!1),$=z(r,"skeleton",0,!1),q=z(r,"disabled",0,!1),H=z(r,"href",0,void 0),U=z(r,"tabindex",0,"0"),p=z(r,"type",0,"button"),G=z(r,"ref",4,null);const j=Fo("ComposedModal");Ge(()=>{ie(G()),Ye(()=>{j&&G()&&j.declareRef(G())})}),Ge(()=>{ie(M()),Ye(()=>{je(v,M()&&!u.default)})}),Ge(()=>{ie(H()),ie(q()),ie(p()),ie(U()),V(v),ie(w()),ie(D()),ie(f),ie(S()),ie(g()),ie(Z()),ie(J()),Ye(()=>{je(E,{type:H()&&!q()?void 0:p(),tabindex:U(),disabled:q()===!0?!0:void 0,href:H(),"aria-pressed":V(v)&&w()==="ghost"&&!H()?D():void 0,...f,class:["bx--btn",S()&&"bx--btn--expressive",(g()==="small"&&!S()||g()==="sm"&&!S()||g()==="small"&&!S())&&"bx--btn--sm",(g()==="field"&&!S()||g()==="md"&&!S())&&"bx--btn--md",g()==="small"&&"bx--btn--sm",g()==="xl"&&"bx--btn--xl",g()==="2xl"&&"bx--btn--2xl",w()&&`bx--btn--${w()}`,q()&&"bx--btn--disabled",V(v)&&"bx--btn--icon-only",V(v)&&"bx--tooltip__trigger",V(v)&&"bx--tooltip--a11y",V(v)&&Z()&&`bx--btn--icon-only--${Z()}`,V(v)&&J()&&`bx--tooltip--align-${J()}`,V(v)&&D()&&w()==="ghost"&&"bx--btn--selected",f.class].filter(Boolean).join(" ")})})}),$e();var ee=Ve(a),xe=Le(ee);Ne(xe,$,he=>{var ye=Ve(he),_e=Le(ye),fe=sr(()=>V(v)&&"width: 3rem;");Go(_e,Bo({get href(){return H()},get size(){return g()}},()=>f,{get style(){return V(fe)},$$events:{click(re){de.call(this,r,re)},focus(re){de.call(this,r,re)},blur(re){de.call(this,r,re)},mouseover(re){de.call(this,r,re)},mouseenter(re){de.call(this,r,re)},mouseleave(re){de.call(this,r,re)}}})),Ie(he,ye)},he=>{var ye=Ve(he),_e=Le(ye);Ne(_e,X,fe=>{var re=Ve(fe),Me=Le(re);lt(Me,r.children,{get props(){return V(E)}},null),Ie(fe,re)},fe=>{var re=Ve(fe),Me=Le(re);Ne(Me,()=>H()&&!q(),Ae=>{var Y=ke(Ae,!0,Xo);or(Y,le=>G(le),()=>G());var Pe=ve(Y),ge=Ee(Ee(Pe,!0)),De=Ee(ge);jt(Y,()=>[V(E)],!0,""),pe("click",Y,function(le){de.call(this,r,le)}),pe("focus",Y,function(le){de.call(this,r,le)}),pe("blur",Y,function(le){de.call(this,r,le)}),pe("mouseover",Y,function(le){de.call(this,r,le)}),pe("mouseenter",Y,function(le){de.call(this,r,le)}),pe("mouseleave",Y,function(le){de.call(this,r,le)}),Ne(Pe,()=>V(v),le=>{var ae=ke(le,!0,Yo);ue(ae,"bx--assistive-text",!0);var Se=ot(ve(ae));mt(Se,K),we(le,ae)},null),lt(ge,r.children,{},null),Fr(De,M,le=>{le(De,{"aria-hidden":"true",class:"bx--btn__icon",get"aria-label"(){return K()}})}),we(Ae,Y)},Ae=>{var Y=ke(Ae,!0,Qo);or(Y,ae=>G(ae),()=>G());var Pe=ve(Y),ge=Ee(Ee(Pe,!0)),De=Ee(ge),le=sr(()=>V(v)?"margin-left: 0":void 0);jt(Y,()=>[V(E)],!0,""),pe("click",Y,function(ae){de.call(this,r,ae)}),pe("focus",Y,function(ae){de.call(this,r,ae)}),pe("blur",Y,function(ae){de.call(this,r,ae)}),pe("mouseover",Y,function(ae){de.call(this,r,ae)}),pe("mouseenter",Y,function(ae){de.call(this,r,ae)}),pe("mouseleave",Y,function(ae){de.call(this,r,ae)}),Ne(Pe,()=>V(v),ae=>{var Se=ke(ae,!0,Zo);ue(Se,"bx--assistive-text",!0);var qe=ot(ve(Se));mt(qe,K),we(ae,Se)},null),lt(ge,r.children,{},null),Fr(De,M,ae=>{ae(De,{"aria-hidden":"true",class:"bx--btn__icon",get style(){return V(le)},get"aria-label"(){return K()}})}),we(Ae,Y)}),Ie(fe,re)}),Ie(he,ye)}),Ie(a,ee),Qe()}var $o=ct("<title> </title>"),es=ct('<svg><!><path d="M16,2C8.3,2,2,8.3,2,16s6.3,14,14,14s14-6.3,14-14C30,8.3,23.7,2,16,2z M14.9,8h2.2v11h-2.2V8z M16,25	c-0.8,0-1.5-0.7-1.5-1.5S15.2,22,16,22c0.8,0,1.5,0.7,1.5,1.5S16.8,25,16,25z"></path><path fill="none" d="M17.5,23.5c0,0.8-0.7,1.5-1.5,1.5c-0.8,0-1.5-0.7-1.5-1.5S15.2,22,16,22	C16.8,22,17.5,22.7,17.5,23.5z M17.1,8h-2.2v11h2.2V8z" data-icon-path="inner-path" opacity="0"></path></svg>');function ts(a,r){const u=Ce(r,["children","$$slots","$$events"]),l=Ce(u,["size","title","$$props"]);Je(r,!1);const f=We(),v=We();let E=z(r,"size",0,16),w=z(r,"title",0,void 0);Ge(()=>{ie(r),ie(w()),Ye(()=>{je(f,u["aria-label"]||u["aria-labelledby"]||w())})}),Ge(()=>{V(f),ie(r),Ye(()=>{je(v,{"aria-hidden":V(f)?void 0:!0,role:V(f)?"img":void 0,focusable:Number(u.tabindex)===0?!0:void 0})})}),$e();var g=ke(a,!0,es),S=ve(g);jt(g,()=>[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:E()},{height:E()},V(v),l],!1,""),Ne(S,w,D=>{var M=ke(D,!0,$o),K=ot(ve(M));mt(K,w),we(D,M)},null),we(a,g),Qe()}var ns=ct("<title> </title>"),rs=ct('<svg><!><path fill="none" d="M16,26a1.5,1.5,0,1,1,1.5-1.5A1.5,1.5,0,0,1,16,26Zm-1.125-5h2.25V12h-2.25Z" data-icon-path="inner-path"></path><path d="M16.002,6.1714h-.004L4.6487,27.9966,4.6506,28H27.3494l.0019-.0034ZM14.875,12h2.25v9h-2.25ZM16,26a1.5,1.5,0,1,1,1.5-1.5A1.5,1.5,0,0,1,16,26Z"></path><path d="M29,30H3a1,1,0,0,1-.8872-1.4614l13-25a1,1,0,0,1,1.7744,0l13,25A1,1,0,0,1,29,30ZM4.6507,28H27.3493l.002-.0033L16.002,6.1714h-.004L4.6487,27.9967Z"></path></svg>');function is(a,r){const u=Ce(r,["children","$$slots","$$events"]),l=Ce(u,["size","title","$$props"]);Je(r,!1);const f=We(),v=We();let E=z(r,"size",0,16),w=z(r,"title",0,void 0);Ge(()=>{ie(r),ie(w()),Ye(()=>{je(f,u["aria-label"]||u["aria-labelledby"]||w())})}),Ge(()=>{V(f),ie(r),Ye(()=>{je(v,{"aria-hidden":V(f)?void 0:!0,role:V(f)?"img":void 0,focusable:Number(u.tabindex)===0?!0:void 0})})}),$e();var g=ke(a,!0,rs),S=ve(g);jt(g,()=>[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:E()},{height:E()},V(v),l],!1,""),Ne(S,w,D=>{var M=ke(D,!0,ns),K=ot(ve(M));mt(K,w),we(D,M)},null),we(a,g),Qe()}var as=Ue("<section><!></section>");function os(a,r){const u=Ce(r,["children","$$slots","$$events"]),l=Ce(u,["size","$$props"]);Je(r,!1);let f=z(r,"size",0,"default"),v=We(null);const E=Vo(!1);No("Toolbar",{overflowVisible:E,setOverflowVisible:D=>{E.set(D),V(v)&&Mo(v,V(v).style.overflow=D?"visible":"inherit")}}),$e();var w=ke(a,!0,as);or(w,D=>je(v,D),()=>V(v));let g;var S=ve(w);Kt(()=>{g=pn(w,g,[{"aria-label":"data table toolbar"},l],!0,""),ue(w,"bx--table-toolbar",!0),ue(w,"bx--table-toolbar--small",f()==="sm"),ue(w,"bx--table-toolbar--normal",f()==="default"),za(w,"z-index",1)}),lt(S,r.children,{},null),we(a,w),Qe()}var ss=Ue("<div><!></div>");function us(a,r){Je(r,!1),$e();var u=ke(a,!0,ss);ue(u,"bx--toolbar-content",!0);var l=ve(u);lt(l,r.children,{},null),we(a,u),Qe()}var ls=ct("<title> </title>"),cs=ct('<svg><!><path d="M16,2A14,14,0,1,0,30,16,14,14,0,0,0,16,2ZM14,21.5908l-5-5L10.5906,15,14,18.4092,21.41,11l1.5957,1.5859Z"></path><path fill="none" d="M14 21.591L9 16.591 10.591 15 14 18.409 21.41 11 23.005 12.585 14 21.591z" data-icon-path="inner-path"></path></svg>');function fs(a,r){const u=Ce(r,["children","$$slots","$$events"]),l=Ce(u,["size","title","$$props"]);Je(r,!1);const f=We(),v=We();let E=z(r,"size",0,16),w=z(r,"title",0,void 0);Ge(()=>{ie(r),ie(w()),Ye(()=>{je(f,u["aria-label"]||u["aria-labelledby"]||w())})}),Ge(()=>{V(f),ie(r),Ye(()=>{je(v,{"aria-hidden":V(f)?void 0:!0,role:V(f)?"img":void 0,focusable:Number(u.tabindex)===0?!0:void 0})})}),$e();var g=ke(a,!0,cs),S=ve(g);jt(g,()=>[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:E()},{height:E()},V(v),l],!1,""),Ne(S,w,D=>{var M=ke(D,!0,ls),K=ot(ve(M));mt(K,w),we(D,M)},null),we(a,g),Qe()}var ds=ct('<circle cx="50%" cy="50%"></circle>'),ps=Ue('<div><div aria-atomic="true"><svg viewBox="0 0 100 100"><title> </title><!><circle cx="50%" cy="50%"></circle></svg></div></div>'),vs=ct('<circle cx="50%" cy="50%"></circle>'),hs=Ue('<div><svg viewBox="0 0 100 100"><title> </title><!><circle cx="50%" cy="50%"></circle></svg></div>');function ms(a,r){const u=Ce(r,["children","$$slots","$$events"]),l=Ce(u,["small","active","withOverlay","description","$$props"]);Je(r,!1);const f=We();let v=z(r,"small",0,!1),E=z(r,"active",0,!0),w=z(r,"withOverlay",0,!0),g=z(r,"description",0,"loading");Ge(()=>{ie(v()),Ye(()=>{je(f,v()?"42":"44")})}),$e();var S=Ve(a),D=Le(S);Ne(D,w,M=>{var K=ke(M,!0,ps);let J;var Z=ve(K),X=ve(Z);ue(X,"bx--loading__svg",!0);var $=ve(X),q=ot(ve($)),H=Ee($),U=Ee(H),p,G;Kt(()=>{J=pn(K,J,[l],!0,""),ue(K,"bx--loading-overlay",!0),ue(K,"bx--loading-overlay--stop",!E()),p!==(p=E()?"assertive":"off")&&At(Z,"aria-live",p),ue(Z,"bx--loading",!0),ue(Z,"bx--loading--small",v()),ue(Z,"bx--loading--stop",!E()),ya(q,g()),G!==(G=V(f))&&At(U,"r",G),ue(U,"bx--loading__stroke",!0)}),Ne(H,v,j=>{var ee=ke(j,!0,ds),xe;Kt(()=>{xe!==(xe=V(f))&&At(ee,"r",xe),ue(ee,"bx--loading__background",!0)}),we(j,ee)},null),we(M,K)},M=>{var K=ke(M,!0,hs);let J;var Z=ve(K);ue(Z,"bx--loading__svg",!0);var X=ve(Z),$=ot(ve(X)),q=Ee(X),H=Ee(q),U;Kt(()=>{J=pn(K,J,[{"aria-atomic":"true"},{"aria-live":E()?"assertive":"off"},l],!0,""),ue(K,"bx--loading",!0),ue(K,"bx--loading--small",v()),ue(K,"bx--loading--stop",!E()),ya($,g()),U!==(U=V(f))&&At(H,"r",U),ue(H,"bx--loading__stroke",!0)}),Ne(q,v,p=>{var G=ke(p,!0,vs),j;Kt(()=>{j!==(j=V(f))&&At(G,"r",j),ue(G,"bx--loading__background",!0)}),we(p,G)},null),we(M,K)}),Ie(a,S),Qe()}var ys=Ue('<div><label><div><!></div></label> <input type="file" tabindex="-1"></div>');function ba(a,r){var Ae;const u=Ce(r,["children","$$slots","$$events"]),l=Ce(u,["accept","files","multiple","validateFiles","labelText","role","disabled","tabindex","id","name","ref","$$props"]);Je(r,!1);let f=z(r,"accept",8,()=>[]),v=z(r,"files",12,()=>[]),E=z(r,"multiple",0,!1),w=z(r,"validateFiles",0,Y=>Y),g=z(r,"labelText",0,"Add file"),S=z(r,"role",0,"button"),D=z(r,"disabled",0,!1),M=z(r,"tabindex",0,"0"),K=z(r,"id",8,()=>"ccs-"+Math.random().toString(36)),J=z(r,"name",0,""),Z=z(r,"ref",4,null);const X=Va();let $=We(!1);$e();var q=ke(a,!0,ys);let H;var U=ve(q),p=ve(U),G=ve(p),j=Ee(Ee(U,!0));or(j,Y=>Z(Y),()=>Z());var ee,xe,he,ye,_e,fe,re,Me;Kt(()=>{H=pn(q,H,[l],!0,""),ue(q,"bx--file",!0),ee!==(ee=K())&&At(U,"for",ee),xe!==(xe=M())&&At(U,"tabindex",xe),ue(U,"bx--file-browse-btn",!0),ue(U,"bx--file-browse-btn--disabled",D()),he!==(he=S())&&At(p,"role",he),ue(p,"bx--file__drop-container",!0),ue(p,"bx--file__drop-container--drag-over",V($)),ye!==(ye=K())&&At(j,"id",ye),_e!==(_e=D())&&(j.disabled=_e),fe!==(fe=f())&&At(j,"accept",fe),re!==(re=J())&&At(j,"name",re),Me!==(Me=E())&&(j.multiple=Me),ue(j,"bx--file-input",!0)}),pe("dragover",q,function(Y){de.call(this,r,Y)}),pe("dragover",q,_i(xi(({dataTransfer:Y})=>{D()||(je($,!0),Y.dropEffect="copy")})),!1),pe("dragleave",q,function(Y){de.call(this,r,Y)}),pe("dragleave",q,_i(xi(({dataTransfer:Y})=>{D()||(je($,!1),Y.dropEffect="move")})),!1),pe("drop",q,function(Y){de.call(this,r,Y)}),pe("drop",q,_i(xi(({dataTransfer:Y})=>{D()||(je($,!1),v(w()([...Y.files])),X("add",v()),X("change",v()))})),!1),pe("keydown",U,function(Y){de.call(this,r,Y)}),pe("keydown",U,({key:Y})=>{(Y===" "||Y==="Enter")&&Z().click()},!1),lt(G,(Ae=r.$$slots)==null?void 0:Ae.labelText,{},Y=>{var Pe=Lr(Y),ge=ot(Pe);mt(ge,g),we(Y,Pe)}),pe("change",j,({target:Y})=>{v(w()([...Y.files])),X("add",v()),X("change",v())},!1),pe("click",j,function(Y){de.call(this,r,Y)}),pe("click",j,({target:Y})=>{Y.value=null},!1),we(a,q),Qe()}var gs=Ue("<div><!></div>");function bs(a,r){const u=Ce(r,["children","$$slots","$$events"]),l=Ce(u,["as","condensed","narrow","fullWidth","noGutter","noGutterLeft","noGutterRight","padding","$$props"]);Je(r,!1);const f=We();let v=z(r,"as",0,!1),E=z(r,"condensed",0,!1),w=z(r,"narrow",0,!1),g=z(r,"fullWidth",0,!1),S=z(r,"noGutter",0,!1),D=z(r,"noGutterLeft",0,!1),M=z(r,"noGutterRight",0,!1),K=z(r,"padding",0,!1);Ge(()=>{ie(l),ie(E()),ie(w()),ie(g()),ie(S()),ie(D()),ie(M()),ie(K()),Ye(()=>{je(f,{...l,class:[l.class,"bx--grid",E()&&"bx--grid--condensed",w()&&"bx--grid--narrow",g()&&"bx--grid--full-width",S()&&"bx--no-gutter",D()&&"bx--no-gutter--left",M()&&"bx--no-gutter--right",K()&&"bx--row-padding"].filter(Boolean).join(" ")})})}),$e();var J=Ve(a),Z=Le(J);Ne(Z,v,X=>{var $=Ve(X),q=Le($);lt(q,r.children,{get props(){return V(f)}},null),Ie(X,$)},X=>{var $=ke(X,!0,gs),q=ve($);jt($,()=>[V(f)],!0,""),lt(q,r.children,{},null),we(X,$)}),Ie(a,J),Qe()}var ws=Ue("<div><!></div>");function wa(a,r){const u=Ce(r,["children","$$slots","$$events"]),l=Ce(u,["as","condensed","narrow","noGutter","noGutterLeft","noGutterRight","padding","$$props"]);Je(r,!1);const f=We();let v=z(r,"as",0,!1),E=z(r,"condensed",0,!1),w=z(r,"narrow",0,!1),g=z(r,"noGutter",0,!1),S=z(r,"noGutterLeft",0,!1),D=z(r,"noGutterRight",0,!1),M=z(r,"padding",0,!1);Ge(()=>{ie(l),ie(E()),ie(w()),ie(g()),ie(S()),ie(D()),ie(M()),Ye(()=>{je(f,{...l,class:[l.class,"bx--row",E()&&"bx--row--condensed",w()&&"bx--row--narrow",g()&&"bx--no-gutter",S()&&"bx--no-gutter--left",D()&&"bx--no-gutter--right",M()&&"bx--row-padding"].filter(Boolean).join(" ")})})}),$e();var K=Ve(a),J=Le(K);Ne(J,v,Z=>{var X=Ve(Z),$=Le(X);lt($,r.children,{get props(){return V(f)}},null),Ie(Z,X)},Z=>{var X=ke(Z,!0,ws),$=ve(X);jt(X,()=>[V(f)],!0,""),lt($,r.children,{},null),we(Z,X)}),Ie(a,K),Qe()}var _s=Ue("<div><!></div>");function _a(a,r){const u=Ce(r,["children","$$slots","$$events"]),l=Ce(u,["as","noGutter","noGutterLeft","noGutterRight","padding","aspectRatio","sm","md","lg","xlg","max","$$props"]);Je(r,!1);const f=We(),v=We();let E=z(r,"as",0,!1),w=z(r,"noGutter",0,!1),g=z(r,"noGutterLeft",0,!1),S=z(r,"noGutterRight",0,!1),D=z(r,"padding",0,!1),M=z(r,"aspectRatio",0,void 0),K=z(r,"sm",0,void 0),J=z(r,"md",0,void 0),Z=z(r,"lg",0,void 0),X=z(r,"xlg",0,void 0),$=z(r,"max",0,void 0);const q=["sm","md","lg","xlg","max"];Ge(()=>{ie(K()),ie(J()),ie(Z()),ie(X()),ie($()),Ye(()=>{je(f,[K(),J(),Z(),X(),$()].map((p,G)=>{const j=q[G];if(p===!0)return`bx--col-${j}`;if(typeof p=="number")return`bx--col-${j}-${p}`;if(typeof p=="object"){let ee=[];return typeof p.span=="number"?ee=[...ee,`bx--col-${j}-${p.span}`]:p.span===!0&&(ee=[...ee,`bx--col-${j}`]),typeof p.offset=="number"&&(ee=[...ee,`bx--offset-${j}-${p.offset}`]),ee.join(" ")}}).filter(Boolean).join(" "))})}),Ge(()=>{ie(l),V(f),ie(w()),ie(g()),ie(S()),ie(M()),ie(D()),Ye(()=>{je(v,{...l,class:[l.class,V(f),!V(f)&&"bx--col",w()&&"bx--no-gutter",g()&&"bx--no-gutter--left",S()&&"bx--no-gutter--right",M()&&`bx--aspect-ratio bx--aspect-ratio--${M()}`,D()&&"bx--col-padding"].filter(Boolean).join(" ")})})}),$e();var H=Ve(a),U=Le(H);Ne(U,E,p=>{var G=Ve(p),j=Le(G);lt(j,r.children,{get props(){return V(v)}},null),Ie(p,G)},p=>{var G=ke(p,!0,_s),j=ve(G);jt(G,()=>[V(v)],!0,""),lt(j,r.children,{},null),we(p,G)}),Ie(a,H),Qe()}const xs=a=>a;function Os(a,{delay:r=0,duration:u=400,easing:l=xs}={}){const f=+getComputedStyle(a).opacity;return{delay:r,duration:u,easing:l,css:v=>`opacity: ${v*f}`}}var ks=ct("<title> </title>"),Es=ct('<svg><!><path fill="none" d="M14.9 7.2H17.1V24.799H14.9z" data-icon-path="inner-path" transform="rotate(-45 16 16)"></path><path d="M16,2A13.914,13.914,0,0,0,2,16,13.914,13.914,0,0,0,16,30,13.914,13.914,0,0,0,30,16,13.914,13.914,0,0,0,16,2Zm5.4449,21L9,10.5557,10.5557,9,23,21.4448Z"></path></svg>');function As(a,r){const u=Ce(r,["children","$$slots","$$events"]),l=Ce(u,["size","title","$$props"]);Je(r,!1);const f=We(),v=We();let E=z(r,"size",0,16),w=z(r,"title",0,void 0);Ge(()=>{ie(r),ie(w()),Ye(()=>{je(f,u["aria-label"]||u["aria-labelledby"]||w())})}),Ge(()=>{V(f),ie(r),Ye(()=>{je(v,{"aria-hidden":V(f)?void 0:!0,role:V(f)?"img":void 0,focusable:Number(u.tabindex)===0?!0:void 0})})}),$e();var g=ke(a,!0,Es),S=ve(g);jt(g,()=>[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:E()},{height:E()},V(v),l],!1,""),Ne(S,w,D=>{var M=ke(D,!0,ks),K=ot(ve(M));mt(K,w),we(D,M)},null),we(a,g),Qe()}var Ps=Ue("<button><!></button>");function Ts(a,r){const u=Ce(r,["children","$$slots","$$events"]),l=Ce(u,["notificationType","icon","title","iconDescription","$$props"]);Je(r,!1);let f=z(r,"notificationType",0,"toast"),v=z(r,"icon",0,Ho),E=z(r,"title",0,void 0),w=z(r,"iconDescription",0,"Close icon");$e();var g=ke(a,!0,Ps);let S;var D=ve(g),M=sr(()=>`${ar(f()==="toast"&&"bx--toast-notification__close-icon")} ${ar(f()==="inline"&&"bx--inline-notification__close-icon")}`);Kt(()=>{S=pn(g,S,[{type:"button"},{"aria-label":w()},{title:w()},l],!0,""),ue(g,"bx--toast-notification__close-button",f()==="toast"),ue(g,"bx--inline-notification__close-button",f()==="inline")}),pe("click",g,function(K){de.call(this,r,K)}),pe("mouseover",g,function(K){de.call(this,r,K)}),pe("mouseenter",g,function(K){de.call(this,r,K)}),pe("mouseleave",g,function(K){de.call(this,r,K)}),Fr(D,v,K=>{K(D,{size:20,get title(){return E()},get class(){return V(M)}})}),we(a,g),Qe()}var Cs=ct("<title> </title>"),Ds=ct('<svg><!><path fill="none" d="M16,8a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,16,8Zm4,13.875H17.125v-8H13v2.25h1.875v5.75H12v2.25h8Z" data-icon-path="inner-path"></path><path d="M16,2A14,14,0,1,0,30,16,14,14,0,0,0,16,2Zm0,6a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,16,8Zm4,16.125H12v-2.25h2.875v-5.75H13v-2.25h4.125v8H20Z"></path></svg>');function Ss(a,r){const u=Ce(r,["children","$$slots","$$events"]),l=Ce(u,["size","title","$$props"]);Je(r,!1);const f=We(),v=We();let E=z(r,"size",0,16),w=z(r,"title",0,void 0);Ge(()=>{ie(r),ie(w()),Ye(()=>{je(f,u["aria-label"]||u["aria-labelledby"]||w())})}),Ge(()=>{V(f),ie(r),Ye(()=>{je(v,{"aria-hidden":V(f)?void 0:!0,role:V(f)?"img":void 0,focusable:Number(u.tabindex)===0?!0:void 0})})}),$e();var g=ke(a,!0,Ds),S=ve(g);jt(g,()=>[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:E()},{height:E()},V(v),l],!1,""),Ne(S,w,D=>{var M=ke(D,!0,Cs),K=ot(ve(M));mt(K,w),we(D,M)},null),we(a,g),Qe()}var js=ct("<title> </title>"),Rs=ct('<svg><!><path fill="none" d="M16,8a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,16,8Zm4,13.875H17.125v-8H13v2.25h1.875v5.75H12v2.25h8Z" data-icon-path="inner-path"></path><path d="M26,4H6A2,2,0,0,0,4,6V26a2,2,0,0,0,2,2H26a2,2,0,0,0,2-2V6A2,2,0,0,0,26,4ZM16,8a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,16,8Zm4,16.125H12v-2.25h2.875v-5.75H13v-2.25h4.125v8H20Z"></path></svg>');function Bs(a,r){const u=Ce(r,["children","$$slots","$$events"]),l=Ce(u,["size","title","$$props"]);Je(r,!1);const f=We(),v=We();let E=z(r,"size",0,16),w=z(r,"title",0,void 0);Ge(()=>{ie(r),ie(w()),Ye(()=>{je(f,u["aria-label"]||u["aria-labelledby"]||w())})}),Ge(()=>{V(f),ie(r),Ye(()=>{je(v,{"aria-hidden":V(f)?void 0:!0,role:V(f)?"img":void 0,focusable:Number(u.tabindex)===0?!0:void 0})})}),$e();var g=ke(a,!0,Rs),S=ve(g);jt(g,()=>[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:E()},{height:E()},V(v),l],!1,""),Ne(S,w,D=>{var M=ke(D,!0,js),K=ot(ve(M));mt(K,w),we(D,M)},null),we(a,g),Qe()}function Ms(a,r){Je(r,!1);let u=z(r,"kind",0,"error"),l=z(r,"notificationType",0,"toast");const f={error:As,"info-square":Bs,info:Ss,success:fs,warning:ts,"warning-alt":is};$e();var v=Ve(a),E=Le(v),w=sr(()=>`${ar(l()==="toast"&&"bx--toast-notification__icon")} ${ar(l()==="inline"&&"bx--inline-notification__icon")}`);Fr(E,()=>f[u()],g=>{g(E,{size:20,get title(){return r.iconDescription},get class(){return V(w)}})}),Ie(a,v),Qe()}var Ks=Ue("<div><!> <div><h3><!></h3> <div><!></div> <div><!></div> <!></div> <!></div>");function Is(a,r){const u=Ce(r,["children","$$slots","$$events"]),l=Ce(u,["kind","lowContrast","timeout","role","title","subtitle","caption","statusIconDescription","closeButtonDescription","hideCloseButton","fullWidth","$$props"]);Je(r,!1);let f=z(r,"kind",0,"error"),v=z(r,"lowContrast",0,!1),E=z(r,"timeout",0,0),w=z(r,"role",0,"alert"),g=z(r,"title",0,""),S=z(r,"subtitle",0,""),D=z(r,"caption",0,""),M=z(r,"statusIconDescription",8,()=>f()+" icon"),K=z(r,"closeButtonDescription",0,"Close notification"),J=z(r,"hideCloseButton",0,!1),Z=z(r,"fullWidth",0,!1);const X=Va();let $=We(!0),q;function H(G){X("close",{timeout:G===!0},{cancelable:!0})&&je($,!1)}zo(()=>(E()&&(q=setTimeout(()=>H(!0),E())),()=>{clearTimeout(q)})),$e();var U=Ve(a),p=Le(U);Ne(p,()=>V($),G=>{var ge,De,le;var j=ke(G,!0,Ks);let ee;var xe=ve(j),he=Ee(Ee(xe,!0));ue(he,"bx--toast-notification__details",!0);var ye=ve(he);ue(ye,"bx--toast-notification__title",!0);var _e=ve(ye),fe=Ee(Ee(ye,!0));ue(fe,"bx--toast-notification__subtitle",!0);var re=ve(fe),Me=Ee(Ee(fe,!0));ue(Me,"bx--toast-notification__caption",!0);var Ae=ve(Me),Y=Ee(Ee(Me,!0)),Pe=Ee(Ee(he,!0));Kt(()=>{ee=pn(j,ee,[{role:w()},{kind:f()},l],!0,""),ue(j,"bx--toast-notification",!0),ue(j,"bx--toast-notification--low-contrast",v()),ue(j,"bx--toast-notification--error",f()==="error"),ue(j,"bx--toast-notification--info",f()==="info"),ue(j,"bx--toast-notification--info-square",f()==="info-square"),ue(j,"bx--toast-notification--success",f()==="success"),ue(j,"bx--toast-notification--warning",f()==="warning"),ue(j,"bx--toast-notification--warning-alt",f()==="warning-alt"),za(j,"width",Z()?"100%":void 0)}),pe("click",j,function(ae){de.call(this,r,ae)}),pe("mouseover",j,function(ae){de.call(this,r,ae)}),pe("mouseenter",j,function(ae){de.call(this,r,ae)}),pe("mouseleave",j,function(ae){de.call(this,r,ae)}),Ms(xe,{get kind(){return f()},get iconDescription(){return M()}}),lt(_e,(ge=r.$$slots)==null?void 0:ge.title,{},ae=>{var Se=Lr(ae),qe=ot(Se);mt(qe,g),we(ae,Se)}),lt(re,(De=r.$$slots)==null?void 0:De.subtitle,{},ae=>{var Se=Lr(ae),qe=ot(Se);mt(qe,S),we(ae,Se)}),lt(Ae,(le=r.$$slots)==null?void 0:le.caption,{},ae=>{var Se=Lr(ae),qe=ot(Se);mt(qe,D),we(ae,Se)}),lt(Y,r.children,{},null),Ne(Pe,()=>!J(),ae=>{var Se=Ve(ae),qe=Le(Se);Ts(qe,{get iconDescription(){return K()},$$events:{click:H}}),Ie(ae,Se)},null),we(G,j)},null),Ie(a,U),Qe()}var Ls=ct("<title> </title>"),qs=ct('<svg><!><path d="M17.4141 16L26 7.4141 24.5859 6 16 14.5859 7.4143 6 6 7.4141 14.5859 16 6 24.5859 7.4143 26 16 17.4141 24.5859 26 26 24.5859 17.4141 16z"></path></svg>');function Fs(a,r){const u=Ce(r,["children","$$slots","$$events"]),l=Ce(u,["size","title","$$props"]);Je(r,!1);const f=We(),v=We();let E=z(r,"size",0,16),w=z(r,"title",0,void 0);Ge(()=>{ie(r),ie(w()),Ye(()=>{je(f,u["aria-label"]||u["aria-labelledby"]||w())})}),Ge(()=>{V(f),ie(r),Ye(()=>{je(v,{"aria-hidden":V(f)?void 0:!0,role:V(f)?"img":void 0,focusable:Number(u.tabindex)===0?!0:void 0})})}),$e();var g=ke(a,!0,qs),S=ve(g);jt(g,()=>[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:E()},{height:E()},V(v),l],!1,""),Ne(S,w,D=>{var M=ke(D,!0,Ls),K=ot(ve(M));mt(K,w),we(D,M)},null),we(a,g),Qe()}var xa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ns(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Ha={exports:{}};(function(a,r){(function(u,l){a.exports=l()})(xa,function(){var u=function(e,t){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(e,t)},l=function(){return(l=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function f(e,t,n){if(n||arguments.length===2)for(var i,o=0,s=t.length;o<s;o++)!i&&o in t||((i=i||Array.prototype.slice.call(t,0,o))[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))}var v=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:xa,E=Object.keys,w=Array.isArray;function g(e,t){return typeof t!="object"||E(t).forEach(function(n){e[n]=t[n]}),e}typeof Promise>"u"||v.Promise||(v.Promise=Promise);var S=Object.getPrototypeOf,D={}.hasOwnProperty;function M(e,t){return D.call(e,t)}function K(e,t){typeof t=="function"&&(t=t(S(e))),(typeof Reflect>"u"?E:Reflect.ownKeys)(t).forEach(function(n){Z(e,n,t[n])})}var J=Object.defineProperty;function Z(e,t,n,i){J(e,t,g(n&&M(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},i))}function X(e){return{from:function(t){return e.prototype=Object.create(t.prototype),Z(e.prototype,"constructor",e),{extend:K.bind(null,e.prototype)}}}}var $=Object.getOwnPropertyDescriptor,q=[].slice;function H(e,t,n){return q.call(e,t,n)}function U(e,t){return t(e)}function p(e){if(!e)throw new Error("Assertion Failed")}function G(e){v.setImmediate?setImmediate(e):setTimeout(e,0)}function j(e,t){if(typeof t=="string"&&M(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var n=[],i=0,o=t.length;i<o;++i){var s=j(e,t[i]);n.push(s)}return n}var c=t.indexOf(".");if(c!==-1){var d=e[t.substr(0,c)];return d==null?void 0:j(d,t.substr(c+1))}}function ee(e,t,n){if(e&&t!==void 0&&!("isFrozen"in Object&&Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){p(typeof n!="string"&&"length"in n);for(var i=0,o=t.length;i<o;++i)ee(e,t[i],n[i])}else{var s,c,d=t.indexOf(".");d!==-1?(s=t.substr(0,d),(c=t.substr(d+1))===""?n===void 0?w(e)&&!isNaN(parseInt(s))?e.splice(s,1):delete e[s]:e[s]=n:ee(d=!(d=e[s])||!M(e,s)?e[s]={}:d,c,n)):n===void 0?w(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function xe(e){var t,n={};for(t in e)M(e,t)&&(n[t]=e[t]);return n}var he=[].concat;function ye(e){return he.apply([],e)}var Zt="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(ye([8,16,32,64].map(function(e){return["Int","Uint","Float"].map(function(t){return t+e+"Array"})}))).filter(function(e){return v[e]}),_e=new Set(Zt.map(function(e){return v[e]})),fe=null;function re(e){return fe=new WeakMap,e=function t(n){if(!n||typeof n!="object")return n;var i=fe.get(n);if(i)return i;if(w(n)){i=[],fe.set(n,i);for(var o=0,s=n.length;o<s;++o)i.push(t(n[o]))}else if(_e.has(n.constructor))i=n;else{var c,d=S(n);for(c in i=d===Object.prototype?{}:Object.create(d),fe.set(n,i),n)M(n,c)&&(i[c]=t(n[c]))}return i}(e),fe=null,e}var Me={}.toString;function Ae(e){return Me.call(e).slice(8,-1)}var Y=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Pe=typeof Y=="symbol"?function(e){var t;return e!=null&&(t=e[Y])&&t.apply(e)}:function(){return null};function ge(e,t){return t=e.indexOf(t),0<=t&&e.splice(t,1),0<=t}var De={};function le(e){var t,n,i,o;if(arguments.length===1){if(w(e))return e.slice();if(this===De&&typeof e=="string")return[e];if(o=Pe(e)){for(n=[];!(i=o.next()).done;)n.push(i.value);return n}if(e==null)return[e];if(typeof(t=e.length)!="number")return[e];for(n=new Array(t);t--;)n[t]=e[t];return n}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}var ae=typeof Symbol<"u"?function(e){return e[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},ln=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Dt=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(ln),Se={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function qe(e,t){this.name=e,this.message=t}function ft(e,t){return e+". Errors: "+Object.keys(t).map(function(n){return t[n].toString()}).filter(function(n,i,o){return o.indexOf(n)===i}).join(`
`)}function rt(e,t,n,i){this.failures=t,this.failedKeys=i,this.successCount=n,this.message=ft(e,t)}function et(e,t){this.name="BulkError",this.failures=Object.keys(t).map(function(n){return t[n]}),this.failuresByPos=t,this.message=ft(e,this.failures)}X(qe).from(Error).extend({toString:function(){return this.name+": "+this.message}}),X(rt).from(qe),X(et).from(qe);var Tt=Dt.reduce(function(e,t){return e[t]=t+"Error",e},{}),ht=qe,ne=Dt.reduce(function(e,t){var n=t+"Error";function i(o,s){this.name=n,o?typeof o=="string"?(this.message="".concat(o).concat(s?`
 `+s:""),this.inner=s||null):typeof o=="object"&&(this.message="".concat(o.name," ").concat(o.message),this.inner=o):(this.message=Se[t]||n,this.inner=null)}return X(i).from(ht),e[t]=i,e},{});ne.Syntax=SyntaxError,ne.Type=TypeError,ne.Range=RangeError;var bt=ln.reduce(function(e,t){return e[t+"Error"]=ne[t],e},{}),wt=Dt.reduce(function(e,t){return["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=ne[t]),e},{});function Oe(){}function dt(e){return e}function Pn(e,t){return e==null||e===dt?t:function(n){return t(e(n))}}function Ct(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function hn(e,t){return e===Oe?t:function(){var n=e.apply(this,arguments);n!==void 0&&(arguments[0]=n);var i=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var s=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?Ct(i,this.onsuccess):i),o&&(this.onerror=this.onerror?Ct(o,this.onerror):o),s!==void 0?s:n}}function mn(e,t){return e===Oe?t:function(){e.apply(this,arguments);var n=this.onsuccess,i=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?Ct(n,this.onsuccess):n),i&&(this.onerror=this.onerror?Ct(i,this.onerror):i)}}function Tn(e,t){return e===Oe?t:function(n){var i=e.apply(this,arguments);g(n,i);var o=this.onsuccess,s=this.onerror;return this.onsuccess=null,this.onerror=null,n=t.apply(this,arguments),o&&(this.onsuccess=this.onsuccess?Ct(o,this.onsuccess):o),s&&(this.onerror=this.onerror?Ct(s,this.onerror):s),i===void 0?n===void 0?void 0:n:g(i,n)}}function Cn(e,t){return e===Oe?t:function(){return t.apply(this,arguments)!==!1&&e.apply(this,arguments)}}function _t(e,t){return e===Oe?t:function(){var n=e.apply(this,arguments);if(n&&typeof n.then=="function"){for(var i=this,o=arguments.length,s=new Array(o);o--;)s[o]=arguments[o];return n.then(function(){return t.apply(i,s)})}return t.apply(this,arguments)}}wt.ModifyError=rt,wt.DexieError=qe,wt.BulkError=et;var tt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function en(e){tt=e}var xt={},tn=100,Zt=typeof Promise>"u"?[]:function(){var e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,S(e),e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,S(t),e]}(),ln=Zt[0],Dt=Zt[1],Zt=Zt[2],Dt=Dt&&Dt.then,Lt=ln&&ln.constructor,nn=!!Zt,qt=function(e,t){te.push([e,t]),Dn&&(queueMicrotask(jn),Dn=!1)},rn=!0,Dn=!0,Gt=[],Sn=[],Vn=dt,Ft={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Oe,pgp:!1,env:{},finalize:Oe},k=Ft,te=[],oe=0,Te=[];function L(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var t=this._PSD=k;if(typeof e!="function"){if(e!==xt)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Nt(this,this._value))}this._state=null,this._value=null,++t.ref,function n(i,o){try{o(function(s){if(i._state===null){if(s===i)throw new TypeError("A promise cannot be resolved with itself.");var c=i._lib&&Ot();s&&typeof s.then=="function"?n(i,function(d,b){s instanceof L?s._then(d,b):s.then(d,b)}):(i._state=!0,i._value=s,Hn(i)),c&&an()}},Nt.bind(null,i))}catch(s){Nt(i,s)}}(this,e)}var nt={get:function(){var e=k,t=hr;function n(i,o){var s=this,c=!e.global&&(e!==k||t!==hr),d=c&&!sn(),b=new L(function(m,A){Mt(s,new pt(Hi(i,e,c,d),Hi(o,e,c,d),m,A,e))});return this._consoleTask&&(b._consoleTask=this._consoleTask),b}return n.prototype=xt,n},set:function(e){Z(this,"then",e&&e.prototype===xt?nt:{get:function(){return e},set:nt.set})}};function pt(e,t,n,i,o){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=n,this.reject=i,this.psd=o}function Nt(e,t){var n,i;Sn.push(t),e._state===null&&(n=e._lib&&Ot(),t=Vn(t),e._state=!1,e._value=t,i=e,Gt.some(function(o){return o._value===i._value})||Gt.push(i),Hn(e),n&&an())}function Hn(e){var t=e._listeners;e._listeners=[];for(var n=0,i=t.length;n<i;++n)Mt(e,t[n]);var o=e._PSD;--o.ref||o.finalize(),oe===0&&(++oe,qt(function(){--oe==0&&yn()},[]))}function Mt(e,t){if(e._state!==null){var n=e._state?t.onFulfilled:t.onRejected;if(n===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++oe,qt(Wn,[n,e,t])}else e._listeners.push(t)}function Wn(e,t,n){try{var i,o=t._value;!t._state&&Sn.length&&(Sn=[]),i=tt&&t._consoleTask?t._consoleTask.run(function(){return e(o)}):e(o),t._state||Sn.indexOf(o)!==-1||function(s){for(var c=Gt.length;c;)if(Gt[--c]._value===s._value)return Gt.splice(c,1)}(t),n.resolve(i)}catch(s){n.reject(s)}finally{--oe==0&&yn(),--n.psd.ref||n.psd.finalize()}}function jn(){gn(Ft,function(){Ot()&&an()})}function Ot(){var e=rn;return Dn=rn=!1,e}function an(){var e,t,n;do for(;0<te.length;)for(e=te,te=[],n=e.length,t=0;t<n;++t){var i=e[t];i[0].apply(null,i[1])}while(0<te.length);Dn=rn=!0}function yn(){var e=Gt;Gt=[],e.forEach(function(i){i._PSD.onunhandled.call(null,i._value,i)});for(var t=Te.slice(0),n=t.length;n;)t[--n]()}function Yt(e){return new L(xt,!1,e)}function He(e,t){var n=k;return function(){var i=Ot(),o=k;try{return un(n,!0),e.apply(this,arguments)}catch(s){t&&t(s)}finally{un(o,!1),i&&an()}}}K(L.prototype,{then:nt,_then:function(e,t){Mt(this,new pt(null,null,e,t,k))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=e,n=arguments[1];return typeof t=="function"?this.then(null,function(i){return(i instanceof t?n:Yt)(i)}):this.then(null,function(i){return(i&&i.name===t?n:Yt)(i)})},finally:function(e){return this.then(function(t){return L.resolve(e()).then(function(){return t})},function(t){return L.resolve(e()).then(function(){return Yt(t)})})},timeout:function(e,t){var n=this;return e<1/0?new L(function(i,o){var s=setTimeout(function(){return o(new ne.Timeout(t))},e);n.then(i,o).finally(clearTimeout.bind(null,s))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&Z(L.prototype,Symbol.toStringTag,"Dexie.Promise"),Ft.env=Vi(),K(L,{all:function(){var e=le.apply(null,arguments).map(mr);return new L(function(t,n){e.length===0&&t([]);var i=e.length;e.forEach(function(o,s){return L.resolve(o).then(function(c){e[s]=c,--i||t(e)},n)})})},resolve:function(e){return e instanceof L?e:e&&typeof e.then=="function"?new L(function(t,n){e.then(t,n)}):new L(xt,!0,e)},reject:Yt,race:function(){var e=le.apply(null,arguments).map(mr);return new L(function(t,n){e.map(function(i){return L.resolve(i).then(t,n)})})},PSD:{get:function(){return k},set:function(e){return k=e}},totalEchoes:{get:function(){return hr}},newPSD:on,usePSD:gn,scheduler:{get:function(){return qt},set:function(e){qt=e}},rejectionMapper:{get:function(){return Vn},set:function(e){Vn=e}},follow:function(e,t){return new L(function(n,i){return on(function(o,s){var c=k;c.unhandleds=[],c.onunhandled=s,c.finalize=Ct(function(){var d,b=this;d=function(){b.unhandleds.length===0?o():s(b.unhandleds[0])},Te.push(function m(){d(),Te.splice(Te.indexOf(m),1)}),++oe,qt(function(){--oe==0&&yn()},[])},c.finalize),e()},t,n,i)})}}),Lt&&(Lt.allSettled&&Z(L,"allSettled",function(){var e=le.apply(null,arguments).map(mr);return new L(function(t){e.length===0&&t([]);var n=e.length,i=new Array(n);e.forEach(function(o,s){return L.resolve(o).then(function(c){return i[s]={status:"fulfilled",value:c}},function(c){return i[s]={status:"rejected",reason:c}}).then(function(){return--n||t(i)})})})}),Lt.any&&typeof AggregateError<"u"&&Z(L,"any",function(){var e=le.apply(null,arguments).map(mr);return new L(function(t,n){e.length===0&&n(new AggregateError([]));var i=e.length,o=new Array(i);e.forEach(function(s,c){return L.resolve(s).then(function(d){return t(d)},function(d){o[c]=d,--i||n(new AggregateError(o))})})})}));var it={awaits:0,echoes:0,id:0},lo=0,pr=[],vr=0,hr=0,co=0;function on(e,t,n,i){var o=k,s=Object.create(o);return s.parent=o,s.ref=0,s.global=!1,s.id=++co,Ft.env,s.env=nn?{Promise:L,PromiseProp:{value:L,configurable:!0,writable:!0},all:L.all,race:L.race,allSettled:L.allSettled,any:L.any,resolve:L.resolve,reject:L.reject}:{},t&&g(s,t),++o.ref,s.finalize=function(){--this.parent.ref||this.parent.finalize()},i=gn(s,e,n,i),s.ref===0&&s.finalize(),i}function Rn(){return it.id||(it.id=++lo),++it.awaits,it.echoes+=tn,it.id}function sn(){return!!it.awaits&&(--it.awaits==0&&(it.id=0),it.echoes=it.awaits*tn,!0)}function mr(e){return it.echoes&&e&&e.constructor===Lt?(Rn(),e.then(function(t){return sn(),t},function(t){return sn(),Xe(t)})):e}function fo(){var e=pr[pr.length-1];pr.pop(),un(e,!1)}function un(e,t){var n,i=k;(t?!it.echoes||vr++&&e===k:!vr||--vr&&e===k)||queueMicrotask(t?(function(o){++hr,it.echoes&&--it.echoes!=0||(it.echoes=it.awaits=it.id=0),pr.push(k),un(o,!0)}).bind(null,e):fo),e!==k&&(k=e,i===Ft&&(Ft.env=Vi()),nn&&(n=Ft.env.Promise,t=e.env,(i.global||e.global)&&(Object.defineProperty(v,"Promise",t.PromiseProp),n.all=t.all,n.race=t.race,n.resolve=t.resolve,n.reject=t.reject,t.allSettled&&(n.allSettled=t.allSettled),t.any&&(n.any=t.any))))}function Vi(){var e=v.Promise;return nn?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(v,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject}:{}}function gn(e,t,n,i,o){var s=k;try{return un(e,!0),t(n,i,o)}finally{un(s,!1)}}function Hi(e,t,n,i){return typeof e!="function"?e:function(){var o=k;n&&Rn(),un(t,!0);try{return e.apply(this,arguments)}finally{un(o,!1),i&&queueMicrotask(sn)}}}function Wr(e){Promise===Lt&&it.echoes===0?vr===0?e():enqueueNativeMicroTask(e):setTimeout(e,0)}(""+Dt).indexOf("[native code]")===-1&&(Rn=sn=Oe);var Xe=L.reject,ln="4.0.1-beta.14",bn="ï¿¿",Xt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Wi="String expected.",Bn=[],yr="__dbnames",Ur="readonly",Gr="readwrite";function wn(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var Ui={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function gr(e){return typeof e!="string"||/\./.test(e)?function(t){return t}:function(t){return t[e]===void 0&&e in t&&delete(t=re(t))[e],t}}function Gi(){throw ne.Type()}function Be(e,t){try{var n=Yi(e),i=Yi(t);if(n!==i)return n==="Array"?1:i==="Array"?-1:n==="binary"?1:i==="binary"?-1:n==="string"?1:i==="string"?-1:n==="Date"?1:i!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return t<e?1:e<t?-1:0;case"binary":return function(o,s){for(var c=o.length,d=s.length,b=c<d?c:d,m=0;m<b;++m)if(o[m]!==s[m])return o[m]<s[m]?-1:1;return c===d?0:c<d?-1:1}(Xi(e),Xi(t));case"Array":return function(o,s){for(var c=o.length,d=s.length,b=c<d?c:d,m=0;m<b;++m){var A=Be(o[m],s[m]);if(A!==0)return A}return c===d?0:c<d?-1:1}(e,t)}}catch{}return NaN}function Yi(e){var t=typeof e;return t!="object"?t:ArrayBuffer.isView(e)?"binary":(e=Ae(e),e==="ArrayBuffer"?"binary":e)}function Xi(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}var Zi=(ze.prototype._trans=function(e,t,n){var i=this._tx||k.trans,o=this.name,s=tt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(e==="readonly"?"read":"write"," ").concat(this.name));function c(m,A,h){if(!h.schema[o])throw new ne.NotFound("Table "+o+" not part of transaction");return t(h.idbtrans,h)}var d=Ot();try{var b=i&&i.db._novip===this.db._novip?i===k.trans?i._promise(e,c,n):on(function(){return i._promise(e,c,n)},{trans:i,transless:k.transless||k}):function m(A,h,y,_){if(A.idbdb&&(A._state.openComplete||k.letThrough||A._vip)){var O=A._createTransaction(h,y,A._dbSchema);try{O.create(),A._state.PR1398_maxLoop=3}catch(P){return P.name===Tt.InvalidState&&A.isOpen()&&0<--A._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),A.close({disableAutoOpen:!1}),A.open().then(function(){return m(A,h,y,_)})):Xe(P)}return O._promise(h,function(P,x){return on(function(){return k.trans=O,_(P,x,O)})}).then(function(P){if(h==="readwrite")try{O.idbtrans.commit()}catch{}return h==="readonly"?P:O._completion.then(function(){return P})})}if(A._state.openComplete)return Xe(new ne.DatabaseClosed(A._state.dbOpenError));if(!A._state.isBeingOpened){if(!A._state.autoOpen)return Xe(new ne.DatabaseClosed);A.open().catch(Oe)}return A._state.dbReadyPromise.then(function(){return m(A,h,y,_)})}(this.db,e,[this.name],c);return s&&(b._consoleTask=s,b=b.catch(function(m){return console.trace(m),Xe(m)})),b}finally{d&&an()}},ze.prototype.get=function(e,t){var n=this;return e&&e.constructor===Object?this.where(e).first(t):e==null?Xe(new ne.Type("Invalid argument to Table.get()")):this._trans("readonly",function(i){return n.core.get({trans:i,key:e}).then(function(o){return n.hook.reading.fire(o)})}).then(t)},ze.prototype.where=function(e){if(typeof e=="string")return new this.db.WhereClause(this,e);if(w(e))return new this.db.WhereClause(this,"[".concat(e.join("+"),"]"));var t=E(e);if(t.length===1)return this.where(t[0]).equals(e[t[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter(function(b){if(b.compound&&t.every(function(A){return 0<=b.keyPath.indexOf(A)})){for(var m=0;m<t.length;++m)if(t.indexOf(b.keyPath[m])===-1)return!1;return!0}return!1}).sort(function(b,m){return b.keyPath.length-m.keyPath.length})[0];if(n&&this.db._maxKey!==bn){var c=n.keyPath.slice(0,t.length);return this.where(c).equals(c.map(function(m){return e[m]}))}!n&&tt&&console.warn("The query ".concat(JSON.stringify(e)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(t.join("+"),"]"));var i=this.schema.idxByName,o=this.db._deps.indexedDB;function s(b,m){return o.cmp(b,m)===0}var d=t.reduce(function(y,m){var A=y[0],h=y[1],y=i[m],_=e[m];return[A||y,A||!y?wn(h,y&&y.multi?function(O){return O=j(O,m),w(O)&&O.some(function(P){return s(_,P)})}:function(O){return s(_,j(O,m))}):h]},[null,null]),c=d[0],d=d[1];return c?this.where(c.name).equals(e[c.keyPath]).filter(d):n?this.filter(d):this.where(t).equals("")},ze.prototype.filter=function(e){return this.toCollection().and(e)},ze.prototype.count=function(e){return this.toCollection().count(e)},ze.prototype.offset=function(e){return this.toCollection().offset(e)},ze.prototype.limit=function(e){return this.toCollection().limit(e)},ze.prototype.each=function(e){return this.toCollection().each(e)},ze.prototype.toArray=function(e){return this.toCollection().toArray(e)},ze.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},ze.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,w(e)?"[".concat(e.join("+"),"]"):e))},ze.prototype.reverse=function(){return this.toCollection().reverse()},ze.prototype.mapToClass=function(e){var t,n=this.db,i=this.name;function o(){return t!==null&&t.apply(this,arguments)||this}(this.schema.mappedClass=e).prototype instanceof Gi&&(function(b,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function A(){this.constructor=b}u(b,m),b.prototype=m===null?Object.create(m):(A.prototype=m.prototype,new A)}(o,t=e),Object.defineProperty(o.prototype,"db",{get:function(){return n},enumerable:!1,configurable:!0}),o.prototype.table=function(){return i},e=o);for(var s=new Set,c=e.prototype;c;c=S(c))Object.getOwnPropertyNames(c).forEach(function(b){return s.add(b)});function d(b){if(!b)return b;var m,A=Object.create(e.prototype);for(m in b)if(!s.has(m))try{A[m]=b[m]}catch{}return A}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=d,this.hook("reading",d),e},ze.prototype.defineClass=function(){return this.mapToClass(function(e){g(this,e)})},ze.prototype.add=function(e,t){var n=this,i=this.schema.primKey,o=i.auto,s=i.keyPath,c=e;return s&&o&&(c=gr(s)(e)),this._trans("readwrite",function(d){return n.core.mutate({trans:d,type:"add",keys:t!=null?[t]:null,values:[c]})}).then(function(d){return d.numFailures?L.reject(d.failures[0]):d.lastResult}).then(function(d){if(s)try{ee(e,s,d)}catch{}return d})},ze.prototype.update=function(e,t){return typeof e!="object"||w(e)?this.where(":id").equals(e).modify(t):(e=j(e,this.schema.primKey.keyPath),e===void 0?Xe(new ne.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(e).modify(t))},ze.prototype.put=function(e,t){var n=this,i=this.schema.primKey,o=i.auto,s=i.keyPath,c=e;return s&&o&&(c=gr(s)(e)),this._trans("readwrite",function(d){return n.core.mutate({trans:d,type:"put",values:[c],keys:t!=null?[t]:null})}).then(function(d){return d.numFailures?L.reject(d.failures[0]):d.lastResult}).then(function(d){if(s)try{ee(e,s,d)}catch{}return d})},ze.prototype.delete=function(e){var t=this;return this._trans("readwrite",function(n){return t.core.mutate({trans:n,type:"delete",keys:[e]})}).then(function(n){return n.numFailures?L.reject(n.failures[0]):void 0})},ze.prototype.clear=function(){var e=this;return this._trans("readwrite",function(t){return e.core.mutate({trans:t,type:"deleteRange",range:Ui})}).then(function(t){return t.numFailures?L.reject(t.failures[0]):void 0})},ze.prototype.bulkGet=function(e){var t=this;return this._trans("readonly",function(n){return t.core.getMany({keys:e,trans:n}).then(function(i){return i.map(function(o){return t.hook.reading.fire(o)})})})},ze.prototype.bulkAdd=function(e,t,n){var i=this,o=Array.isArray(t)?t:void 0,s=(n=n||(o?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",function(c){var m=i.schema.primKey,d=m.auto,m=m.keyPath;if(m&&o)throw new ne.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(o&&o.length!==e.length)throw new ne.InvalidArgument("Arguments objects and keys must have the same length");var b=e.length,m=m&&d?e.map(gr(m)):e;return i.core.mutate({trans:c,type:"add",keys:o,values:m,wantResults:s}).then(function(O){var h=O.numFailures,y=O.results,_=O.lastResult,O=O.failures;if(h===0)return s?y:_;throw new et("".concat(i.name,".bulkAdd(): ").concat(h," of ").concat(b," operations failed"),O)})})},ze.prototype.bulkPut=function(e,t,n){var i=this,o=Array.isArray(t)?t:void 0,s=(n=n||(o?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",function(c){var m=i.schema.primKey,d=m.auto,m=m.keyPath;if(m&&o)throw new ne.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(o&&o.length!==e.length)throw new ne.InvalidArgument("Arguments objects and keys must have the same length");var b=e.length,m=m&&d?e.map(gr(m)):e;return i.core.mutate({trans:c,type:"put",keys:o,values:m,wantResults:s}).then(function(O){var h=O.numFailures,y=O.results,_=O.lastResult,O=O.failures;if(h===0)return s?y:_;throw new et("".concat(i.name,".bulkPut(): ").concat(h," of ").concat(b," operations failed"),O)})})},ze.prototype.bulkUpdate=function(e){var t=this,n=this.core,i=e.map(function(c){return c.key}),o=e.map(function(c){return c.changes}),s=[];return this._trans("readwrite",function(c){return n.getMany({trans:c,keys:i,cache:"clone"}).then(function(d){var b=[],m=[];e.forEach(function(h,y){var _=h.key,O=h.changes,P=d[y];if(P){for(var x=0,T=Object.keys(O);x<T.length;x++){var C=T[x],R=O[C];if(C===t.schema.primKey.keyPath){if(Be(R,_)!==0)throw new ne.Constraint("Cannot update primary key in bulkUpdate()")}else ee(P,C,R)}s.push(y),b.push(_),m.push(P)}});var A=b.length;return n.mutate({trans:c,type:"put",keys:b,values:m,updates:{keys:i,changeSpecs:o}}).then(function(h){var y=h.numFailures,_=h.failures;if(y===0)return A;for(var O=0,P=Object.keys(_);O<P.length;O++){var x,T=P[O],C=s[Number(T)];C!=null&&(x=_[T],delete _[T],_[C]=x)}throw new et("".concat(t.name,".bulkUpdate(): ").concat(y," of ").concat(A," operations failed"),_)})})})},ze.prototype.bulkDelete=function(e){var t=this,n=e.length;return this._trans("readwrite",function(i){return t.core.mutate({trans:i,type:"delete",keys:e})}).then(function(c){var o=c.numFailures,s=c.lastResult,c=c.failures;if(o===0)return s;throw new et("".concat(t.name,".bulkDelete(): ").concat(o," of ").concat(n," operations failed"),c)})},ze);function ze(){}function Un(e){function t(c,d){if(d){for(var b=arguments.length,m=new Array(b-1);--b;)m[b-1]=arguments[b];return n[c].subscribe.apply(null,m),e}if(typeof c=="string")return n[c]}var n={};t.addEventType=s;for(var i=1,o=arguments.length;i<o;++i)s(arguments[i]);return t;function s(c,d,b){if(typeof c!="object"){var m;d=d||Cn;var A={subscribers:[],fire:b=b||Oe,subscribe:function(h){A.subscribers.indexOf(h)===-1&&(A.subscribers.push(h),A.fire=d(A.fire,h))},unsubscribe:function(h){A.subscribers=A.subscribers.filter(function(y){return y!==h}),A.fire=A.subscribers.reduce(d,b)}};return n[c]=t[c]=A}E(m=c).forEach(function(h){var y=m[h];if(w(y))s(h,m[h][0],m[h][1]);else{if(y!=="asap")throw new ne.InvalidArgument("Invalid event config");var _=s(h,dt,function(){for(var O=arguments.length,P=new Array(O);O--;)P[O]=arguments[O];_.subscribers.forEach(function(x){G(function(){x.apply(null,P)})})})}})}}function Gn(e,t){return X(t).from({prototype:e}),t}function Mn(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Yr(e,t){e.filter=wn(e.filter,t)}function Xr(e,t,n){var i=e.replayFilter;e.replayFilter=i?function(){return wn(i(),t())}:t,e.justLimit=n&&!i}function br(e,t){if(e.isPrimKey)return t.primaryKey;var n=t.getIndexByKeyPath(e.index);if(!n)throw new ne.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function Qi(e,t,n){var i=br(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:i,range:e.range}})}function wr(e,t,n,i){var o=e.replayFilter?wn(e.filter,e.replayFilter()):e.filter;if(e.or){var s={},c=function(d,b,m){var A,h;o&&!o(b,m,function(y){return b.stop(y)},function(y){return b.fail(y)})||((h=""+(A=b.primaryKey))=="[object ArrayBuffer]"&&(h=""+new Uint8Array(A)),M(s,h)||(s[h]=!0,t(d,b,m)))};return Promise.all([e.or._iterate(c,n),Ji(Qi(e,i,n),e.algorithm,c,!e.keysOnly&&e.valueMapper)])}return Ji(Qi(e,i,n),wn(e.algorithm,o),t,!e.keysOnly&&e.valueMapper)}function Ji(e,t,n,i){var o=He(i?function(s,c,d){return n(i(s),c,d)}:n);return e.then(function(s){if(s)return s.start(function(){var c=function(){return s.continue()};t&&!t(s,function(d){return c=d},function(d){s.stop(d),c=Oe},function(d){s.fail(d),c=Oe})||o(s.value,s,function(d){return c=d}),c()})})}var Zt=Symbol(),Zr=($i.prototype.execute=function(e){var t=(t=this.replacePrefix)===null||t===void 0?void 0:t[0];return t&&typeof e=="string"&&e.startsWith(t)?this.replacePrefix[1]+e.substring(t.length):e},$i);function $i(e){Object.assign(this,e)}var po=(Re.prototype._read=function(e,t){var n=this._ctx;return n.error?n.table._trans(null,Xe.bind(null,n.error)):n.table._trans("readonly",e).then(t)},Re.prototype._write=function(e){var t=this._ctx;return t.error?t.table._trans(null,Xe.bind(null,t.error)):t.table._trans("readwrite",e,"locked")},Re.prototype._addAlgorithm=function(e){var t=this._ctx;t.algorithm=wn(t.algorithm,e)},Re.prototype._iterate=function(e,t){return wr(this._ctx,e,t,this._ctx.table.core)},Re.prototype.clone=function(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&g(n,e),t._ctx=n,t},Re.prototype.raw=function(){return this._ctx.valueMapper=null,this},Re.prototype.each=function(e){var t=this._ctx;return this._read(function(n){return wr(t,e,n,t.table.core)})},Re.prototype.count=function(e){var t=this;return this._read(function(n){var i=t._ctx,o=i.table.core;if(Mn(i,!0))return o.count({trans:n,query:{index:br(i,o.schema),range:i.range}}).then(function(c){return Math.min(c,i.limit)});var s=0;return wr(i,function(){return++s,!1},n,o).then(function(){return s})}).then(e)},Re.prototype.sortBy=function(e,t){var n=e.split(".").reverse(),i=n[0],o=n.length-1;function s(b,m){return m?s(b[n[m]],m-1):b[i]}var c=this._ctx.dir==="next"?1:-1;function d(b,m){return b=s(b,o),m=s(m,o),b<m?-c:m<b?c:0}return this.toArray(function(b){return b.sort(d)}).then(t)},Re.prototype.toArray=function(e){var t=this;return this._read(function(n){var i=t._ctx;if(i.dir==="next"&&Mn(i,!0)&&0<i.limit){var o=i.valueMapper,s=br(i,i.table.core.schema);return i.table.core.query({trans:n,limit:i.limit,values:!0,query:{index:s,range:i.range}}).then(function(d){return d=d.result,o?d.map(o):d})}var c=[];return wr(i,function(d){return c.push(d)},n,i.table.core).then(function(){return c})},e)},Re.prototype.offset=function(e){var t=this._ctx;return e<=0||(t.offset+=e,Mn(t)?Xr(t,function(){var n=e;return function(i,o){return n===0||(n===1?--n:o(function(){i.advance(n),n=0}),!1)}}):Xr(t,function(){var n=e;return function(){return--n<0}})),this},Re.prototype.limit=function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),Xr(this._ctx,function(){var t=e;return function(n,i,o){return--t<=0&&i(o),0<=t}},!0),this},Re.prototype.until=function(e,t){return Yr(this._ctx,function(n,i,o){return!e(n.value)||(i(o),t)}),this},Re.prototype.first=function(e){return this.limit(1).toArray(function(t){return t[0]}).then(e)},Re.prototype.last=function(e){return this.reverse().first(e)},Re.prototype.filter=function(e){var t;return Yr(this._ctx,function(n){return e(n.value)}),(t=this._ctx).isMatch=wn(t.isMatch,e),this},Re.prototype.and=function(e){return this.filter(e)},Re.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)},Re.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Re.prototype.desc=function(){return this.reverse()},Re.prototype.eachKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(n,i){e(i.key,i)})},Re.prototype.eachUniqueKey=function(e){return this._ctx.unique="unique",this.eachKey(e)},Re.prototype.eachPrimaryKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(n,i){e(i.primaryKey,i)})},Re.prototype.keys=function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each(function(i,o){n.push(o.key)}).then(function(){return n}).then(e)},Re.prototype.primaryKeys=function(e){var t=this._ctx;if(t.dir==="next"&&Mn(t,!0)&&0<t.limit)return this._read(function(i){var o=br(t,t.table.core.schema);return t.table.core.query({trans:i,values:!1,limit:t.limit,query:{index:o,range:t.range}})}).then(function(i){return i.result}).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each(function(i,o){n.push(o.primaryKey)}).then(function(){return n}).then(e)},Re.prototype.uniqueKeys=function(e){return this._ctx.unique="unique",this.keys(e)},Re.prototype.firstKey=function(e){return this.limit(1).keys(function(t){return t[0]}).then(e)},Re.prototype.lastKey=function(e){return this.reverse().firstKey(e)},Re.prototype.distinct=function(){var e=this._ctx,e=e.index&&e.table.schema.idxByName[e.index];if(!e||!e.multi)return this;var t={};return Yr(this._ctx,function(o){var i=o.primaryKey.toString(),o=M(t,i);return t[i]=!0,!o}),this},Re.prototype.modify=function(e){var t=this,n=this._ctx;return this._write(function(i){var o,s,c;c=typeof e=="function"?e:(o=E(e),s=o.length,function(x){for(var T=!1,C=0;C<s;++C){var R=o[C],B=e[R],I=j(x,R);B instanceof Zr?(ee(x,R,B.execute(I)),T=!0):I!==B&&(ee(x,R,B),T=!0)}return T});function d(x,R){var C=R.failures,R=R.numFailures;O+=x-R;for(var B=0,I=E(C);B<I.length;B++){var W=I[B];_.push(C[W])}}var b=n.table.core,m=b.schema.primaryKey,A=m.outbound,h=m.extractKey,y=t.db._options.modifyChunkSize||200,_=[],O=0,P=[];return t.clone().primaryKeys().then(function(x){function T(C){var R=Math.min(y,x.length-C);return b.getMany({trans:i,keys:x.slice(C,C+R),cache:"immutable"}).then(function(B){for(var I=[],W=[],F=A?[]:null,Q=[],N=0;N<R;++N){var se=B[N],ce={value:re(se),primKey:x[C+N]};c.call(ce,ce.value,ce)!==!1&&(ce.value==null?Q.push(x[C+N]):A||Be(h(se),h(ce.value))===0?(W.push(ce.value),A&&F.push(x[C+N])):(Q.push(x[C+N]),I.push(ce.value)))}var Ke=Mn(n)&&n.limit===1/0&&(typeof e!="function"||e===Qr)&&{index:n.index,range:n.range};return Promise.resolve(0<I.length&&b.mutate({trans:i,type:"add",values:I}).then(function(be){for(var Fe in be.failures)Q.splice(parseInt(Fe),1);d(I.length,be)})).then(function(){return(0<W.length||Ke&&typeof e=="object")&&b.mutate({trans:i,type:"put",keys:F,values:W,criteria:Ke,changeSpec:typeof e!="function"&&e}).then(function(be){return d(W.length,be)})}).then(function(){return(0<Q.length||Ke&&e===Qr)&&b.mutate({trans:i,type:"delete",keys:Q,criteria:Ke}).then(function(be){return d(Q.length,be)})}).then(function(){return x.length>C+R&&T(C+y)})})}return T(0).then(function(){if(0<_.length)throw new rt("Error modifying one or more objects",_,O,P);return x.length})})})},Re.prototype.delete=function(){var e=this._ctx,t=e.range;return Mn(e)&&(e.isPrimKey||t.type===3)?this._write(function(n){var i=e.table.core.schema.primaryKey,o=t;return e.table.core.count({trans:n,query:{index:i,range:o}}).then(function(s){return e.table.core.mutate({trans:n,type:"deleteRange",range:o}).then(function(c){var d=c.failures;if(c.lastResult,c.results,c=c.numFailures,c)throw new rt("Could not delete some values",Object.keys(d).map(function(b){return d[b]}),s-c);return s-c})})}):this.modify(Qr)},Re);function Re(){}var Qr=function(e,t){return t.value=null};function vo(e,t){return e<t?-1:e===t?0:1}function ho(e,t){return t<e?-1:e===t?0:1}function kt(e,t,n){return e=e instanceof ta?new e.Collection(e):e,e._ctx.error=new(n||TypeError)(t),e}function Kn(e){return new e.Collection(e,function(){return ea("")}).limit(0)}function _r(e,t,n,i){var o,s,c,d,b,m,A,h=n.length;if(!n.every(function(O){return typeof O=="string"}))return kt(e,Wi);function y(O){o=O==="next"?function(x){return x.toUpperCase()}:function(x){return x.toLowerCase()},s=O==="next"?function(x){return x.toLowerCase()}:function(x){return x.toUpperCase()},c=O==="next"?vo:ho;var P=n.map(function(x){return{lower:s(x),upper:o(x)}}).sort(function(x,T){return c(x.lower,T.lower)});d=P.map(function(x){return x.upper}),b=P.map(function(x){return x.lower}),A=(m=O)==="next"?"":i}y("next"),e=new e.Collection(e,function(){return cn(d[0],b[h-1]+i)}),e._ondirectionchange=function(O){y(O)};var _=0;return e._addAlgorithm(function(O,P,x){var T=O.key;if(typeof T!="string")return!1;var C=s(T);if(t(C,b,_))return!0;for(var R=null,B=_;B<h;++B){var I=function(W,F,Q,N,se,ce){for(var Ke=Math.min(W.length,N.length),be=-1,Fe=0;Fe<Ke;++Fe){var Et=F[Fe];if(Et!==N[Fe])return se(W[Fe],Q[Fe])<0?W.substr(0,Fe)+Q[Fe]+Q.substr(Fe+1):se(W[Fe],N[Fe])<0?W.substr(0,Fe)+N[Fe]+Q.substr(Fe+1):0<=be?W.substr(0,be)+F[be]+Q.substr(be+1):null;se(W[Fe],Et)<0&&(be=Fe)}return Ke<N.length&&ce==="next"?W+Q.substr(W.length):Ke<W.length&&ce==="prev"?W.substr(0,Q.length):be<0?null:W.substr(0,be)+N[be]+Q.substr(be+1)}(T,C,d[B],b[B],c,m);I===null&&R===null?_=B+1:(R===null||0<c(R,I))&&(R=I)}return P(R!==null?function(){O.continue(R+A)}:x),!1}),e}function cn(e,t,n,i){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:i}}function ea(e){return{type:1,lower:e,upper:e}}var ta=(Object.defineProperty(at.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),at.prototype.between=function(e,t,n,i){n=n!==!1,i=i===!0;try{return 0<this._cmp(e,t)||this._cmp(e,t)===0&&(n||i)&&(!n||!i)?Kn(this):new this.Collection(this,function(){return cn(e,t,!n,!i)})}catch{return kt(this,Xt)}},at.prototype.equals=function(e){return e==null?kt(this,Xt):new this.Collection(this,function(){return ea(e)})},at.prototype.above=function(e){return e==null?kt(this,Xt):new this.Collection(this,function(){return cn(e,void 0,!0)})},at.prototype.aboveOrEqual=function(e){return e==null?kt(this,Xt):new this.Collection(this,function(){return cn(e,void 0,!1)})},at.prototype.below=function(e){return e==null?kt(this,Xt):new this.Collection(this,function(){return cn(void 0,e,!1,!0)})},at.prototype.belowOrEqual=function(e){return e==null?kt(this,Xt):new this.Collection(this,function(){return cn(void 0,e)})},at.prototype.startsWith=function(e){return typeof e!="string"?kt(this,Wi):this.between(e,e+bn,!0,!0)},at.prototype.startsWithIgnoreCase=function(e){return e===""?this.startsWith(e):_r(this,function(t,n){return t.indexOf(n[0])===0},[e],bn)},at.prototype.equalsIgnoreCase=function(e){return _r(this,function(t,n){return t===n[0]},[e],"")},at.prototype.anyOfIgnoreCase=function(){var e=le.apply(De,arguments);return e.length===0?Kn(this):_r(this,function(t,n){return n.indexOf(t)!==-1},e,"")},at.prototype.startsWithAnyOfIgnoreCase=function(){var e=le.apply(De,arguments);return e.length===0?Kn(this):_r(this,function(t,n){return n.some(function(i){return t.indexOf(i)===0})},e,bn)},at.prototype.anyOf=function(){var e=this,t=le.apply(De,arguments),n=this._cmp;try{t.sort(n)}catch{return kt(this,Xt)}if(t.length===0)return Kn(this);var i=new this.Collection(this,function(){return cn(t[0],t[t.length-1])});i._ondirectionchange=function(s){n=s==="next"?e._ascending:e._descending,t.sort(n)};var o=0;return i._addAlgorithm(function(s,c,d){for(var b=s.key;0<n(b,t[o]);)if(++o===t.length)return c(d),!1;return n(b,t[o])===0||(c(function(){s.continue(t[o])}),!1)}),i},at.prototype.notEqual=function(e){return this.inAnyRange([[-1/0,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},at.prototype.noneOf=function(){var e=le.apply(De,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch{return kt(this,Xt)}var t=e.reduce(function(n,i){return n?n.concat([[n[n.length-1][1],i]]):[[-1/0,i]]},null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})},at.prototype.inAnyRange=function(T,t){var n=this,i=this._cmp,o=this._ascending,s=this._descending,c=this._min,d=this._max;if(T.length===0)return Kn(this);if(!T.every(function(C){return C[0]!==void 0&&C[1]!==void 0&&o(C[0],C[1])<=0}))return kt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ne.InvalidArgument);var b=!t||t.includeLowers!==!1,m=t&&t.includeUppers===!0,A,h=o;function y(C,R){return h(C[0],R[0])}try{(A=T.reduce(function(C,R){for(var B=0,I=C.length;B<I;++B){var W=C[B];if(i(R[0],W[1])<0&&0<i(R[1],W[0])){W[0]=c(W[0],R[0]),W[1]=d(W[1],R[1]);break}}return B===I&&C.push(R),C},[])).sort(y)}catch{return kt(this,Xt)}var _=0,O=m?function(C){return 0<o(C,A[_][1])}:function(C){return 0<=o(C,A[_][1])},P=b?function(C){return 0<s(C,A[_][0])}:function(C){return 0<=s(C,A[_][0])},x=O,T=new this.Collection(this,function(){return cn(A[0][0],A[A.length-1][1],!b,!m)});return T._ondirectionchange=function(C){h=C==="next"?(x=O,o):(x=P,s),A.sort(y)},T._addAlgorithm(function(C,R,B){for(var I,W=C.key;x(W);)if(++_===A.length)return R(B),!1;return!O(I=W)&&!P(I)||(n._cmp(W,A[_][1])===0||n._cmp(W,A[_][0])===0||R(function(){h===o?C.continue(A[_][0]):C.continue(A[_][1])}),!1)}),T},at.prototype.startsWithAnyOf=function(){var e=le.apply(De,arguments);return e.every(function(t){return typeof t=="string"})?e.length===0?Kn(this):this.inAnyRange(e.map(function(t){return[t,t+bn]})):kt(this,"startsWithAnyOf() only works with strings")},at);function at(){}function zt(e){return He(function(t){return Yn(t),e(t.target.error),!1})}function Yn(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var Xn="storagemutated",Jr="x-storagemutated-1",fn=Un(null,Xn),mo=(Vt.prototype._lock=function(){return p(!k.global),++this._reculock,this._reculock!==1||k.global||(k.lockOwnerFor=this),this},Vt.prototype._unlock=function(){if(p(!k.global),--this._reculock==0)for(k.global||(k.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var e=this._blockedFuncs.shift();try{gn(e[1],e[0])}catch{}}return this},Vt.prototype._locked=function(){return this._reculock&&k.lockOwnerFor!==this},Vt.prototype.create=function(e){var t=this;if(!this.mode)return this;var n=this.db.idbdb,i=this.db._state.dbOpenError;if(p(!this.idbtrans),!e&&!n)switch(i&&i.name){case"DatabaseClosedError":throw new ne.DatabaseClosed(i);case"MissingAPIError":throw new ne.MissingAPI(i.message,i);default:throw new ne.OpenFailed(i)}if(!this.active)throw new ne.TransactionInactive;return p(this._completion._state===null),(e=this.idbtrans=e||(this.db.core||n).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=He(function(o){Yn(o),t._reject(e.error)}),e.onabort=He(function(o){Yn(o),t.active&&t._reject(new ne.Abort(e.error)),t.active=!1,t.on("abort").fire(o)}),e.oncomplete=He(function(){t.active=!1,t._resolve(),"mutatedParts"in e&&fn.storagemutated.fire(e.mutatedParts)}),this},Vt.prototype._promise=function(e,t,n){var i=this;if(e==="readwrite"&&this.mode!=="readwrite")return Xe(new ne.ReadOnly("Transaction is readonly"));if(!this.active)return Xe(new ne.TransactionInactive);if(this._locked())return new L(function(s,c){i._blockedFuncs.push([function(){i._promise(e,t,n).then(s,c)},k])});if(n)return on(function(){var s=new L(function(c,d){i._lock();var b=t(c,d,i);b&&b.then&&b.then(c,d)});return s.finally(function(){return i._unlock()}),s._lib=!0,s});var o=new L(function(s,c){var d=t(s,c,i);d&&d.then&&d.then(s,c)});return o._lib=!0,o},Vt.prototype._root=function(){return this.parent?this.parent._root():this},Vt.prototype.waitFor=function(e){var t,n=this._root(),i=L.resolve(e);n._waitingFor?n._waitingFor=n._waitingFor.then(function(){return i}):(n._waitingFor=i,n._waitingQueue=[],t=n.idbtrans.objectStore(n.storeNames[0]),function s(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(t.get(-1/0).onsuccess=s)}());var o=n._waitingFor;return new L(function(s,c){i.then(function(d){return n._waitingQueue.push(He(s.bind(null,d)))},function(d){return n._waitingQueue.push(He(c.bind(null,d)))}).finally(function(){n._waitingFor===o&&(n._waitingFor=null)})})},Vt.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ne.Abort))},Vt.prototype.table=function(e){var t=this._memoizedTables||(this._memoizedTables={});if(M(t,e))return t[e];var n=this.schema[e];if(!n)throw new ne.NotFound("Table "+e+" not part of transaction");return n=new this.db.Table(e,n,this),n.core=this.db.core.table(e),t[e]=n},Vt);function Vt(){}function $r(e,t,n,i,o,s,c){return{name:e,keyPath:t,unique:n,multi:i,auto:o,compound:s,src:(n&&!c?"&":"")+(i?"*":"")+(o?"++":"")+na(t)}}function na(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function ei(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:(i=function(o){return[o.name,o]},n.reduce(function(o,s,c){return c=i(s,c),c&&(o[c[0]]=c[1]),o},{}))};var i}var Zn=function(e){try{return e.only([[]]),Zn=function(){return[[]]},[[]]}catch{return Zn=function(){return bn},bn}};function ti(e){return e==null?function(){}:typeof e=="string"?(t=e).split(".").length===1?function(n){return n[t]}:function(n){return j(n,t)}:function(n){return j(n,e)};var t}function ra(e){return[].slice.call(e)}var yo=0;function Qn(e){return e==null?":id":typeof e=="string"?e:"[".concat(e.join("+"),"]")}function go(e,t,b){function i(x){if(x.type===3)return null;if(x.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var _=x.lower,O=x.upper,P=x.lowerOpen,x=x.upperOpen;return _===void 0?O===void 0?null:t.upperBound(O,!!x):O===void 0?t.lowerBound(_,!!P):t.bound(_,O,!!P,!!x)}function o(y){var _,O=y.name;return{name:O,schema:y,mutate:function(P){var x=P.trans,T=P.type,C=P.keys,R=P.values,B=P.range;return new Promise(function(I,W){I=He(I);var F=x.objectStore(O),Q=F.keyPath==null,N=T==="put"||T==="add";if(!N&&T!=="delete"&&T!=="deleteRange")throw new Error("Invalid operation type: "+T);var se,ce=(C||R||{length:1}).length;if(C&&R&&C.length!==R.length)throw new Error("Given keys array must have same length as given values array.");if(ce===0)return I({numFailures:0,failures:{},results:[],lastResult:void 0});function Ke(vt){++Et,Yn(vt)}var be=[],Fe=[],Et=0;if(T==="deleteRange"){if(B.type===4)return I({numFailures:Et,failures:Fe,results:[],lastResult:void 0});B.type===3?be.push(se=F.clear()):be.push(se=F.delete(i(B)))}else{var Q=N?Q?[R,C]:[R,null]:[C,null],me=Q[0],Jt=Q[1];if(N)for(var ut=0;ut<ce;++ut)be.push(se=Jt&&Jt[ut]!==void 0?F[T](me[ut],Jt[ut]):F[T](me[ut])),se.onerror=Ke;else for(ut=0;ut<ce;++ut)be.push(se=F[T](me[ut])),se.onerror=Ke}function Br(vt){vt=vt.target.result,be.forEach(function(On,wi){return On.error!=null&&(Fe[wi]=On.error)}),I({numFailures:Et,failures:Fe,results:T==="delete"?C:be.map(function(On){return On.result}),lastResult:vt})}se.onerror=function(vt){Ke(vt),Br(vt)},se.onsuccess=Br})},getMany:function(P){var x=P.trans,T=P.keys;return new Promise(function(C,R){C=He(C);for(var B,I=x.objectStore(O),W=T.length,F=new Array(W),Q=0,N=0,se=function(be){be=be.target,F[be._pos]=be.result,++N===Q&&C(F)},ce=zt(R),Ke=0;Ke<W;++Ke)T[Ke]!=null&&((B=I.get(T[Ke]))._pos=Ke,B.onsuccess=se,B.onerror=ce,++Q);Q===0&&C(F)})},get:function(P){var x=P.trans,T=P.key;return new Promise(function(C,R){C=He(C);var B=x.objectStore(O).get(T);B.onsuccess=function(I){return C(I.target.result)},B.onerror=zt(R)})},query:(_=m,function(P){return new Promise(function(x,T){x=He(x);var C,R,B,Q=P.trans,I=P.values,W=P.limit,se=P.query,F=W===1/0?void 0:W,N=se.index,se=se.range,Q=Q.objectStore(O),N=N.isPrimaryKey?Q:Q.index(N.name),se=i(se);if(W===0)return x({result:[]});_?((F=I?N.getAll(se,F):N.getAllKeys(se,F)).onsuccess=function(ce){return x({result:ce.target.result})},F.onerror=zt(T)):(C=0,R=!I&&"openKeyCursor"in N?N.openKeyCursor(se):N.openCursor(se),B=[],R.onsuccess=function(ce){var Ke=R.result;return Ke?(B.push(I?Ke.value:Ke.primaryKey),++C===W?x({result:B}):void Ke.continue()):x({result:B})},R.onerror=zt(T))})}),openCursor:function(P){var x=P.trans,T=P.values,C=P.query,R=P.reverse,B=P.unique;return new Promise(function(I,W){I=He(I);var N=C.index,F=C.range,Q=x.objectStore(O),Q=N.isPrimaryKey?Q:Q.index(N.name),N=R?B?"prevunique":"prev":B?"nextunique":"next",se=!T&&"openKeyCursor"in Q?Q.openKeyCursor(i(F),N):Q.openCursor(i(F),N);se.onerror=zt(W),se.onsuccess=He(function(ce){var Ke,be,Fe,Et,me=se.result;me?(me.___id=++yo,me.done=!1,Ke=me.continue.bind(me),be=(be=me.continuePrimaryKey)&&be.bind(me),Fe=me.advance.bind(me),Et=function(){throw new Error("Cursor not stopped")},me.trans=x,me.stop=me.continue=me.continuePrimaryKey=me.advance=function(){throw new Error("Cursor not started")},me.fail=He(W),me.next=function(){var Jt=this,ut=1;return this.start(function(){return ut--?Jt.continue():Jt.stop()}).then(function(){return Jt})},me.start=function(Jt){function ut(){if(se.result)try{Jt()}catch(vt){me.fail(vt)}else me.done=!0,me.start=function(){throw new Error("Cursor behind last entry")},me.stop()}var Br=new Promise(function(vt,On){vt=He(vt),se.onerror=zt(On),me.fail=On,me.stop=function(wi){me.stop=me.continue=me.continuePrimaryKey=me.advance=Et,vt(wi)}});return se.onsuccess=He(function(vt){se.onsuccess=ut,ut()}),me.continue=Ke,me.continuePrimaryKey=be,me.advance=Fe,ut(),Br},I(me)):I(null)},W)})},count:function(P){var x=P.query,T=P.trans,C=x.index,R=x.range;return new Promise(function(B,I){var W=T.objectStore(O),F=C.isPrimaryKey?W:W.index(C.name),W=i(R),F=W?F.count(W):F.count();F.onsuccess=He(function(Q){return B(Q.target.result)}),F.onerror=zt(I)})}}}var s,c,d,A=(c=b,d=ra((s=e).objectStoreNames),{schema:{name:s.name,tables:d.map(function(y){return c.objectStore(y)}).map(function(y){var _=y.keyPath,x=y.autoIncrement,O=w(_),P={},x={name:y.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:_==null,compound:O,keyPath:_,autoIncrement:x,unique:!0,extractKey:ti(_)},indexes:ra(y.indexNames).map(function(T){return y.index(T)}).map(function(B){var C=B.name,R=B.unique,I=B.multiEntry,B=B.keyPath,I={name:C,compound:w(B),keyPath:B,unique:R,multiEntry:I,extractKey:ti(B)};return P[Qn(B)]=I}),getIndexByKeyPath:function(T){return P[Qn(T)]}};return P[":id"]=x.primaryKey,_!=null&&(P[Qn(_)]=x.primaryKey),x})},hasGetAll:0<d.length&&"getAll"in c.objectStore(d[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),b=A.schema,m=A.hasGetAll,A=b.tables.map(o),h={};return A.forEach(function(y){return h[y.name]=y}),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(y){if(!h[y])throw new Error("Table '".concat(y,"' not found"));return h[y]},MIN_KEY:-1/0,MAX_KEY:Zn(t),schema:b}}function bo(e,t,n,i){var o=n.IDBKeyRange;return n.indexedDB,{dbcore:(i=go(t,o,i),e.dbcore.reduce(function(s,c){return c=c.create,l(l({},s),c(s))},i))}}function xr(e,i){var n=i.db,i=bo(e._middlewares,n,e._deps,i);e.core=i.dbcore,e.tables.forEach(function(o){var s=o.name;e.core.schema.tables.some(function(c){return c.name===s})&&(o.core=e.core.table(s),e[s]instanceof e.Table&&(e[s].core=o.core))})}function Or(e,t,n,i){n.forEach(function(o){var s=i[o];t.forEach(function(c){var d=function b(m,A){return $(m,A)||(m=S(m))&&b(m,A)}(c,o);(!d||"value"in d&&d.value===void 0)&&(c===e.Transaction.prototype||c instanceof e.Transaction?Z(c,o,{get:function(){return this.table(o)},set:function(b){J(this,o,{value:b,writable:!0,configurable:!0,enumerable:!0})}}):c[o]=new e.Table(o,s))})})}function ni(e,t){t.forEach(function(n){for(var i in n)n[i]instanceof e.Table&&delete n[i]})}function wo(e,t){return e._cfg.version-t._cfg.version}function _o(e,t,n,i){var o=e._dbSchema;n.objectStoreNames.contains("$meta")&&!o.$meta&&(o.$meta=ei("$meta",aa("")[0],[]),e._storeNames.push("$meta"));var s=e._createTransaction("readwrite",e._storeNames,o);s.create(n),s._completion.catch(i);var c=s._reject.bind(s),d=k.transless||k;on(function(){return k.trans=s,k.transless=d,t!==0?(xr(e,n),m=t,((b=s).storeNames.includes("$meta")?b.table("$meta").get("version").then(function(A){return A??m}):L.resolve(m)).then(function(A){return y=A,_=s,O=n,P=[],A=(h=e)._versions,x=h._dbSchema=Er(0,h.idbdb,O),(A=A.filter(function(T){return T._cfg.version>=y})).length!==0?(A.forEach(function(T){P.push(function(){var C=x,R=T._cfg.dbschema;Ar(h,C,O),Ar(h,R,O),x=h._dbSchema=R;var B=ri(C,R);B.add.forEach(function(N){ii(O,N[0],N[1].primKey,N[1].indexes)}),B.change.forEach(function(N){if(N.recreate)throw new ne.Upgrade("Not yet support for changing primary key");var se=O.objectStore(N.name);N.add.forEach(function(ce){return kr(se,ce)}),N.change.forEach(function(ce){se.deleteIndex(ce.name),kr(se,ce)}),N.del.forEach(function(ce){return se.deleteIndex(ce)})});var I=T._cfg.contentUpgrade;if(I&&T._cfg.version>y){xr(h,O),_._memoizedTables={};var W=xe(R);B.del.forEach(function(N){W[N]=C[N]}),ni(h,[h.Transaction.prototype]),Or(h,[h.Transaction.prototype],E(W),W),_.schema=W;var F,Q=ae(I);return Q&&Rn(),B=L.follow(function(){var N;(F=I(_))&&Q&&(N=sn.bind(null,null),F.then(N,N))}),F&&typeof F.then=="function"?L.resolve(F):B.then(function(){return F})}}),P.push(function(C){var R,B,I=T._cfg.dbschema;R=I,B=C,[].slice.call(B.db.objectStoreNames).forEach(function(W){return R[W]==null&&B.db.deleteObjectStore(W)}),ni(h,[h.Transaction.prototype]),Or(h,[h.Transaction.prototype],h._storeNames,h._dbSchema),_.schema=h._dbSchema}),P.push(function(C){h.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(h.idbdb.version/10)===T._cfg.version?(h.idbdb.deleteObjectStore("$meta"),delete h._dbSchema.$meta,h._storeNames=h._storeNames.filter(function(R){return R!=="$meta"})):C.objectStore("$meta").put(T._cfg.version,"version"))})}),function T(){return P.length?L.resolve(P.shift()(_.idbtrans)).then(T):L.resolve()}().then(function(){ia(x,O)})):L.resolve();var h,y,_,O,P,x}).catch(c)):(E(o).forEach(function(A){ii(n,A,o[A].primKey,o[A].indexes)}),xr(e,n),void L.follow(function(){return e.on.populate.fire(s)}).catch(c));var b,m})}function xo(e,t){ia(e._dbSchema,t),t.db.version%10!=0||t.objectStoreNames.contains("$meta")||t.db.createObjectStore("$meta").add(Math.ceil(t.db.version/10-1),"version");var n=Er(0,e.idbdb,t);Ar(e,e._dbSchema,t);for(var i=0,o=ri(n,e._dbSchema).change;i<o.length;i++){var s=function(c){if(c.change.length||c.recreate)return console.warn("Unable to patch indexes of table ".concat(c.name," because it has changes on the type of index or primary key.")),{value:void 0};var d=t.objectStore(c.name);c.add.forEach(function(b){tt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(c.name,".").concat(b.src)),kr(d,b)})}(o[i]);if(typeof s=="object")return s.value}}function ri(e,t){var n,i={del:[],add:[],change:[]};for(n in e)t[n]||i.del.push(n);for(n in t){var o=e[n],s=t[n];if(o){var c={name:n,def:s,recreate:!1,del:[],add:[],change:[]};if(""+(o.primKey.keyPath||"")!=""+(s.primKey.keyPath||"")||o.primKey.auto!==s.primKey.auto)c.recreate=!0,i.change.push(c);else{var d=o.idxByName,b=s.idxByName,m=void 0;for(m in d)b[m]||c.del.push(m);for(m in b){var A=d[m],h=b[m];A?A.src!==h.src&&c.change.push(h):c.add.push(h)}(0<c.del.length||0<c.add.length||0<c.change.length)&&i.change.push(c)}}else i.add.push([n,s])}return i}function ii(e,t,n,i){var o=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return i.forEach(function(s){return kr(o,s)}),o}function ia(e,t){E(e).forEach(function(n){t.db.objectStoreNames.contains(n)||(tt&&console.debug("Dexie: Creating missing table",n),ii(t,n,e[n].primKey,e[n].indexes))})}function kr(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function Er(e,t,n){var i={};return H(t.objectStoreNames,0).forEach(function(o){for(var s=n.objectStore(o),c=$r(na(m=s.keyPath),m||"",!0,!1,!!s.autoIncrement,m&&typeof m!="string",!0),d=[],b=0;b<s.indexNames.length;++b){var A=s.index(s.indexNames[b]),m=A.keyPath,A=$r(A.name,m,!!A.unique,!!A.multiEntry,!1,m&&typeof m!="string",!1);d.push(A)}i[o]=ei(o,c,d)}),i}function Ar(e,t,n){for(var i=n.db.objectStoreNames,o=0;o<i.length;++o){var s=i[o],c=n.objectStore(s);e._hasGetAll="getAll"in c;for(var d=0;d<c.indexNames.length;++d){var b=c.indexNames[d],m=c.index(b).keyPath,A=typeof m=="string"?m:"["+H(m).join("+")+"]";!t[s]||(m=t[s].idxByName[A])&&(m.name=b,delete t[s].idxByName[A],t[s].idxByName[b]=m)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&v.WorkerGlobalScope&&v instanceof v.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}function aa(e){return e.split(",").map(function(t,n){var i=(t=t.trim()).replace(/([&*]|\+\+)/g,""),o=/^\[/.test(i)?i.match(/^\[(.*)\]$/)[1].split("+"):i;return $r(i,o||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),w(o),n===0)})}var Oo=(Pr.prototype._parseStoresSpec=function(e,t){E(e).forEach(function(n){if(e[n]!==null){var i=aa(e[n]),o=i.shift();if(o.unique=!0,o.multi)throw new ne.Schema("Primary key cannot be multi-valued");i.forEach(function(s){if(s.auto)throw new ne.Schema("Only primary key can be marked as autoIncrement (++)");if(!s.keyPath)throw new ne.Schema("Index must have a name and cannot be an empty string")}),t[n]=ei(n,o,i)}})},Pr.prototype.stores=function(n){var t=this.db;this._cfg.storesSource=this._cfg.storesSource?g(this._cfg.storesSource,n):n;var n=t._versions,i={},o={};return n.forEach(function(s){g(i,s._cfg.storesSource),o=s._cfg.dbschema={},s._parseStoresSpec(i,o)}),t._dbSchema=o,ni(t,[t._allTables,t,t.Transaction.prototype]),Or(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],E(o),o),t._storeNames=E(o),this},Pr.prototype.upgrade=function(e){return this._cfg.contentUpgrade=_t(this._cfg.contentUpgrade||Oe,e),this},Pr);function Pr(){}function ai(e,t){var n=e._dbNamesDB;return n||(n=e._dbNamesDB=new Qt(yr,{addons:[],indexedDB:e,IDBKeyRange:t})).version(1).stores({dbnames:"name"}),n.table("dbnames")}function oi(e){return e&&typeof e.databases=="function"}function si(e){return on(function(){return k.letThrough=!0,e()})}function ui(e){return!("from"in e)}var st=function(e,t){if(!this){var n=new st;return e&&"d"in e&&g(n,e),n}g(this,arguments.length?{d:1,from:e,to:1<arguments.length?t:e}:{d:0})};function Jn(e,t,n){var i=Be(t,n);if(!isNaN(i)){if(0<i)throw RangeError();if(ui(e))return g(e,{from:t,to:n,d:1});var o=e.l,i=e.r;if(Be(n,e.from)<0)return o?Jn(o,t,n):e.l={from:t,to:n,d:1,l:null,r:null},oa(e);if(0<Be(t,e.to))return i?Jn(i,t,n):e.r={from:t,to:n,d:1,l:null,r:null},oa(e);Be(t,e.from)<0&&(e.from=t,e.l=null,e.d=i?i.d+1:1),0<Be(n,e.to)&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1),n=!e.r,o&&!e.l&&$n(e,o),i&&n&&$n(e,i)}}function $n(e,t){ui(t)||function n(i,b){var s=b.from,c=b.to,d=b.l,b=b.r;Jn(i,s,c),d&&n(i,d),b&&n(i,b)}(e,t)}function Tr(e,t){var n=li(t),i=n.next();if(i.done)return!1;for(var o=i.value,s=li(e),c=s.next(o.from),d=c.value;!i.done&&!c.done;){if(Be(d.from,o.to)<=0&&0<=Be(d.to,o.from))return!0;Be(o.from,d.from)<0?o=(i=n.next(d.from)).value:d=(c=s.next(o.from)).value}return!1}function li(e){var t=ui(e)?null:{s:0,n:e};return{next:function(n){for(var i=0<arguments.length;t;)switch(t.s){case 0:if(t.s=1,i)for(;t.n.l&&Be(n,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!i||Be(n,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function oa(e){var t,n,i=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((n=e.l)===null||n===void 0?void 0:n.d)||0),o=1<i?"r":i<-1?"l":"";o&&(t=o=="r"?"l":"r",n=l({},e),i=e[o],e.from=i.from,e.to=i.to,e[o]=i[o],n[o]=i[t],(e[t]=n).d=sa(n)),e.d=sa(e)}function sa(n){var t=n.r,n=n.l;return(t?n?Math.max(t.d,n.d):t.d:n?n.d:0)+1}function Cr(e,t){return E(t).forEach(function(n){e[n]?$n(e[n],t[n]):e[n]=function i(o){var s,c,d={};for(s in o)M(o,s)&&(c=o[s],d[s]=!c||typeof c!="object"||_e.has(c.constructor)?c:i(c));return d}(t[n])}),e}function ci(e,t){return e.all||t.all||Object.keys(e).some(function(n){return t[n]&&Tr(t[n],e[n])})}K(st.prototype,((Dt={add:function(e){return $n(this,e),this},addKey:function(e){return Jn(this,e,e),this},addKeys:function(e){var t=this;return e.forEach(function(n){return Jn(t,n,n)}),this}})[Y]=function(){return li(this)},Dt));var _n={},fi={},di=!1;function Dr(e){Cr(fi,e),di||(di=!0,setTimeout(function(){di=!1,pi(fi,!(fi={}))},0))}function pi(e,t){t===void 0&&(t=!1);var n=new Set;if(e.all)for(var i=0,o=Object.values(_n);i<o.length;i++)ua(c=o[i],e,n,t);else for(var s in e){var c,d=/^idb\:\/\/(.*)\/(.*)\//.exec(s);d&&(s=d[1],d=d[2],(c=_n["idb://".concat(s,"/").concat(d)])&&ua(c,e,n,t))}n.forEach(function(b){return b()})}function ua(e,t,n,i){for(var o=[],s=0,c=Object.entries(e.queries.query);s<c.length;s++){for(var d=c[s],b=d[0],m=[],A=0,h=d[1];A<h.length;A++){var y=h[A];ci(t,y.obsSet)?y.subscribers.forEach(function(x){return n.add(x)}):i&&m.push(y)}i&&o.push([b,m])}if(i)for(var _=0,O=o;_<O.length;_++){var P=O[_],b=P[0],m=P[1];e.queries.query[b]=m}}function ko(e){var t=e._state,n=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(function(){return t.dbOpenError?Xe(t.dbOpenError):e});t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var i=t.openCanceller,o=Math.round(10*e.verno),s=!1;function c(){if(t.openCanceller!==i)throw new ne.DatabaseClosed("db.open() was cancelled")}function d(){return new L(function(y,_){if(c(),!n)throw new ne.MissingAPI;var O=e.name,P=t.autoSchema||!o?n.open(O):n.open(O,o);if(!P)throw new ne.MissingAPI;P.onerror=zt(_),P.onblocked=He(e._fireOnBlocked),P.onupgradeneeded=He(function(x){var T;A=P.transaction,t.autoSchema&&!e._options.allowEmptyDB?(P.onerror=Yn,A.abort(),P.result.close(),(T=n.deleteDatabase(O)).onsuccess=T.onerror=He(function(){_(new ne.NoSuchDatabase("Database ".concat(O," doesnt exist")))})):(A.onerror=zt(_),x=x.oldVersion>Math.pow(2,62)?0:x.oldVersion,h=x<1,e.idbdb=P.result,s&&xo(e,A),_o(e,x/10,A,_))},_),P.onsuccess=He(function(){A=null;var x,T,C,R,B,I=e.idbdb=P.result,W=H(I.objectStoreNames);if(0<W.length)try{var F=I.transaction((R=W).length===1?R[0]:R,"readonly");if(t.autoSchema)T=I,C=F,(x=e).verno=T.version/10,C=x._dbSchema=Er(0,T,C),x._storeNames=H(T.objectStoreNames,0),Or(x,[x._allTables],E(C),C);else if(Ar(e,e._dbSchema,F),((B=ri(Er(0,(B=e).idbdb,F),B._dbSchema)).add.length||B.change.some(function(Q){return Q.add.length||Q.change.length}))&&!s)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),I.close(),o=I.version+1,s=!0,y(d());xr(e,F)}catch{}Bn.push(e),I.onversionchange=He(function(Q){t.vcFired=!0,e.on("versionchange").fire(Q)}),I.onclose=He(function(Q){e.on("close").fire(Q)}),h&&(B=e._deps,F=O,I=B.indexedDB,B=B.IDBKeyRange,oi(I)||F===yr||ai(I,B).put({name:F}).catch(Oe)),y()},_)}).catch(function(y){switch(y==null?void 0:y.name){case"UnknownError":if(0<t.PR1398_maxLoop)return t.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),d();break;case"VersionError":if(0<o)return o=0,d()}return L.reject(y)})}var b,m=t.dbReadyResolve,A=null,h=!1;return L.race([i,(typeof navigator>"u"?L.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(y){function _(){return indexedDB.databases().finally(y)}b=setInterval(_,100),_()}).finally(function(){return clearInterval(b)}):Promise.resolve()).then(d)]).then(function(){return c(),t.onReadyBeingFired=[],L.resolve(si(function(){return e.on.ready.fire(e.vip)})).then(function y(){if(0<t.onReadyBeingFired.length){var _=t.onReadyBeingFired.reduce(_t,Oe);return t.onReadyBeingFired=[],L.resolve(si(function(){return _(e.vip)})).then(y)}})}).finally(function(){t.openCanceller===i&&(t.onReadyBeingFired=null,t.isBeingOpened=!1)}).catch(function(y){t.dbOpenError=y;try{A&&A.abort()}catch{}return i===t.openCanceller&&e._close(),Xe(y)}).finally(function(){t.openComplete=!0,m()}).then(function(){var y;return h&&(y={},e.tables.forEach(function(_){_.schema.indexes.forEach(function(O){O.name&&(y["idb://".concat(e.name,"/").concat(_.name,"/").concat(O.name)]=new st(-1/0,[[[]]]))}),y["idb://".concat(e.name,"/").concat(_.name,"/")]=y["idb://".concat(e.name,"/").concat(_.name,"/:dels")]=new st(-1/0,[[[]]])}),fn(Xn).fire(y),pi(y,!0)),e})}function vi(e){function t(s){return e.next(s)}var n=o(t),i=o(function(s){return e.throw(s)});function o(s){return function(b){var d=s(b),b=d.value;return d.done?b:b&&typeof b.then=="function"?b.then(n,i):w(b)?Promise.all(b).then(n,i):n(b)}}return o(t)()}function Sr(e,t,n){for(var i=w(e)?e.slice():[e],o=0;o<n;++o)i.push(t);return i}var Eo={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return l(l({},e),{table:function(t){var n=e.table(t),i=n.schema,o={},s=[];function c(h,y,_){var O=Qn(h),P=o[O]=o[O]||[],x=h==null?0:typeof h=="string"?1:h.length,T=0<y,T=l(l({},_),{name:T?"".concat(O,"(virtual-from:").concat(_.name,")"):_.name,lowLevelIndex:_,isVirtual:T,keyTail:y,keyLength:x,extractKey:ti(h),unique:!T&&_.unique});return P.push(T),T.isPrimaryKey||s.push(T),1<x&&c(x===2?h[0]:h.slice(0,x-1),y+1,_),P.sort(function(C,R){return C.keyTail-R.keyTail}),T}t=c(i.primaryKey.keyPath,0,i.primaryKey),o[":id"]=[t];for(var d=0,b=i.indexes;d<b.length;d++){var m=b[d];c(m.keyPath,0,m)}function A(h){var y,_=h.query.index;return _.isVirtual?l(l({},h),{query:{index:_.lowLevelIndex,range:(y=h.query.range,_=_.keyTail,{type:y.type===1?2:y.type,lower:Sr(y.lower,y.lowerOpen?e.MAX_KEY:e.MIN_KEY,_),lowerOpen:!0,upper:Sr(y.upper,y.upperOpen?e.MIN_KEY:e.MAX_KEY,_),upperOpen:!0})}}):h}return l(l({},n),{schema:l(l({},i),{primaryKey:t,indexes:s,getIndexByKeyPath:function(h){return(h=o[Qn(h)])&&h[0]}}),count:function(h){return n.count(A(h))},query:function(h){return n.query(A(h))},openCursor:function(h){var y=h.query.index,_=y.keyTail,O=y.isVirtual,P=y.keyLength;return O?n.openCursor(A(h)).then(function(T){return T&&x(T)}):n.openCursor(h);function x(T){return Object.create(T,{continue:{value:function(C){C!=null?T.continue(Sr(C,h.reverse?e.MAX_KEY:e.MIN_KEY,_)):h.unique?T.continue(T.key.slice(0,P).concat(h.reverse?e.MIN_KEY:e.MAX_KEY,_)):T.continue()}},continuePrimaryKey:{value:function(C,R){T.continuePrimaryKey(Sr(C,e.MAX_KEY,_),R)}},primaryKey:{get:function(){return T.primaryKey}},key:{get:function(){var C=T.key;return P===1?C[0]:C.slice(0,P)}},value:{get:function(){return T.value}}})}}})}})}};function hi(e,t,n,i){return n=n||{},i=i||"",E(e).forEach(function(o){var s,c,d;M(t,o)?(s=e[o],c=t[o],typeof s=="object"&&typeof c=="object"&&s&&c?(d=Ae(s))!==Ae(c)?n[i+o]=t[o]:d==="Object"?hi(s,c,n,i+o+"."):s!==c&&(n[i+o]=t[o]):s!==c&&(n[i+o]=t[o])):n[i+o]=void 0}),E(t).forEach(function(o){M(e,o)||(n[i+o]=t[o])}),n}function mi(e,t){return t.type==="delete"?t.keys:t.keys||t.values.map(e.extractKey)}var Ao={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return l(l({},e),{table:function(t){var n=e.table(t),i=n.schema.primaryKey;return l(l({},n),{mutate:function(o){var s=k.trans,c=s.table(t).hook,d=c.deleting,b=c.creating,m=c.updating;switch(o.type){case"add":if(b.fire===Oe)break;return s._promise("readwrite",function(){return A(o)},!0);case"put":if(b.fire===Oe&&m.fire===Oe)break;return s._promise("readwrite",function(){return A(o)},!0);case"delete":if(d.fire===Oe)break;return s._promise("readwrite",function(){return A(o)},!0);case"deleteRange":if(d.fire===Oe)break;return s._promise("readwrite",function(){return function h(y,_,O){return n.query({trans:y,values:!1,query:{index:i,range:_},limit:O}).then(function(P){var x=P.result;return A({type:"delete",keys:x,trans:y}).then(function(T){return 0<T.numFailures?Promise.reject(T.failures[0]):x.length<O?{failures:[],numFailures:0,lastResult:void 0}:h(y,l(l({},_),{lower:x[x.length-1],lowerOpen:!0}),O)})})}(o.trans,o.range,1e4)},!0)}return n.mutate(o);function A(h){var y,_,O,P=k.trans,x=h.keys||mi(i,h);if(!x)throw new Error("Keys missing");return(h=h.type==="add"||h.type==="put"?l(l({},h),{keys:x}):l({},h)).type!=="delete"&&(h.values=f([],h.values,!0)),h.keys&&(h.keys=f([],h.keys,!0)),y=n,O=x,((_=h).type==="add"?Promise.resolve([]):y.getMany({trans:_.trans,keys:O,cache:"immutable"})).then(function(T){var C=x.map(function(R,B){var I,W,F,Q=T[B],N={onerror:null,onsuccess:null};return h.type==="delete"?d.fire.call(N,R,Q,P):h.type==="add"||Q===void 0?(I=b.fire.call(N,R,h.values[B],P),R==null&&I!=null&&(h.keys[B]=R=I,i.outbound||ee(h.values[B],i.keyPath,R))):(I=hi(Q,h.values[B]),(W=m.fire.call(N,I,R,Q,P))&&(F=h.values[B],Object.keys(W).forEach(function(se){M(F,se)?F[se]=W[se]:ee(F,se,W[se])}))),N});return n.mutate(h).then(function(R){for(var B=R.failures,I=R.results,W=R.numFailures,R=R.lastResult,F=0;F<x.length;++F){var Q=(I||x)[F],N=C[F];Q==null?N.onerror&&N.onerror(B[F]):N.onsuccess&&N.onsuccess(h.type==="put"&&T[F]?h.values[F]:Q)}return{failures:B,results:I,numFailures:W,lastResult:R}}).catch(function(R){return C.forEach(function(B){return B.onerror&&B.onerror(R)}),Promise.reject(R)})})}}})}})}};function la(e,t,n){try{if(!t||t.keys.length<e.length)return null;for(var i=[],o=0,s=0;o<t.keys.length&&s<e.length;++o)Be(t.keys[o],e[s])===0&&(i.push(n?re(t.values[o]):t.values[o]),++s);return i.length===e.length?i:null}catch{return null}}var Po={stack:"dbcore",level:-1,create:function(e){return{table:function(t){var n=e.table(t);return l(l({},n),{getMany:function(i){if(!i.cache)return n.getMany(i);var o=la(i.keys,i.trans._cache,i.cache==="clone");return o?L.resolve(o):n.getMany(i).then(function(s){return i.trans._cache={keys:i.keys,values:i.cache==="clone"?re(s):s},s})},mutate:function(i){return i.type!=="add"&&(i.trans._cache=null),n.mutate(i)}})}}}};function ca(e,t){return e.trans.mode==="readonly"&&!!e.subscr&&!e.trans.explicit&&e.trans.db._options.cache!=="disabled"&&!t.schema.primaryKey.outbound}function fa(e,t){switch(e){case"query":return t.values&&!t.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var To={stack:"dbcore",level:0,name:"Observability",create:function(e){var t=e.schema.name,n=new st(e.MIN_KEY,e.MAX_KEY);return l(l({},e),{transaction:function(i,o,s){if(k.subscr&&o!=="readonly")throw new ne.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(k.querier));return e.transaction(i,o,s)},table:function(i){function o(_){var _=(O=_.query).index,O=O.range;return[_,new st((_=O.lower)!==null&&_!==void 0?_:e.MIN_KEY,(O=O.upper)!==null&&O!==void 0?O:e.MAX_KEY)]}var s=e.table(i),c=s.schema,d=c.primaryKey,b=d.extractKey,m=d.outbound,A=l(l({},s),{mutate:function(y){function _(N){return N="idb://".concat(t,"/").concat(i,"/").concat(N),C[N]||(C[N]=new st)}var O,P,x,T=y.trans,C=y.mutatedParts||(y.mutatedParts={}),R=_(""),B=_(":dels"),I=y.type,Q=y.type==="deleteRange"?[y.range]:y.type==="delete"?[y.keys]:y.values.length<50?[mi(d,y).filter(function(N){return N}),y.values]:[],W=Q[0],F=Q[1],Q=y.trans._cache;return w(W)?(R.addKeys(W),(Q=I==="delete"||W.length===F.length?la(W,Q):null)||B.addKeys(W),(Q||F)&&(O=_,P=Q,x=F,c.indexes.forEach(function(N){var se=O(N.name||"");function ce(be){return be!=null?N.extractKey(be):null}function Ke(be){return N.multiEntry&&w(be)?be.forEach(function(Fe){return se.addKey(Fe)}):se.addKey(be)}(P||x).forEach(function(be,me){var Et=P&&ce(P[me]),me=x&&ce(x[me]);Be(Et,me)!==0&&(Et!=null&&Ke(Et),me!=null&&Ke(me))})}))):W?(F={from:W.lower,to:W.upper},B.add(F),R.add(F)):(R.add(n),B.add(n),c.indexes.forEach(function(N){return _(N.name).add(n)})),s.mutate(y).then(function(N){return!W||y.type!=="add"&&y.type!=="put"||R.addKeys(N.results),T.mutatedParts=Cr(T.mutatedParts||{},C),N})}}),h={get:function(y){return[d,new st(y.key)]},getMany:function(y){return[d,new st().addKeys(y.keys)]},count:o,query:o,openCursor:o};return E(h).forEach(function(y){A[y]=function(_){var O=k.subscr,P=!!O,x=ca(k,s)&&fa(y,_)?_.obsSet={}:O;if(P){var T=function(F){return F="idb://".concat(t,"/").concat(i,"/").concat(F),x[F]||(x[F]=new st)},C=T(""),R=T(":dels"),O=h[y](_),P=O[0],O=O[1];if((y==="query"&&P.isPrimaryKey&&!_.values?R:T(P.name||"")).add(O),!P.isPrimaryKey){if(y!=="count"){var B=y==="query"&&m&&_.values&&s.query(l(l({},_),{values:!1}));return s[y].apply(this,arguments).then(function(F){if(y==="query"){if(m&&_.values)return B.then(function(ce){return ce=ce.result,C.addKeys(ce),F});var Q=_.values?F.result.map(b):F.result;(_.values?C:R).addKeys(Q)}else if(y==="openCursor"){var N=F,se=_.values;return N&&Object.create(N,{key:{get:function(){return R.addKey(N.primaryKey),N.key}},primaryKey:{get:function(){var ce=N.primaryKey;return R.addKey(ce),ce}},value:{get:function(){return se&&C.addKey(N.primaryKey),N.value}}})}return F})}R.add(n)}}return s[y].apply(this,arguments)}}),A}})}};function da(e,t,n){if(n.numFailures===0)return t;if(t.type==="deleteRange")return null;var i=t.keys?t.keys.length:"values"in t&&t.values?t.values.length:1;return n.numFailures===i?null:(t=l({},t),w(t.keys)&&(t.keys=t.keys.filter(function(o,s){return!(s in n.failures)})),"values"in t&&w(t.values)&&(t.values=t.values.filter(function(o,s){return!(s in n.failures)})),t)}function yi(e,t){return n=e,((i=t).lower===void 0||(i.lowerOpen?0<Be(n,i.lower):0<=Be(n,i.lower)))&&(e=e,(t=t).upper===void 0||(t.upperOpen?Be(e,t.upper)<0:Be(e,t.upper)<=0));var n,i}function pa(e,t,y,i,o,s){if(!y||y.length===0)return e;var c=t.query.index,d=c.multiEntry,b=t.query.range,m=i.schema.primaryKey.extractKey,A=c.extractKey,h=(c.lowLevelIndex||c).extractKey,y=y.reduce(function(_,O){var P=_,x=O.type==="add"||O.type==="put"?O.values.filter(function(B){return B=A(B),d&&w(B)?B.some(function(I){return yi(I,b)}):yi(B,b)}).map(function(B){return B=re(B),s&&Object.freeze(B),B}):[];switch(O.type){case"add":P=_.concat(t.values?x:x.map(function(I){return m(I)}));break;case"put":var T=new st().addKeys(O.values.map(function(I){return m(I)})),P=_.filter(function(I){return I=t.values?m(I):I,!Tr(new st(I),T)}).concat(t.values?x:x.map(function(I){return m(I)}));break;case"delete":var C=new st().addKeys(O.keys);P=_.filter(function(I){return I=t.values?m(I):I,!Tr(new st(I),C)});break;case"deleteRange":var R=O.range;P=_.filter(function(I){return!yi(m(I),R)})}return P},e);return y===e?e:(y.sort(function(_,O){return Be(h(_),h(O))||Be(m(_),m(O))}),t.limit&&t.limit<1/0&&(y.length>t.limit?y.length=t.limit:e.length===t.limit&&y.length<t.limit&&(o.dirty=!0)),s?Object.freeze(y):y)}function va(e,t){return Be(e.lower,t.lower)===0&&Be(e.upper,t.upper)===0&&!!e.lowerOpen==!!t.lowerOpen&&!!e.upperOpen==!!t.upperOpen}function Co(e,t){return function(n,i,o,s){if(n===void 0)return i!==void 0?-1:0;if(i===void 0)return 1;if((i=Be(n,i))===0){if(o&&s)return 0;if(o)return 1;if(s)return-1}return i}(e.lower,t.lower,e.lowerOpen,t.lowerOpen)<=0&&0<=function(n,i,o,s){if(n===void 0)return i!==void 0?1:0;if(i===void 0)return-1;if((i=Be(n,i))===0){if(o&&s)return 0;if(o)return-1;if(s)return 1}return i}(e.upper,t.upper,e.upperOpen,t.upperOpen)}function Do(e,t,n,i){e.subscribers.add(n),i.addEventListener("abort",function(){var o,s;e.subscribers.delete(n),e.subscribers.size===0&&(o=e,s=t,setTimeout(function(){o.subscribers.size===0&&ge(s,o)},3e3))})}var So={stack:"dbcore",level:0,name:"Cache",create:function(e){var t=e.schema.name;return l(l({},e),{transaction:function(n,i,o){var s,c,d=e.transaction(n,i,o);return i==="readwrite"&&(c=(s=new AbortController).signal,o=function(b){return function(){if(s.abort(),i==="readwrite"){for(var m=new Set,A=0,h=n;A<h.length;A++){var y=h[A],_=_n["idb://".concat(t,"/").concat(y)];if(_){var O=e.table(y),P=_.optimisticOps.filter(function(ce){return ce.trans===d});if(d._explicit&&b&&d.mutatedParts)for(var x=0,T=Object.values(_.queries.query);x<T.length;x++)for(var C=0,R=(W=T[x]).slice();C<R.length;C++)ci((F=R[C]).obsSet,d.mutatedParts)&&(ge(W,F),F.subscribers.forEach(function(ce){return m.add(ce)}));else if(0<P.length){_.optimisticOps=_.optimisticOps.filter(function(ce){return ce.trans!==d});for(var B=0,I=Object.values(_.queries.query);B<I.length;B++)for(var W,F,Q,N=0,se=(W=I[B]).slice();N<se.length;N++)(F=se[N]).res!=null&&d.mutatedParts&&(b&&!F.dirty?(Q=Object.isFrozen(F.res),Q=pa(F.res,F.req,P,O,F,Q),F.dirty?(ge(W,F),F.subscribers.forEach(function(ce){return m.add(ce)})):Q!==F.res&&(F.res=Q,F.promise=L.resolve({result:Q}))):(F.dirty&&ge(W,F),F.subscribers.forEach(function(ce){return m.add(ce)})))}}}m.forEach(function(ce){return ce()})}}},d.addEventListener("abort",o(!1),{signal:c}),d.addEventListener("error",o(!1),{signal:c}),d.addEventListener("complete",o(!0),{signal:c})),d},table:function(n){var i=e.table(n),o=i.schema.primaryKey;return l(l({},i),{mutate:function(s){var c=k.trans;if(o.outbound||c.db._options.cache==="disabled"||c.explicit)return i.mutate(s);var d=_n["idb://".concat(t,"/").concat(n)];return d?(c=i.mutate(s),s.type!=="add"&&s.type!=="put"||!(50<=s.values.length||mi(o,s).some(function(b){return b==null}))?(d.optimisticOps.push(s),s.mutatedParts&&Dr(s.mutatedParts),c.then(function(b){0<b.numFailures&&(ge(d.optimisticOps,s),(b=da(0,s,b))&&d.optimisticOps.push(b),s.mutatedParts&&Dr(s.mutatedParts))}),c.catch(function(){ge(d.optimisticOps,s),s.mutatedParts&&Dr(s.mutatedParts)})):c.then(function(b){var m=da(0,l(l({},s),{values:s.values.map(function(_,h){var y,_=(y=o.keyPath)!==null&&y!==void 0&&y.includes(".")?re(_):l({},_);return ee(_,o.keyPath,b.results[h]),_})}),b);d.optimisticOps.push(m),queueMicrotask(function(){return s.mutatedParts&&Dr(s.mutatedParts)})}),c):i.mutate(s)},query:function(s){if(!ca(k,i)||!fa("query",s))return i.query(s);var c=((m=k.trans)===null||m===void 0?void 0:m.db._options.cache)==="immutable",h=k,d=h.requery,b=h.signal,m=function(O,P,x,T){var C=_n["idb://".concat(O,"/").concat(P)];if(!C)return[];if(!(P=C.queries[x]))return[null,!1,C,null];var R=P[(T.query?T.query.index.name:null)||""];if(!R)return[null,!1,C,null];switch(x){case"query":var B=R.find(function(I){return I.req.limit===T.limit&&I.req.values===T.values&&va(I.req.query.range,T.query.range)});return B?[B,!0,C,R]:[R.find(function(I){return("limit"in I.req?I.req.limit:1/0)>=T.limit&&(!T.values||I.req.values)&&Co(I.req.query.range,T.query.range)}),!1,C,R];case"count":return B=R.find(function(I){return va(I.req.query.range,T.query.range)}),[B,!!B,C,R]}}(t,n,"query",s),A=m[0],h=m[1],y=m[2],_=m[3];return A&&h?A.obsSet=s.obsSet:(h=i.query(s).then(function(O){var P=O.result;if(A&&(A.res=P),c){for(var x=0,T=P.length;x<T;++x)Object.freeze(P[x]);Object.freeze(P)}else O.result=re(P);return O}).catch(function(O){return _&&A&&ge(_,A),Promise.reject(O)}),A={obsSet:s.obsSet,promise:h,subscribers:new Set,type:"query",req:s,dirty:!1},_?_.push(A):(_=[A],(y=y||(_n["idb://".concat(t,"/").concat(n)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[s.query.index.name||""]=_)),Do(A,_,d,b),A.promise.then(function(O){return{result:pa(O.result,s,y==null?void 0:y.optimisticOps,i,A,c)}})}})}})}};function jr(e,t){return new Proxy(e,{get:function(n,i,o){return i==="db"?t:Reflect.get(n,i,o)}})}var Qt=(Ze.prototype.version=function(e){if(isNaN(e)||e<.1)throw new ne.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new ne.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=this._versions,n=t.filter(function(i){return i._cfg.version===e})[0];return n||(n=new this.Version(e),t.push(n),t.sort(wo),n.stores({}),this._state.autoSchema=!1,n)},Ze.prototype._whenReady=function(e){var t=this;return this.idbdb&&(this._state.openComplete||k.letThrough||this._vip)?e():new L(function(n,i){if(t._state.openComplete)return i(new ne.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._state.autoOpen)return void i(new ne.DatabaseClosed);t.open().catch(Oe)}t._state.dbReadyPromise.then(n,i)}).then(e)},Ze.prototype.use=function(e){var t=e.stack,n=e.create,i=e.level,o=e.name;return o&&this.unuse({stack:t,name:o}),e=this._middlewares[t]||(this._middlewares[t]=[]),e.push({stack:t,create:n,level:i??10,name:o}),e.sort(function(s,c){return s.level-c.level}),this},Ze.prototype.unuse=function(e){var t=e.stack,n=e.name,i=e.create;return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(function(o){return i?o.create!==i:!!n&&o.name!==n})),this},Ze.prototype.open=function(){var e=this;return gn(Ft,function(){return ko(e)})},Ze.prototype._close=function(){var e=this._state,t=Bn.indexOf(this);if(0<=t&&Bn.splice(t,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}e.isBeingOpened||(e.dbReadyPromise=new L(function(n){e.dbReadyResolve=n}),e.openCanceller=new L(function(n,i){e.cancelOpen=i}))},Ze.prototype.close=function(n){var t=(n===void 0?{disableAutoOpen:!0}:n).disableAutoOpen,n=this._state;t?(n.isBeingOpened&&n.cancelOpen(new ne.DatabaseClosed),this._close(),n.autoOpen=!1,n.dbOpenError=new ne.DatabaseClosed):(this._close(),n.autoOpen=this._options.autoOpen||n.isBeingOpened,n.openComplete=!1,n.dbOpenError=null)},Ze.prototype.delete=function(e){var t=this;e===void 0&&(e={disableAutoOpen:!0});var n=0<arguments.length&&typeof arguments[0]!="object",i=this._state;return new L(function(o,s){function c(){t.close(e);var d=t._deps.indexedDB.deleteDatabase(t.name);d.onsuccess=He(function(){var b,m,A;b=t._deps,m=t.name,A=b.indexedDB,b=b.IDBKeyRange,oi(A)||m===yr||ai(A,b).delete(m).catch(Oe),o()}),d.onerror=zt(s),d.onblocked=t._fireOnBlocked}if(n)throw new ne.InvalidArgument("Invalid closeOptions argument to db.delete()");i.isBeingOpened?i.dbReadyPromise.then(c):c()})},Ze.prototype.backendDB=function(){return this.idbdb},Ze.prototype.isOpen=function(){return this.idbdb!==null},Ze.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"},Ze.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Ze.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Ze.prototype,"tables",{get:function(){var e=this;return E(this._allTables).map(function(t){return e._allTables[t]})},enumerable:!1,configurable:!0}),Ze.prototype.transaction=function(){var e=(function(t,n,i){var o=arguments.length;if(o<2)throw new ne.InvalidArgument("Too few arguments");for(var s=new Array(o-1);--o;)s[o-1]=arguments[o];return i=s.pop(),[t,ye(s),i]}).apply(this,arguments);return this._transaction.apply(this,e)},Ze.prototype._transaction=function(e,t,n){var i=this,o=k.trans;o&&o.db===this&&e.indexOf("!")===-1||(o=null);var s,c,d=e.indexOf("?")!==-1;e=e.replace("!","").replace("?","");try{if(c=t.map(function(m){if(m=m instanceof i.Table?m.name:m,typeof m!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return m}),e=="r"||e===Ur)s=Ur;else{if(e!="rw"&&e!=Gr)throw new ne.InvalidArgument("Invalid transaction mode: "+e);s=Gr}if(o){if(o.mode===Ur&&s===Gr){if(!d)throw new ne.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");o=null}o&&c.forEach(function(m){if(o&&o.storeNames.indexOf(m)===-1){if(!d)throw new ne.SubTransaction("Table "+m+" not included in parent transaction.");o=null}}),d&&o&&!o.active&&(o=null)}}catch(m){return o?o._promise(null,function(A,h){h(m)}):Xe(m)}var b=(function m(A,h,y,_,O){return L.resolve().then(function(){var P=k.transless||k,x=A._createTransaction(h,y,A._dbSchema,_);if(x.explicit=!0,P={trans:x,transless:P},_)x.idbtrans=_.idbtrans;else try{x.create(),x.idbtrans._explicit=!0,A._state.PR1398_maxLoop=3}catch(R){return R.name===Tt.InvalidState&&A.isOpen()&&0<--A._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),A.close({disableAutoOpen:!1}),A.open().then(function(){return m(A,h,y,null,O)})):Xe(R)}var T,C=ae(O);return C&&Rn(),P=L.follow(function(){var R;(T=O.call(x,x))&&(C?(R=sn.bind(null,null),T.then(R,R)):typeof T.next=="function"&&typeof T.throw=="function"&&(T=vi(T)))},P),(T&&typeof T.then=="function"?L.resolve(T).then(function(R){return x.active?R:Xe(new ne.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):P.then(function(){return T})).then(function(R){return _&&x._resolve(),x._completion.then(function(){return R})}).catch(function(R){return x._reject(R),Xe(R)})})}).bind(null,this,s,c,o,n);return o?o._promise(s,b,"lock"):k.trans?gn(k.transless,function(){return i._whenReady(b)}):this._whenReady(b)},Ze.prototype.table=function(e){if(!M(this._allTables,e))throw new ne.InvalidTable("Table ".concat(e," does not exist"));return this._allTables[e]},Ze);function Ze(e,t){var n=this;this._middlewares={},this.verno=0;var i=Ze.dependencies;this._options=t=l({addons:Ze.addons,autoOpen:!0,indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange,cache:"cloned"},t),this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange},i=t.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var o,s,c,d,b,m={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Oe,dbReadyPromise:null,cancelOpen:Oe,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:t.autoOpen};m.dbReadyPromise=new L(function(h){m.dbReadyResolve=h}),m.openCanceller=new L(function(h,y){m.cancelOpen=y}),this._state=m,this.name=e,this.on=Un(this,"populate","blocked","versionchange","close",{ready:[_t,Oe]}),this.on.ready.subscribe=U(this.on.ready.subscribe,function(h){return function(y,_){Ze.vip(function(){var O,P=n._state;P.openComplete?(P.dbOpenError||L.resolve().then(y),_&&h(y)):P.onReadyBeingFired?(P.onReadyBeingFired.push(y),_&&h(y)):(h(y),O=n,_||h(function x(){O.on.ready.unsubscribe(y),O.on.ready.unsubscribe(x)}))})}}),this.Collection=(o=this,Gn(po.prototype,function(T,x){this.db=o;var _=Ui,O=null;if(x)try{_=x()}catch(C){O=C}var P=T._ctx,x=P.table,T=x.hook.reading.fire;this._ctx={table:x,index:P.index,isPrimKey:!P.index||x.schema.primKey.keyPath&&P.index===x.schema.primKey.name,range:_,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:O,or:P.or,valueMapper:T!==dt?T:null}})),this.Table=(s=this,Gn(Zi.prototype,function(h,y,_){this.db=s,this._tx=_,this.name=h,this.schema=y,this.hook=s._allTables[h]?s._allTables[h].hook:Un(null,{creating:[hn,Oe],reading:[Pn,dt],updating:[Tn,Oe],deleting:[mn,Oe]})})),this.Transaction=(c=this,Gn(mo.prototype,function(h,y,_,O,P){var x=this;this.db=c,this.mode=h,this.storeNames=y,this.schema=_,this.chromeTransactionDurability=O,this.idbtrans=null,this.on=Un(this,"complete","error","abort"),this.parent=P||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new L(function(T,C){x._resolve=T,x._reject=C}),this._completion.then(function(){x.active=!1,x.on.complete.fire()},function(T){var C=x.active;return x.active=!1,x.on.error.fire(T),x.parent?x.parent._reject(T):C&&x.idbtrans&&x.idbtrans.abort(),Xe(T)})})),this.Version=(d=this,Gn(Oo.prototype,function(h){this.db=d,this._cfg={version:h,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(b=this,Gn(ta.prototype,function(h,y,_){if(this.db=b,this._ctx={table:h,index:y===":id"?null:y,or:_},this._cmp=this._ascending=Be,this._descending=function(O,P){return Be(P,O)},this._max=function(O,P){return 0<Be(O,P)?O:P},this._min=function(O,P){return Be(O,P)<0?O:P},this._IDBKeyRange=b._deps.IDBKeyRange,!this._IDBKeyRange)throw new ne.MissingAPI})),this.on("versionchange",function(h){0<h.newVersion?console.warn("Another connection wants to upgrade database '".concat(n.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(n.name,"'. Closing db now to resume the delete request.")),n.close({disableAutoOpen:!1})}),this.on("blocked",function(h){!h.newVersion||h.newVersion<h.oldVersion?console.warn("Dexie.delete('".concat(n.name,"') was blocked")):console.warn("Upgrade '".concat(n.name,"' blocked by other connection holding version ").concat(h.oldVersion/10))}),this._maxKey=Zn(t.IDBKeyRange),this._createTransaction=function(h,y,_,O){return new n.Transaction(h,y,_,n._options.chromeTransactionDurability,O)},this._fireOnBlocked=function(h){n.on("blocked").fire(h),Bn.filter(function(y){return y.name===n.name&&y!==n&&!y._state.vcFired}).map(function(y){return y.on("versionchange").fire(h)})},this.use(Po),this.use(So),this.use(To),this.use(Eo),this.use(Ao);var A=new Proxy(this,{get:function(h,y,_){if(y==="_vip")return!0;if(y==="table")return function(P){return jr(n.table(P),A)};var O=Reflect.get(h,y,_);return O instanceof Zi?jr(O,A):y==="tables"?O.map(function(P){return jr(P,A)}):y==="_createTransaction"?function(){return jr(O.apply(this,arguments),A)}:O}});this.vip=A,i.forEach(function(h){return h(n)})}var Rr,Dt=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",jo=(gi.prototype.subscribe=function(e,t,n){return this._subscribe(e&&typeof e!="function"?e:{next:e,error:t,complete:n})},gi.prototype[Dt]=function(){return this},gi);function gi(e){this._subscribe=e}try{Rr={indexedDB:v.indexedDB||v.mozIndexedDB||v.webkitIndexedDB||v.msIndexedDB,IDBKeyRange:v.IDBKeyRange||v.webkitIDBKeyRange}}catch{Rr={indexedDB:null,IDBKeyRange:null}}function ha(e){var t,n=!1,i=new jo(function(o){var s=ae(e),c,d=!1,b={},m={},A={get closed(){return d},unsubscribe:function(){d||(d=!0,c&&c.abort(),h&&fn.storagemutated.unsubscribe(_))}};o.start&&o.start(A);var h=!1,y=function(){return Wr(O)},_=function(P){Cr(b,P),ci(m,b)&&y()},O=function(){var P,x,T;!d&&Rr.indexedDB&&(b={},P={},c&&c.abort(),c=new AbortController,T=function(C){var R=Ot();try{s&&Rn();var B=on(e,C);return B=s?B.finally(sn):B}finally{R&&an()}}(x={subscr:P,signal:c.signal,requery:y,querier:e,trans:null}),Promise.resolve(T).then(function(C){n=!0,t=C,d||x.signal.aborted||(b={},function(R){for(var B in R)if(M(R,B))return;return 1}(m=P)||h||(fn(Xn,_),h=!0),Wr(function(){return!d&&o.next&&o.next(C)}))},function(C){n=!1,["DatabaseClosedError","AbortError"].includes(C==null?void 0:C.name)||d||Wr(function(){d||o.error&&o.error(C)})}))};return setTimeout(y,0),A});return i.hasValue=function(){return n},i.getValue=function(){return t},i}var xn=Qt;function bi(e){var t=dn;try{dn=!0,fn.storagemutated.fire(e),pi(e,!0)}finally{dn=t}}K(xn,l(l({},wt),{delete:function(e){return new xn(e,{addons:[]}).delete()},exists:function(e){return new xn(e,{addons:[]}).open().then(function(t){return t.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(e){try{return t=xn.dependencies,n=t.indexedDB,t=t.IDBKeyRange,(oi(n)?Promise.resolve(n.databases()).then(function(i){return i.map(function(o){return o.name}).filter(function(o){return o!==yr})}):ai(n,t).toCollection().primaryKeys()).then(e)}catch{return Xe(new ne.MissingAPI)}var t,n},defineClass:function(){return function(e){g(this,e)}},ignoreTransaction:function(e){return k.trans?gn(k.transless,e):e()},vip:si,async:function(e){return function(){try{var t=vi(e.apply(this,arguments));return t&&typeof t.then=="function"?t:L.resolve(t)}catch(n){return Xe(n)}}},spawn:function(e,t,n){try{var i=vi(e.apply(n,t||[]));return i&&typeof i.then=="function"?i:L.resolve(i)}catch(o){return Xe(o)}},currentTransaction:{get:function(){return k.trans||null}},waitFor:function(e,t){return t=L.resolve(typeof e=="function"?xn.ignoreTransaction(e):e).timeout(t||6e4),k.trans?k.trans.waitFor(t):t},Promise:L,debug:{get:function(){return tt},set:function(e){en(e)}},derive:X,extend:g,props:K,override:U,Events:Un,on:fn,liveQuery:ha,extendObservabilitySet:Cr,getByKeyPath:j,setByKeyPath:ee,delByKeyPath:function(e,t){typeof t=="string"?ee(e,t,void 0):"length"in t&&[].map.call(t,function(n){ee(e,n,void 0)})},shallowClone:xe,deepClone:re,getObjectDiff:hi,cmp:Be,asap:G,minKey:-1/0,addons:[],connections:Bn,errnames:Tt,dependencies:Rr,cache:_n,semVer:ln,version:ln.split(".").map(function(e){return parseInt(e)}).reduce(function(e,t,n){return e+t/Math.pow(10,2*n)})})),xn.maxKey=Zn(xn.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(fn(Xn,function(e){dn||(e=new CustomEvent(Jr,{detail:e}),dn=!0,dispatchEvent(e),dn=!1)}),addEventListener(Jr,function(e){e=e.detail,dn||bi(e)}));var In,dn=!1,ma=function(){};return typeof BroadcastChannel<"u"&&((ma=function(){(In=new BroadcastChannel(Jr)).onmessage=function(e){return e.data&&bi(e.data)}})(),typeof In.unref=="function"&&In.unref(),fn(Xn,function(e){dn||In.postMessage(e)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(e){if(!Qt.disableBfCache&&e.persisted){tt&&console.debug("Dexie: handling persisted pagehide"),In!=null&&In.close();for(var t=0,n=Bn;t<n.length;t++)n[t].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(e){!Qt.disableBfCache&&e.persisted&&(tt&&console.debug("Dexie: handling persisted pageshow"),ma(),bi({all:new st(-1/0,[[]])}))})),L.rejectionMapper=function(e,t){return!e||e instanceof qe||e instanceof TypeError||e instanceof SyntaxError||!e.name||!bt[e.name]?e:(t=new bt[e.name](t||e.message,e),"stack"in e&&Z(t,"stack",{get:function(){return this.inner.stack}}),t)},en(tt),l(Qt,Object.freeze({__proto__:null,Dexie:Qt,liveQuery:ha,Entity:Gi,cmp:Be,PropModSymbol:Zt,PropModification:Zr,replacePrefix:function(e,t){return new Zr({replacePrefix:[e,t]})},default:Qt,RangeSet:st,mergeRanges:$n,rangesOverlap:Tr}),{default:Qt}),Qt})})(Ha);var zs=Ha.exports;const Ci=Ns(zs),Oa=Symbol.for("Dexie"),Di=globalThis[Oa]||(globalThis[Oa]=Ci);if(Ci.semVer!==Di.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Ci.semVer} and ${Di.semVer}`);const tr=new Di("mrmExplorer");tr.version(1).stores({images:"++id, name, image, mrm_json"});var yt="top",Rt="bottom",Bt="right",gt="left",Mi="auto",cr=[yt,Rt,Bt,gt],qn="start",ur="end",Vs="clippingParents",Wa="viewport",er="popper",Hs="reference",ka=cr.reduce(function(a,r){return a.concat([r+"-"+qn,r+"-"+ur])},[]),Ua=[].concat(cr,[Mi]).reduce(function(a,r){return a.concat([r,r+"-"+qn,r+"-"+ur])},[]),Ws="beforeRead",Us="read",Gs="afterRead",Ys="beforeMain",Xs="main",Zs="afterMain",Qs="beforeWrite",Js="write",$s="afterWrite",eu=[Ws,Us,Gs,Ys,Xs,Zs,Qs,Js,$s];function Ut(a){return a?(a.nodeName||"").toLowerCase():null}function Pt(a){if(a==null)return window;if(a.toString()!=="[object Window]"){var r=a.ownerDocument;return r&&r.defaultView||window}return a}function An(a){var r=Pt(a).Element;return a instanceof r||a instanceof Element}function St(a){var r=Pt(a).HTMLElement;return a instanceof r||a instanceof HTMLElement}function Ki(a){if(typeof ShadowRoot>"u")return!1;var r=Pt(a).ShadowRoot;return a instanceof r||a instanceof ShadowRoot}function tu(a){var r=a.state;Object.keys(r.elements).forEach(function(u){var l=r.styles[u]||{},f=r.attributes[u]||{},v=r.elements[u];!St(v)||!Ut(v)||(Object.assign(v.style,l),Object.keys(f).forEach(function(E){var w=f[E];w===!1?v.removeAttribute(E):v.setAttribute(E,w===!0?"":w)}))})}function nu(a){var r=a.state,u={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(r.elements.popper.style,u.popper),r.styles=u,r.elements.arrow&&Object.assign(r.elements.arrow.style,u.arrow),function(){Object.keys(r.elements).forEach(function(l){var f=r.elements[l],v=r.attributes[l]||{},E=Object.keys(r.styles.hasOwnProperty(l)?r.styles[l]:u[l]),w=E.reduce(function(g,S){return g[S]="",g},{});!St(f)||!Ut(f)||(Object.assign(f.style,w),Object.keys(v).forEach(function(g){f.removeAttribute(g)}))})}}const Ga={name:"applyStyles",enabled:!0,phase:"write",fn:tu,effect:nu,requires:["computeStyles"]};function Wt(a){return a.split("-")[0]}var En=Math.max,Nr=Math.min,Fn=Math.round;function Si(){var a=navigator.userAgentData;return a!=null&&a.brands&&Array.isArray(a.brands)?a.brands.map(function(r){return r.brand+"/"+r.version}).join(" "):navigator.userAgent}function Ya(){return!/^((?!chrome|android).)*safari/i.test(Si())}function Nn(a,r,u){r===void 0&&(r=!1),u===void 0&&(u=!1);var l=a.getBoundingClientRect(),f=1,v=1;r&&St(a)&&(f=a.offsetWidth>0&&Fn(l.width)/a.offsetWidth||1,v=a.offsetHeight>0&&Fn(l.height)/a.offsetHeight||1);var E=An(a)?Pt(a):window,w=E.visualViewport,g=!Ya()&&u,S=(l.left+(g&&w?w.offsetLeft:0))/f,D=(l.top+(g&&w?w.offsetTop:0))/v,M=l.width/f,K=l.height/v;return{width:M,height:K,top:D,right:S+M,bottom:D+K,left:S,x:S,y:D}}function Ii(a){var r=Nn(a),u=a.offsetWidth,l=a.offsetHeight;return Math.abs(r.width-u)<=1&&(u=r.width),Math.abs(r.height-l)<=1&&(l=r.height),{x:a.offsetLeft,y:a.offsetTop,width:u,height:l}}function Xa(a,r){var u=r.getRootNode&&r.getRootNode();if(a.contains(r))return!0;if(u&&Ki(u)){var l=r;do{if(l&&a.isSameNode(l))return!0;l=l.parentNode||l.host}while(l)}return!1}function $t(a){return Pt(a).getComputedStyle(a)}function ru(a){return["table","td","th"].indexOf(Ut(a))>=0}function vn(a){return((An(a)?a.ownerDocument:a.document)||window.document).documentElement}function Vr(a){return Ut(a)==="html"?a:a.assignedSlot||a.parentNode||(Ki(a)?a.host:null)||vn(a)}function Ea(a){return!St(a)||$t(a).position==="fixed"?null:a.offsetParent}function iu(a){var r=/firefox/i.test(Si()),u=/Trident/i.test(Si());if(u&&St(a)){var l=$t(a);if(l.position==="fixed")return null}var f=Vr(a);for(Ki(f)&&(f=f.host);St(f)&&["html","body"].indexOf(Ut(f))<0;){var v=$t(f);if(v.transform!=="none"||v.perspective!=="none"||v.contain==="paint"||["transform","perspective"].indexOf(v.willChange)!==-1||r&&v.willChange==="filter"||r&&v.filter&&v.filter!=="none")return f;f=f.parentNode}return null}function fr(a){for(var r=Pt(a),u=Ea(a);u&&ru(u)&&$t(u).position==="static";)u=Ea(u);return u&&(Ut(u)==="html"||Ut(u)==="body"&&$t(u).position==="static")?r:u||iu(a)||r}function Li(a){return["top","bottom"].indexOf(a)>=0?"x":"y"}function nr(a,r,u){return En(a,Nr(r,u))}function au(a,r,u){var l=nr(a,r,u);return l>u?u:l}function Za(){return{top:0,right:0,bottom:0,left:0}}function Qa(a){return Object.assign({},Za(),a)}function Ja(a,r){return r.reduce(function(u,l){return u[l]=a,u},{})}var ou=function(r,u){return r=typeof r=="function"?r(Object.assign({},u.rects,{placement:u.placement})):r,Qa(typeof r!="number"?r:Ja(r,cr))};function su(a){var r,u=a.state,l=a.name,f=a.options,v=u.elements.arrow,E=u.modifiersData.popperOffsets,w=Wt(u.placement),g=Li(w),S=[gt,Bt].indexOf(w)>=0,D=S?"height":"width";if(!(!v||!E)){var M=ou(f.padding,u),K=Ii(v),J=g==="y"?yt:gt,Z=g==="y"?Rt:Bt,X=u.rects.reference[D]+u.rects.reference[g]-E[g]-u.rects.popper[D],$=E[g]-u.rects.reference[g],q=fr(v),H=q?g==="y"?q.clientHeight||0:q.clientWidth||0:0,U=X/2-$/2,p=M[J],G=H-K[D]-M[Z],j=H/2-K[D]/2+U,ee=nr(p,j,G),xe=g;u.modifiersData[l]=(r={},r[xe]=ee,r.centerOffset=ee-j,r)}}function uu(a){var r=a.state,u=a.options,l=u.element,f=l===void 0?"[data-popper-arrow]":l;f!=null&&(typeof f=="string"&&(f=r.elements.popper.querySelector(f),!f)||Xa(r.elements.popper,f)&&(r.elements.arrow=f))}const lu={name:"arrow",enabled:!0,phase:"main",fn:su,effect:uu,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function zn(a){return a.split("-")[1]}var cu={top:"auto",right:"auto",bottom:"auto",left:"auto"};function fu(a,r){var u=a.x,l=a.y,f=r.devicePixelRatio||1;return{x:Fn(u*f)/f||0,y:Fn(l*f)/f||0}}function Aa(a){var r,u=a.popper,l=a.popperRect,f=a.placement,v=a.variation,E=a.offsets,w=a.position,g=a.gpuAcceleration,S=a.adaptive,D=a.roundOffsets,M=a.isFixed,K=E.x,J=K===void 0?0:K,Z=E.y,X=Z===void 0?0:Z,$=typeof D=="function"?D({x:J,y:X}):{x:J,y:X};J=$.x,X=$.y;var q=E.hasOwnProperty("x"),H=E.hasOwnProperty("y"),U=gt,p=yt,G=window;if(S){var j=fr(u),ee="clientHeight",xe="clientWidth";if(j===Pt(u)&&(j=vn(u),$t(j).position!=="static"&&w==="absolute"&&(ee="scrollHeight",xe="scrollWidth")),j=j,f===yt||(f===gt||f===Bt)&&v===ur){p=Rt;var he=M&&j===G&&G.visualViewport?G.visualViewport.height:j[ee];X-=he-l.height,X*=g?1:-1}if(f===gt||(f===yt||f===Rt)&&v===ur){U=Bt;var ye=M&&j===G&&G.visualViewport?G.visualViewport.width:j[xe];J-=ye-l.width,J*=g?1:-1}}var _e=Object.assign({position:w},S&&cu),fe=D===!0?fu({x:J,y:X},Pt(u)):{x:J,y:X};if(J=fe.x,X=fe.y,g){var re;return Object.assign({},_e,(re={},re[p]=H?"0":"",re[U]=q?"0":"",re.transform=(G.devicePixelRatio||1)<=1?"translate("+J+"px, "+X+"px)":"translate3d("+J+"px, "+X+"px, 0)",re))}return Object.assign({},_e,(r={},r[p]=H?X+"px":"",r[U]=q?J+"px":"",r.transform="",r))}function du(a){var r=a.state,u=a.options,l=u.gpuAcceleration,f=l===void 0?!0:l,v=u.adaptive,E=v===void 0?!0:v,w=u.roundOffsets,g=w===void 0?!0:w,S={placement:Wt(r.placement),variation:zn(r.placement),popper:r.elements.popper,popperRect:r.rects.popper,gpuAcceleration:f,isFixed:r.options.strategy==="fixed"};r.modifiersData.popperOffsets!=null&&(r.styles.popper=Object.assign({},r.styles.popper,Aa(Object.assign({},S,{offsets:r.modifiersData.popperOffsets,position:r.options.strategy,adaptive:E,roundOffsets:g})))),r.modifiersData.arrow!=null&&(r.styles.arrow=Object.assign({},r.styles.arrow,Aa(Object.assign({},S,{offsets:r.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:g})))),r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-placement":r.placement})}const pu={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:du,data:{}};var Kr={passive:!0};function vu(a){var r=a.state,u=a.instance,l=a.options,f=l.scroll,v=f===void 0?!0:f,E=l.resize,w=E===void 0?!0:E,g=Pt(r.elements.popper),S=[].concat(r.scrollParents.reference,r.scrollParents.popper);return v&&S.forEach(function(D){D.addEventListener("scroll",u.update,Kr)}),w&&g.addEventListener("resize",u.update,Kr),function(){v&&S.forEach(function(D){D.removeEventListener("scroll",u.update,Kr)}),w&&g.removeEventListener("resize",u.update,Kr)}}const hu={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:vu,data:{}};var mu={left:"right",right:"left",bottom:"top",top:"bottom"};function qr(a){return a.replace(/left|right|bottom|top/g,function(r){return mu[r]})}var yu={start:"end",end:"start"};function Pa(a){return a.replace(/start|end/g,function(r){return yu[r]})}function qi(a){var r=Pt(a),u=r.pageXOffset,l=r.pageYOffset;return{scrollLeft:u,scrollTop:l}}function Fi(a){return Nn(vn(a)).left+qi(a).scrollLeft}function gu(a,r){var u=Pt(a),l=vn(a),f=u.visualViewport,v=l.clientWidth,E=l.clientHeight,w=0,g=0;if(f){v=f.width,E=f.height;var S=Ya();(S||!S&&r==="fixed")&&(w=f.offsetLeft,g=f.offsetTop)}return{width:v,height:E,x:w+Fi(a),y:g}}function bu(a){var r,u=vn(a),l=qi(a),f=(r=a.ownerDocument)==null?void 0:r.body,v=En(u.scrollWidth,u.clientWidth,f?f.scrollWidth:0,f?f.clientWidth:0),E=En(u.scrollHeight,u.clientHeight,f?f.scrollHeight:0,f?f.clientHeight:0),w=-l.scrollLeft+Fi(a),g=-l.scrollTop;return $t(f||u).direction==="rtl"&&(w+=En(u.clientWidth,f?f.clientWidth:0)-v),{width:v,height:E,x:w,y:g}}function Ni(a){var r=$t(a),u=r.overflow,l=r.overflowX,f=r.overflowY;return/auto|scroll|overlay|hidden/.test(u+f+l)}function $a(a){return["html","body","#document"].indexOf(Ut(a))>=0?a.ownerDocument.body:St(a)&&Ni(a)?a:$a(Vr(a))}function rr(a,r){var u;r===void 0&&(r=[]);var l=$a(a),f=l===((u=a.ownerDocument)==null?void 0:u.body),v=Pt(l),E=f?[v].concat(v.visualViewport||[],Ni(l)?l:[]):l,w=r.concat(E);return f?w:w.concat(rr(Vr(E)))}function ji(a){return Object.assign({},a,{left:a.x,top:a.y,right:a.x+a.width,bottom:a.y+a.height})}function wu(a,r){var u=Nn(a,!1,r==="fixed");return u.top=u.top+a.clientTop,u.left=u.left+a.clientLeft,u.bottom=u.top+a.clientHeight,u.right=u.left+a.clientWidth,u.width=a.clientWidth,u.height=a.clientHeight,u.x=u.left,u.y=u.top,u}function Ta(a,r,u){return r===Wa?ji(gu(a,u)):An(r)?wu(r,u):ji(bu(vn(a)))}function _u(a){var r=rr(Vr(a)),u=["absolute","fixed"].indexOf($t(a).position)>=0,l=u&&St(a)?fr(a):a;return An(l)?r.filter(function(f){return An(f)&&Xa(f,l)&&Ut(f)!=="body"}):[]}function xu(a,r,u,l){var f=r==="clippingParents"?_u(a):[].concat(r),v=[].concat(f,[u]),E=v[0],w=v.reduce(function(g,S){var D=Ta(a,S,l);return g.top=En(D.top,g.top),g.right=Nr(D.right,g.right),g.bottom=Nr(D.bottom,g.bottom),g.left=En(D.left,g.left),g},Ta(a,E,l));return w.width=w.right-w.left,w.height=w.bottom-w.top,w.x=w.left,w.y=w.top,w}function eo(a){var r=a.reference,u=a.element,l=a.placement,f=l?Wt(l):null,v=l?zn(l):null,E=r.x+r.width/2-u.width/2,w=r.y+r.height/2-u.height/2,g;switch(f){case yt:g={x:E,y:r.y-u.height};break;case Rt:g={x:E,y:r.y+r.height};break;case Bt:g={x:r.x+r.width,y:w};break;case gt:g={x:r.x-u.width,y:w};break;default:g={x:r.x,y:r.y}}var S=f?Li(f):null;if(S!=null){var D=S==="y"?"height":"width";switch(v){case qn:g[S]=g[S]-(r[D]/2-u[D]/2);break;case ur:g[S]=g[S]+(r[D]/2-u[D]/2);break}}return g}function lr(a,r){r===void 0&&(r={});var u=r,l=u.placement,f=l===void 0?a.placement:l,v=u.strategy,E=v===void 0?a.strategy:v,w=u.boundary,g=w===void 0?Vs:w,S=u.rootBoundary,D=S===void 0?Wa:S,M=u.elementContext,K=M===void 0?er:M,J=u.altBoundary,Z=J===void 0?!1:J,X=u.padding,$=X===void 0?0:X,q=Qa(typeof $!="number"?$:Ja($,cr)),H=K===er?Hs:er,U=a.rects.popper,p=a.elements[Z?H:K],G=xu(An(p)?p:p.contextElement||vn(a.elements.popper),g,D,E),j=Nn(a.elements.reference),ee=eo({reference:j,element:U,strategy:"absolute",placement:f}),xe=ji(Object.assign({},U,ee)),he=K===er?xe:j,ye={top:G.top-he.top+q.top,bottom:he.bottom-G.bottom+q.bottom,left:G.left-he.left+q.left,right:he.right-G.right+q.right},_e=a.modifiersData.offset;if(K===er&&_e){var fe=_e[f];Object.keys(ye).forEach(function(re){var Me=[Bt,Rt].indexOf(re)>=0?1:-1,Ae=[yt,Rt].indexOf(re)>=0?"y":"x";ye[re]+=fe[Ae]*Me})}return ye}function Ou(a,r){r===void 0&&(r={});var u=r,l=u.placement,f=u.boundary,v=u.rootBoundary,E=u.padding,w=u.flipVariations,g=u.allowedAutoPlacements,S=g===void 0?Ua:g,D=zn(l),M=D?w?ka:ka.filter(function(Z){return zn(Z)===D}):cr,K=M.filter(function(Z){return S.indexOf(Z)>=0});K.length===0&&(K=M);var J=K.reduce(function(Z,X){return Z[X]=lr(a,{placement:X,boundary:f,rootBoundary:v,padding:E})[Wt(X)],Z},{});return Object.keys(J).sort(function(Z,X){return J[Z]-J[X]})}function ku(a){if(Wt(a)===Mi)return[];var r=qr(a);return[Pa(a),r,Pa(r)]}function Eu(a){var r=a.state,u=a.options,l=a.name;if(!r.modifiersData[l]._skip){for(var f=u.mainAxis,v=f===void 0?!0:f,E=u.altAxis,w=E===void 0?!0:E,g=u.fallbackPlacements,S=u.padding,D=u.boundary,M=u.rootBoundary,K=u.altBoundary,J=u.flipVariations,Z=J===void 0?!0:J,X=u.allowedAutoPlacements,$=r.options.placement,q=Wt($),H=q===$,U=g||(H||!Z?[qr($)]:ku($)),p=[$].concat(U).reduce(function(ft,rt){return ft.concat(Wt(rt)===Mi?Ou(r,{placement:rt,boundary:D,rootBoundary:M,padding:S,flipVariations:Z,allowedAutoPlacements:X}):rt)},[]),G=r.rects.reference,j=r.rects.popper,ee=new Map,xe=!0,he=p[0],ye=0;ye<p.length;ye++){var _e=p[ye],fe=Wt(_e),re=zn(_e)===qn,Me=[yt,Rt].indexOf(fe)>=0,Ae=Me?"width":"height",Y=lr(r,{placement:_e,boundary:D,rootBoundary:M,altBoundary:K,padding:S}),Pe=Me?re?Bt:gt:re?Rt:yt;G[Ae]>j[Ae]&&(Pe=qr(Pe));var ge=qr(Pe),De=[];if(v&&De.push(Y[fe]<=0),w&&De.push(Y[Pe]<=0,Y[ge]<=0),De.every(function(ft){return ft})){he=_e,xe=!1;break}ee.set(_e,De)}if(xe)for(var le=Z?3:1,ae=function(rt){var et=p.find(function(Tt){var ht=ee.get(Tt);if(ht)return ht.slice(0,rt).every(function(ne){return ne})});if(et)return he=et,"break"},Se=le;Se>0;Se--){var qe=ae(Se);if(qe==="break")break}r.placement!==he&&(r.modifiersData[l]._skip=!0,r.placement=he,r.reset=!0)}}const Au={name:"flip",enabled:!0,phase:"main",fn:Eu,requiresIfExists:["offset"],data:{_skip:!1}};function Ca(a,r,u){return u===void 0&&(u={x:0,y:0}),{top:a.top-r.height-u.y,right:a.right-r.width+u.x,bottom:a.bottom-r.height+u.y,left:a.left-r.width-u.x}}function Da(a){return[yt,Bt,Rt,gt].some(function(r){return a[r]>=0})}function Pu(a){var r=a.state,u=a.name,l=r.rects.reference,f=r.rects.popper,v=r.modifiersData.preventOverflow,E=lr(r,{elementContext:"reference"}),w=lr(r,{altBoundary:!0}),g=Ca(E,l),S=Ca(w,f,v),D=Da(g),M=Da(S);r.modifiersData[u]={referenceClippingOffsets:g,popperEscapeOffsets:S,isReferenceHidden:D,hasPopperEscaped:M},r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-reference-hidden":D,"data-popper-escaped":M})}const Tu={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Pu};function Cu(a,r,u){var l=Wt(a),f=[gt,yt].indexOf(l)>=0?-1:1,v=typeof u=="function"?u(Object.assign({},r,{placement:a})):u,E=v[0],w=v[1];return E=E||0,w=(w||0)*f,[gt,Bt].indexOf(l)>=0?{x:w,y:E}:{x:E,y:w}}function Du(a){var r=a.state,u=a.options,l=a.name,f=u.offset,v=f===void 0?[0,0]:f,E=Ua.reduce(function(D,M){return D[M]=Cu(M,r.rects,v),D},{}),w=E[r.placement],g=w.x,S=w.y;r.modifiersData.popperOffsets!=null&&(r.modifiersData.popperOffsets.x+=g,r.modifiersData.popperOffsets.y+=S),r.modifiersData[l]=E}const Su={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Du};function ju(a){var r=a.state,u=a.name;r.modifiersData[u]=eo({reference:r.rects.reference,element:r.rects.popper,strategy:"absolute",placement:r.placement})}const Ru={name:"popperOffsets",enabled:!0,phase:"read",fn:ju,data:{}};function Bu(a){return a==="x"?"y":"x"}function Mu(a){var r=a.state,u=a.options,l=a.name,f=u.mainAxis,v=f===void 0?!0:f,E=u.altAxis,w=E===void 0?!1:E,g=u.boundary,S=u.rootBoundary,D=u.altBoundary,M=u.padding,K=u.tether,J=K===void 0?!0:K,Z=u.tetherOffset,X=Z===void 0?0:Z,$=lr(r,{boundary:g,rootBoundary:S,padding:M,altBoundary:D}),q=Wt(r.placement),H=zn(r.placement),U=!H,p=Li(q),G=Bu(p),j=r.modifiersData.popperOffsets,ee=r.rects.reference,xe=r.rects.popper,he=typeof X=="function"?X(Object.assign({},r.rects,{placement:r.placement})):X,ye=typeof he=="number"?{mainAxis:he,altAxis:he}:Object.assign({mainAxis:0,altAxis:0},he),_e=r.modifiersData.offset?r.modifiersData.offset[r.placement]:null,fe={x:0,y:0};if(j){if(v){var re,Me=p==="y"?yt:gt,Ae=p==="y"?Rt:Bt,Y=p==="y"?"height":"width",Pe=j[p],ge=Pe+$[Me],De=Pe-$[Ae],le=J?-xe[Y]/2:0,ae=H===qn?ee[Y]:xe[Y],Se=H===qn?-xe[Y]:-ee[Y],qe=r.elements.arrow,ft=J&&qe?Ii(qe):{width:0,height:0},rt=r.modifiersData["arrow#persistent"]?r.modifiersData["arrow#persistent"].padding:Za(),et=rt[Me],Tt=rt[Ae],ht=nr(0,ee[Y],ft[Y]),ne=U?ee[Y]/2-le-ht-et-ye.mainAxis:ae-ht-et-ye.mainAxis,bt=U?-ee[Y]/2+le+ht+Tt+ye.mainAxis:Se+ht+Tt+ye.mainAxis,wt=r.elements.arrow&&fr(r.elements.arrow),Oe=wt?p==="y"?wt.clientTop||0:wt.clientLeft||0:0,dt=(re=_e==null?void 0:_e[p])!=null?re:0,Pn=Pe+ne-dt-Oe,Ct=Pe+bt-dt,hn=nr(J?Nr(ge,Pn):ge,Pe,J?En(De,Ct):De);j[p]=hn,fe[p]=hn-Pe}if(w){var mn,Tn=p==="x"?yt:gt,Cn=p==="x"?Rt:Bt,_t=j[G],tt=G==="y"?"height":"width",en=_t+$[Tn],xt=_t-$[Cn],tn=[yt,gt].indexOf(q)!==-1,Lt=(mn=_e==null?void 0:_e[G])!=null?mn:0,nn=tn?en:_t-ee[tt]-xe[tt]-Lt+ye.altAxis,qt=tn?_t+ee[tt]+xe[tt]-Lt-ye.altAxis:xt,rn=J&&tn?au(nn,_t,qt):nr(J?nn:en,_t,J?qt:xt);j[G]=rn,fe[G]=rn-_t}r.modifiersData[l]=fe}}const Ku={name:"preventOverflow",enabled:!0,phase:"main",fn:Mu,requiresIfExists:["offset"]};function Iu(a){return{scrollLeft:a.scrollLeft,scrollTop:a.scrollTop}}function Lu(a){return a===Pt(a)||!St(a)?qi(a):Iu(a)}function qu(a){var r=a.getBoundingClientRect(),u=Fn(r.width)/a.offsetWidth||1,l=Fn(r.height)/a.offsetHeight||1;return u!==1||l!==1}function Fu(a,r,u){u===void 0&&(u=!1);var l=St(r),f=St(r)&&qu(r),v=vn(r),E=Nn(a,f,u),w={scrollLeft:0,scrollTop:0},g={x:0,y:0};return(l||!l&&!u)&&((Ut(r)!=="body"||Ni(v))&&(w=Lu(r)),St(r)?(g=Nn(r,!0),g.x+=r.clientLeft,g.y+=r.clientTop):v&&(g.x=Fi(v))),{x:E.left+w.scrollLeft-g.x,y:E.top+w.scrollTop-g.y,width:E.width,height:E.height}}function Nu(a){var r=new Map,u=new Set,l=[];a.forEach(function(v){r.set(v.name,v)});function f(v){u.add(v.name);var E=[].concat(v.requires||[],v.requiresIfExists||[]);E.forEach(function(w){if(!u.has(w)){var g=r.get(w);g&&f(g)}}),l.push(v)}return a.forEach(function(v){u.has(v.name)||f(v)}),l}function zu(a){var r=Nu(a);return eu.reduce(function(u,l){return u.concat(r.filter(function(f){return f.phase===l}))},[])}function Vu(a){var r;return function(){return r||(r=new Promise(function(u){Promise.resolve().then(function(){r=void 0,u(a())})})),r}}function Hu(a){var r=a.reduce(function(u,l){var f=u[l.name];return u[l.name]=f?Object.assign({},f,l,{options:Object.assign({},f.options,l.options),data:Object.assign({},f.data,l.data)}):l,u},{});return Object.keys(r).map(function(u){return r[u]})}var Sa={placement:"bottom",modifiers:[],strategy:"absolute"};function ja(){for(var a=arguments.length,r=new Array(a),u=0;u<a;u++)r[u]=arguments[u];return!r.some(function(l){return!(l&&typeof l.getBoundingClientRect=="function")})}function Wu(a){a===void 0&&(a={});var r=a,u=r.defaultModifiers,l=u===void 0?[]:u,f=r.defaultOptions,v=f===void 0?Sa:f;return function(w,g,S){S===void 0&&(S=v);var D={placement:"bottom",orderedModifiers:[],options:Object.assign({},Sa,v),modifiersData:{},elements:{reference:w,popper:g},attributes:{},styles:{}},M=[],K=!1,J={state:D,setOptions:function(q){var H=typeof q=="function"?q(D.options):q;X(),D.options=Object.assign({},v,D.options,H),D.scrollParents={reference:An(w)?rr(w):w.contextElement?rr(w.contextElement):[],popper:rr(g)};var U=zu(Hu([].concat(l,D.options.modifiers)));return D.orderedModifiers=U.filter(function(p){return p.enabled}),Z(),J.update()},forceUpdate:function(){if(!K){var q=D.elements,H=q.reference,U=q.popper;if(ja(H,U)){D.rects={reference:Fu(H,fr(U),D.options.strategy==="fixed"),popper:Ii(U)},D.reset=!1,D.placement=D.options.placement,D.orderedModifiers.forEach(function(ye){return D.modifiersData[ye.name]=Object.assign({},ye.data)});for(var p=0;p<D.orderedModifiers.length;p++){if(D.reset===!0){D.reset=!1,p=-1;continue}var G=D.orderedModifiers[p],j=G.fn,ee=G.options,xe=ee===void 0?{}:ee,he=G.name;typeof j=="function"&&(D=j({state:D,options:xe,name:he,instance:J})||D)}}}},update:Vu(function(){return new Promise(function($){J.forceUpdate(),$(D)})}),destroy:function(){X(),K=!0}};if(!ja(w,g))return J;J.setOptions(S).then(function($){!K&&S.onFirstUpdate&&S.onFirstUpdate($)});function Z(){D.orderedModifiers.forEach(function($){var q=$.name,H=$.options,U=H===void 0?{}:H,p=$.effect;if(typeof p=="function"){var G=p({state:D,name:q,instance:J,options:U}),j=function(){};M.push(G||j)}})}function X(){M.forEach(function($){return $()}),M=[]}return J}}var Uu=[hu,Ru,pu,Ga,Su,Au,Ku,lu,Tu],Gu=Wu({defaultModifiers:Uu}),Yu="tippy-box",to="tippy-content",Xu="tippy-backdrop",no="tippy-arrow",ro="tippy-svg-arrow",kn={passive:!0,capture:!0},io=function(){return document.body};function Ei(a,r,u){if(Array.isArray(a)){var l=a[r];return l??(Array.isArray(u)?u[r]:u)}return a}function zi(a,r){var u={}.toString.call(a);return u.indexOf("[object")===0&&u.indexOf(r+"]")>-1}function ao(a,r){return typeof a=="function"?a.apply(void 0,r):a}function Ra(a,r){if(r===0)return a;var u;return function(l){clearTimeout(u),u=setTimeout(function(){a(l)},r)}}function Zu(a){return a.split(/\s+/).filter(Boolean)}function Ln(a){return[].concat(a)}function Ba(a,r){a.indexOf(r)===-1&&a.push(r)}function Qu(a){return a.filter(function(r,u){return a.indexOf(r)===u})}function Ju(a){return a.split("-")[0]}function zr(a){return[].slice.call(a)}function Ma(a){return Object.keys(a).reduce(function(r,u){return a[u]!==void 0&&(r[u]=a[u]),r},{})}function ir(){return document.createElement("div")}function Hr(a){return["Element","Fragment"].some(function(r){return zi(a,r)})}function $u(a){return zi(a,"NodeList")}function el(a){return zi(a,"MouseEvent")}function tl(a){return!!(a&&a._tippy&&a._tippy.reference===a)}function nl(a){return Hr(a)?[a]:$u(a)?zr(a):Array.isArray(a)?a:zr(document.querySelectorAll(a))}function Ai(a,r){a.forEach(function(u){u&&(u.style.transitionDuration=r+"ms")})}function Ka(a,r){a.forEach(function(u){u&&u.setAttribute("data-state",r)})}function rl(a){var r,u=Ln(a),l=u[0];return l!=null&&(r=l.ownerDocument)!=null&&r.body?l.ownerDocument:document}function il(a,r){var u=r.clientX,l=r.clientY;return a.every(function(f){var v=f.popperRect,E=f.popperState,w=f.props,g=w.interactiveBorder,S=Ju(E.placement),D=E.modifiersData.offset;if(!D)return!0;var M=S==="bottom"?D.top.y:0,K=S==="top"?D.bottom.y:0,J=S==="right"?D.left.x:0,Z=S==="left"?D.right.x:0,X=v.top-l+M>g,$=l-v.bottom-K>g,q=v.left-u+J>g,H=u-v.right-Z>g;return X||$||q||H})}function Pi(a,r,u){var l=r+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(f){a[l](f,u)})}function Ia(a,r){for(var u=r;u;){var l;if(a.contains(u))return!0;u=u.getRootNode==null||(l=u.getRootNode())==null?void 0:l.host}return!1}var Ht={isTouch:!1},La=0;function al(){Ht.isTouch||(Ht.isTouch=!0,window.performance&&document.addEventListener("mousemove",oo))}function oo(){var a=performance.now();a-La<20&&(Ht.isTouch=!1,document.removeEventListener("mousemove",oo)),La=a}function ol(){var a=document.activeElement;if(tl(a)){var r=a._tippy;a.blur&&!r.state.isVisible&&a.blur()}}function sl(){document.addEventListener("touchstart",al,kn),window.addEventListener("blur",ol)}var ul=typeof window<"u"&&typeof document<"u",ll=ul?!!window.msCrypto:!1,cl={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},fl={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},It=Object.assign({appendTo:io,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},cl,fl),dl=Object.keys(It),pl=function(r){var u=Object.keys(r);u.forEach(function(l){It[l]=r[l]})};function so(a){var r=a.plugins||[],u=r.reduce(function(l,f){var v=f.name,E=f.defaultValue;if(v){var w;l[v]=a[v]!==void 0?a[v]:(w=It[v])!=null?w:E}return l},{});return Object.assign({},a,u)}function vl(a,r){var u=r?Object.keys(so(Object.assign({},It,{plugins:r}))):dl,l=u.reduce(function(f,v){var E=(a.getAttribute("data-tippy-"+v)||"").trim();if(!E)return f;if(v==="content")f[v]=E;else try{f[v]=JSON.parse(E)}catch{f[v]=E}return f},{});return l}function qa(a,r){var u=Object.assign({},r,{content:ao(r.content,[a])},r.ignoreAttributes?{}:vl(a,r.plugins));return u.aria=Object.assign({},It.aria,u.aria),u.aria={expanded:u.aria.expanded==="auto"?r.interactive:u.aria.expanded,content:u.aria.content==="auto"?r.interactive?null:"describedby":u.aria.content},u}var hl=function(){return"innerHTML"};function Ri(a,r){a[hl()]=r}function Fa(a){var r=ir();return a===!0?r.className=no:(r.className=ro,Hr(a)?r.appendChild(a):Ri(r,a)),r}function Na(a,r){Hr(r.content)?(Ri(a,""),a.appendChild(r.content)):typeof r.content!="function"&&(r.allowHTML?Ri(a,r.content):a.textContent=r.content)}function Bi(a){var r=a.firstElementChild,u=zr(r.children);return{box:r,content:u.find(function(l){return l.classList.contains(to)}),arrow:u.find(function(l){return l.classList.contains(no)||l.classList.contains(ro)}),backdrop:u.find(function(l){return l.classList.contains(Xu)})}}function uo(a){var r=ir(),u=ir();u.className=Yu,u.setAttribute("data-state","hidden"),u.setAttribute("tabindex","-1");var l=ir();l.className=to,l.setAttribute("data-state","hidden"),Na(l,a.props),r.appendChild(u),u.appendChild(l),f(a.props,a.props);function f(v,E){var w=Bi(r),g=w.box,S=w.content,D=w.arrow;E.theme?g.setAttribute("data-theme",E.theme):g.removeAttribute("data-theme"),typeof E.animation=="string"?g.setAttribute("data-animation",E.animation):g.removeAttribute("data-animation"),E.inertia?g.setAttribute("data-inertia",""):g.removeAttribute("data-inertia"),g.style.maxWidth=typeof E.maxWidth=="number"?E.maxWidth+"px":E.maxWidth,E.role?g.setAttribute("role",E.role):g.removeAttribute("role"),(v.content!==E.content||v.allowHTML!==E.allowHTML)&&Na(S,a.props),E.arrow?D?v.arrow!==E.arrow&&(g.removeChild(D),g.appendChild(Fa(E.arrow))):g.appendChild(Fa(E.arrow)):D&&g.removeChild(D)}return{popper:r,onUpdate:f}}uo.$$tippy=!0;var ml=1,Ir=[],Ti=[];function yl(a,r){var u=qa(a,Object.assign({},It,so(Ma(r)))),l,f,v,E=!1,w=!1,g=!1,S=!1,D,M,K,J=[],Z=Ra(Pn,u.interactiveDebounce),X,$=ml++,q=null,H=Qu(u.plugins),U={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},p={id:$,reference:a,popper:ir(),popperInstance:q,props:u,state:U,plugins:H,clearDelayTimeouts:nn,setProps:qt,setContent:rn,show:Dn,hide:Gt,hideWithInteractivity:Sn,enable:tn,disable:Lt,unmount:Vn,destroy:Ft};if(!u.render)return p;var G=u.render(p),j=G.popper,ee=G.onUpdate;j.setAttribute("data-tippy-root",""),j.id="tippy-"+p.id,p.popper=j,a._tippy=p,j._tippy=p;var xe=H.map(function(k){return k.fn(p)}),he=a.hasAttribute("aria-expanded");return wt(),le(),Pe(),ge("onCreate",[p]),u.showOnCreate&&en(),j.addEventListener("mouseenter",function(){p.props.interactive&&p.state.isVisible&&p.clearDelayTimeouts()}),j.addEventListener("mouseleave",function(){p.props.interactive&&p.props.trigger.indexOf("mouseenter")>=0&&Me().addEventListener("mousemove",Z)}),p;function ye(){var k=p.props.touch;return Array.isArray(k)?k:[k,0]}function _e(){return ye()[0]==="hold"}function fe(){var k;return!!((k=p.props.render)!=null&&k.$$tippy)}function re(){return X||a}function Me(){var k=re().parentNode;return k?rl(k):document}function Ae(){return Bi(j)}function Y(k){return p.state.isMounted&&!p.state.isVisible||Ht.isTouch||D&&D.type==="focus"?0:Ei(p.props.delay,k?0:1,It.delay)}function Pe(k){k===void 0&&(k=!1),j.style.pointerEvents=p.props.interactive&&!k?"":"none",j.style.zIndex=""+p.props.zIndex}function ge(k,te,oe){if(oe===void 0&&(oe=!0),xe.forEach(function(L){L[k]&&L[k].apply(L,te)}),oe){var Te;(Te=p.props)[k].apply(Te,te)}}function De(){var k=p.props.aria;if(k.content){var te="aria-"+k.content,oe=j.id,Te=Ln(p.props.triggerTarget||a);Te.forEach(function(L){var nt=L.getAttribute(te);if(p.state.isVisible)L.setAttribute(te,nt?nt+" "+oe:oe);else{var pt=nt&&nt.replace(oe,"").trim();pt?L.setAttribute(te,pt):L.removeAttribute(te)}})}}function le(){if(!(he||!p.props.aria.expanded)){var k=Ln(p.props.triggerTarget||a);k.forEach(function(te){p.props.interactive?te.setAttribute("aria-expanded",p.state.isVisible&&te===re()?"true":"false"):te.removeAttribute("aria-expanded")})}}function ae(){Me().removeEventListener("mousemove",Z),Ir=Ir.filter(function(k){return k!==Z})}function Se(k){if(!(Ht.isTouch&&(g||k.type==="mousedown"))){var te=k.composedPath&&k.composedPath()[0]||k.target;if(!(p.props.interactive&&Ia(j,te))){if(Ln(p.props.triggerTarget||a).some(function(oe){return Ia(oe,te)})){if(Ht.isTouch||p.state.isVisible&&p.props.trigger.indexOf("click")>=0)return}else ge("onClickOutside",[p,k]);p.props.hideOnClick===!0&&(p.clearDelayTimeouts(),p.hide(),w=!0,setTimeout(function(){w=!1}),p.state.isMounted||et())}}}function qe(){g=!0}function ft(){g=!1}function rt(){var k=Me();k.addEventListener("mousedown",Se,!0),k.addEventListener("touchend",Se,kn),k.addEventListener("touchstart",ft,kn),k.addEventListener("touchmove",qe,kn)}function et(){var k=Me();k.removeEventListener("mousedown",Se,!0),k.removeEventListener("touchend",Se,kn),k.removeEventListener("touchstart",ft,kn),k.removeEventListener("touchmove",qe,kn)}function Tt(k,te){ne(k,function(){!p.state.isVisible&&j.parentNode&&j.parentNode.contains(j)&&te()})}function ht(k,te){ne(k,te)}function ne(k,te){var oe=Ae().box;function Te(L){L.target===oe&&(Pi(oe,"remove",Te),te())}if(k===0)return te();Pi(oe,"remove",M),Pi(oe,"add",Te),M=Te}function bt(k,te,oe){oe===void 0&&(oe=!1);var Te=Ln(p.props.triggerTarget||a);Te.forEach(function(L){L.addEventListener(k,te,oe),J.push({node:L,eventType:k,handler:te,options:oe})})}function wt(){_e()&&(bt("touchstart",dt,{passive:!0}),bt("touchend",Ct,{passive:!0})),Zu(p.props.trigger).forEach(function(k){if(k!=="manual")switch(bt(k,dt),k){case"mouseenter":bt("mouseleave",Ct);break;case"focus":bt(ll?"focusout":"blur",hn);break;case"focusin":bt("focusout",hn);break}})}function Oe(){J.forEach(function(k){var te=k.node,oe=k.eventType,Te=k.handler,L=k.options;te.removeEventListener(oe,Te,L)}),J=[]}function dt(k){var te,oe=!1;if(!(!p.state.isEnabled||mn(k)||w)){var Te=((te=D)==null?void 0:te.type)==="focus";D=k,X=k.currentTarget,le(),!p.state.isVisible&&el(k)&&Ir.forEach(function(L){return L(k)}),k.type==="click"&&(p.props.trigger.indexOf("mouseenter")<0||E)&&p.props.hideOnClick!==!1&&p.state.isVisible?oe=!0:en(k),k.type==="click"&&(E=!oe),oe&&!Te&&xt(k)}}function Pn(k){var te=k.target,oe=re().contains(te)||j.contains(te);if(!(k.type==="mousemove"&&oe)){var Te=tt().concat(j).map(function(L){var nt,pt=L._tippy,Nt=(nt=pt.popperInstance)==null?void 0:nt.state;return Nt?{popperRect:L.getBoundingClientRect(),popperState:Nt,props:u}:null}).filter(Boolean);il(Te,k)&&(ae(),xt(k))}}function Ct(k){var te=mn(k)||p.props.trigger.indexOf("click")>=0&&E;if(!te){if(p.props.interactive){p.hideWithInteractivity(k);return}xt(k)}}function hn(k){p.props.trigger.indexOf("focusin")<0&&k.target!==re()||p.props.interactive&&k.relatedTarget&&j.contains(k.relatedTarget)||xt(k)}function mn(k){return Ht.isTouch?_e()!==k.type.indexOf("touch")>=0:!1}function Tn(){Cn();var k=p.props,te=k.popperOptions,oe=k.placement,Te=k.offset,L=k.getReferenceClientRect,nt=k.moveTransition,pt=fe()?Bi(j).arrow:null,Nt=L?{getBoundingClientRect:L,contextElement:L.contextElement||re()}:a,Hn={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(jn){var Ot=jn.state;if(fe()){var an=Ae(),yn=an.box;["placement","reference-hidden","escaped"].forEach(function(Yt){Yt==="placement"?yn.setAttribute("data-placement",Ot.placement):Ot.attributes.popper["data-popper-"+Yt]?yn.setAttribute("data-"+Yt,""):yn.removeAttribute("data-"+Yt)}),Ot.attributes.popper={}}}},Mt=[{name:"offset",options:{offset:Te}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!nt}},Hn];fe()&&pt&&Mt.push({name:"arrow",options:{element:pt,padding:3}}),Mt.push.apply(Mt,(te==null?void 0:te.modifiers)||[]),p.popperInstance=Gu(Nt,j,Object.assign({},te,{placement:oe,onFirstUpdate:K,modifiers:Mt}))}function Cn(){p.popperInstance&&(p.popperInstance.destroy(),p.popperInstance=null)}function _t(){var k=p.props.appendTo,te,oe=re();p.props.interactive&&k===io||k==="parent"?te=oe.parentNode:te=ao(k,[oe]),te.contains(j)||te.appendChild(j),p.state.isMounted=!0,Tn()}function tt(){return zr(j.querySelectorAll("[data-tippy-root]"))}function en(k){p.clearDelayTimeouts(),k&&ge("onTrigger",[p,k]),rt();var te=Y(!0),oe=ye(),Te=oe[0],L=oe[1];Ht.isTouch&&Te==="hold"&&L&&(te=L),te?l=setTimeout(function(){p.show()},te):p.show()}function xt(k){if(p.clearDelayTimeouts(),ge("onUntrigger",[p,k]),!p.state.isVisible){et();return}if(!(p.props.trigger.indexOf("mouseenter")>=0&&p.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(k.type)>=0&&E)){var te=Y(!1);te?f=setTimeout(function(){p.state.isVisible&&p.hide()},te):v=requestAnimationFrame(function(){p.hide()})}}function tn(){p.state.isEnabled=!0}function Lt(){p.hide(),p.state.isEnabled=!1}function nn(){clearTimeout(l),clearTimeout(f),cancelAnimationFrame(v)}function qt(k){if(!p.state.isDestroyed){ge("onBeforeUpdate",[p,k]),Oe();var te=p.props,oe=qa(a,Object.assign({},te,Ma(k),{ignoreAttributes:!0}));p.props=oe,wt(),te.interactiveDebounce!==oe.interactiveDebounce&&(ae(),Z=Ra(Pn,oe.interactiveDebounce)),te.triggerTarget&&!oe.triggerTarget?Ln(te.triggerTarget).forEach(function(Te){Te.removeAttribute("aria-expanded")}):oe.triggerTarget&&a.removeAttribute("aria-expanded"),le(),Pe(),ee&&ee(te,oe),p.popperInstance&&(Tn(),tt().forEach(function(Te){requestAnimationFrame(Te._tippy.popperInstance.forceUpdate)})),ge("onAfterUpdate",[p,k])}}function rn(k){p.setProps({content:k})}function Dn(){var k=p.state.isVisible,te=p.state.isDestroyed,oe=!p.state.isEnabled,Te=Ht.isTouch&&!p.props.touch,L=Ei(p.props.duration,0,It.duration);if(!(k||te||oe||Te)&&!re().hasAttribute("disabled")&&(ge("onShow",[p],!1),p.props.onShow(p)!==!1)){if(p.state.isVisible=!0,fe()&&(j.style.visibility="visible"),Pe(),rt(),p.state.isMounted||(j.style.transition="none"),fe()){var nt=Ae(),pt=nt.box,Nt=nt.content;Ai([pt,Nt],0)}K=function(){var Mt;if(!(!p.state.isVisible||S)){if(S=!0,j.offsetHeight,j.style.transition=p.props.moveTransition,fe()&&p.props.animation){var Wn=Ae(),jn=Wn.box,Ot=Wn.content;Ai([jn,Ot],L),Ka([jn,Ot],"visible")}De(),le(),Ba(Ti,p),(Mt=p.popperInstance)==null||Mt.forceUpdate(),ge("onMount",[p]),p.props.animation&&fe()&&ht(L,function(){p.state.isShown=!0,ge("onShown",[p])})}},_t()}}function Gt(){var k=!p.state.isVisible,te=p.state.isDestroyed,oe=!p.state.isEnabled,Te=Ei(p.props.duration,1,It.duration);if(!(k||te||oe)&&(ge("onHide",[p],!1),p.props.onHide(p)!==!1)){if(p.state.isVisible=!1,p.state.isShown=!1,S=!1,E=!1,fe()&&(j.style.visibility="hidden"),ae(),et(),Pe(!0),fe()){var L=Ae(),nt=L.box,pt=L.content;p.props.animation&&(Ai([nt,pt],Te),Ka([nt,pt],"hidden"))}De(),le(),p.props.animation?fe()&&Tt(Te,p.unmount):p.unmount()}}function Sn(k){Me().addEventListener("mousemove",Z),Ba(Ir,Z),Z(k)}function Vn(){p.state.isVisible&&p.hide(),p.state.isMounted&&(Cn(),tt().forEach(function(k){k._tippy.unmount()}),j.parentNode&&j.parentNode.removeChild(j),Ti=Ti.filter(function(k){return k!==p}),p.state.isMounted=!1,ge("onHidden",[p]))}function Ft(){p.state.isDestroyed||(p.clearDelayTimeouts(),p.unmount(),Oe(),delete a._tippy,p.state.isDestroyed=!0,ge("onDestroy",[p]))}}function dr(a,r){r===void 0&&(r={});var u=It.plugins.concat(r.plugins||[]);sl();var l=Object.assign({},r,{plugins:u}),f=nl(a),v=f.reduce(function(E,w){var g=w&&yl(w,l);return g&&E.push(g),E},[]);return Hr(a)?v[0]:v}dr.defaultProps=It;dr.setDefaultProps=pl;dr.currentInput=Ht;Object.assign({},Ga,{effect:function(r){var u=r.state,l={popper:{position:u.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(u.elements.popper.style,l.popper),u.styles=l,u.elements.arrow&&Object.assign(u.elements.arrow.style,l.arrow)}});dr.setDefaultProps({render:uo});function gl(a,r){let u=(r==null?void 0:r.content)||(a instanceof HTMLElement?a.title:null);const l=a.getAttribute("aria-label");u=u??l,l||a.setAttribute("aria-label",u),a instanceof HTMLElement&&(a.title="");const f=dr(a,{content:u,...r});return{update:v=>f.setProps({content:u,...v}),destroy:()=>f.destroy()}}var bl=Ue('<span class="file-upload-dropzone svelte-18nmurd" slot="labelText">Drag and drop map or other image here<br>(or click to upload)</span>'),wl=Ue('<div class="image-name svelte-18nmurd"> </div> <!> <!>',!0),_l=Ue('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 750" class="svelte-18nmurd"></svg>'),xl=Ue('<div class="image-container svelte-18nmurd"><img class="svelte-18nmurd"> <!></div>'),Ol=Ue("<!> <!>",!0),kl=Ue('<div class="toast svelte-18nmurd"><!></div>'),El=Ue("<!> <!> <!> <!>",!0);function Al(a,r){Je(r,!0);let u=Oi(void 0),l=Oi(void 0),f=Oi(void 0);async function v(q,H){try{const U=await tr.images.add({name:q,image:H});console.log(`Image ${q} successfully added. Got id ${U}`),je(l,Mr({id:U,name:q,image:H}))}catch(U){console.error(`Failed to add ${q}: ${U}`)}}async function E(){await tr.images.delete(V(l).id),je(u,Mr(V(l).name)),je(l,!1)}async function w(q){try{await tr.images.update(V(l).id,{mrm_json:q}),V(l).mrm_json=q}catch(H){console.error(`Failed to add json: ${H}`)}}function g(q){const H={passive:!1};let U=1,p=[0,0];function G(j){j.preventDefault(),j.deltaY<0?(p=[j.clientX-q.offsetLeft,j.clientY-q.offsetTop],U*=1.1):(U/=1.1,U<1&&(U=1)),q.style.setProperty("--scale",`${U.toFixed(4)}`),q.style.setProperty("--transform-origin-X",`${p[0]}px`),q.style.setProperty("--transform-origin-Y",`${p[1]}px`)}return q.addEventListener("wheel",G,H),{destroy(){q.removeEventListener("wheel",G,H)}}}const S=4416/1e3,D=(q,H)=>q.map(([U,p])=>[U/H,1-p/H]),M=(q,H)=>{const U=document.createElementNS("http://www.w3.org/2000/svg","path"),p=D(q.geometry.coordinates[0],S),G=[];return G.push(`M ${p[0][0]} ${p[0][1]}`),p.slice(1).forEach(([j,ee])=>G.push(`L ${j} ${ee}`)),G.push("Z"),U.setAttribute("d",G.join(" ")),U.setAttribute("data-idx",`${H}`),U.setAttribute("data-text",q.properties.text),U.setAttribute("data-score",q.properties.score),U.setAttribute("data-tippy-content",`text: ${q.properties.text}<br>score: ${q.properties.score}`),U};ga(()=>{V(l)&&V(l).mrm_json&&V(f)&&V(l).mrm_json.features.forEach((q,H)=>{const U=M(q,H);V(f).appendChild(U),gl(U,{placement:"top",arrow:!0,allowHTML:!0})})}),ga(()=>{async function q(){const H=await tr.images.toArray();H.length>0?je(l,Mr(H[0])):je(l,!1)}q()});var K=ki(a,!0,El),J=Le(K),Z=Ee(Ee(J,!0)),X=Ee(Ee(Z,!0)),$=Ee(Ee(X,!0));Ne(J,()=>V(l)===void 0,q=>{var H=Ve(q),U=Le(H);ms(U,{}),Ie(q,H)},null),Ne(Z,()=>V(l)===!1,q=>{var H=Ve(q),U=Le(H);ba(U,{$$events:{change:({detail:p})=>{const G=p[0];if(!G.type||!G.type.startsWith("image/")){alert("Only image files are accepted");return}const j=new FileReader;j.addEventListener("load",()=>v(G.name,j.result),!1),j.readAsDataURL(G)}},$$slots:{labelText:(p,G)=>{var j=ke(p,!0,bl);we(p,j)}}}),Ie(q,H)},null),Ne(X,()=>V(l),q=>{var H=Ve(q),U=Le(H);bs(U,{fullWidth:!0,children:(p,G)=>{var j=ki(p,!0,Ol),ee=Le(j),xe=Ee(Ee(ee,!0));wa(ee,{children:(he,ye)=>{var _e=Ve(he),fe=Le(_e);_a(fe,{children:(re,Me)=>{var Ae=Ve(re),Y=Le(Ae);os(Y,{size:"sm",children:(Pe,ge)=>{var De=Ve(Pe),le=Le(De);us(le,{children:(ae,Se)=>{var qe=ki(ae,!0,wl),ft=Le(qe),rt=ot(ve(ft)),et=Ee(Ee(ft,!0)),Tt=Ee(Ee(et,!0));mt(rt,()=>V(l).name),Ne(et,()=>!V(l).mrm_json,ht=>{var ne=Ve(ht),bt=Le(ne);ba(bt,{labelText:"Add JSON",class:"add-json",$$events:{change:({detail:wt})=>{const Oe=wt[0];if(!Oe.type||!["application/geo+json","application/json"].includes(Oe.type)){alert("Only JSON / GEOJSON files are accepted");return}const dt=new FileReader;dt.addEventListener("load",()=>w(JSON.parse(dt.result)),!1),dt.readAsText(Oe)}}}),Ie(ht,ne)},null),Jo(Tt,{icon:Fs,iconDescription:"Close",tooltipPosition:"left",tooltipAlignment:"end",$$events:{click:E}}),Ie(ae,qe)}}),Ie(Pe,De)}}),Ie(re,Ae)}}),Ie(he,_e)}}),wa(xe,{children:(he,ye)=>{var _e=Ve(he),fe=Le(_e);_a(fe,{children:(re,Me)=>{var Ae=ke(re,!0,xl),Y=ve(Ae),Pe=Ee(Ee(Y,!0)),ge,De;Kt(()=>{ge!==(ge=V(l).image)&&At(Y,"src",ge),De!==(De=V(l).name)&&At(Y,"alt",De)}),Ko(Ae,le=>g(le)),Ne(Pe,()=>V(l).mrm_json,le=>{var ae=ke(le,!0,_l);or(ae,Se=>je(f,Mr(Se)),()=>V(f)),we(le,ae)},null),we(re,Ae)}}),Ie(he,_e)}}),Ie(p,j)}}),Ie(q,H)},null),Ne($,()=>V(u),q=>{var H=ke(q,!0,kl);Io(H,()=>Os,null,!1);var U=ve(H),p=sr(()=>`Removed image: ${V(u)}`);Is(U,{timeout:3e3,kind:"success",title:"Image removed.",get subtitle(){return V(p)},$$events:{close:()=>je(u,!1)}}),we(q,H)},null),Ie(a,K),Qe()}var Pl=Ue('<meta name="description" content="Application for investigating MRM outputs">');function Bl(a,r){Je(r,!1),$e();var u=Ve(a);Lo(f=>{var v=ke(f,!0,Pl);qo.title="MRM Explorer",we(f,v)});var l=Le(u);Al(l,{}),Ie(a,u),Qe()}export{Bl as component};
