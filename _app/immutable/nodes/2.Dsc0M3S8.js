import{r as C,O as U,Q as te,P as ae,f as j,p as S,g as V,i as F,h as re,j as E,k as m,l as g,a as x,s as G,m as H,U as se,$ as le,b as h,e as k,L as M,c as z,q as O,d as P,o as ie}from"../chunks/disclose-version.C3L7z7x-.js";import{A as ne,B as oe,v as de,x as D,y as fe,C as ue,U as w,w as ve,a as J,g as B,p as X,m as K,d as R,u as Q,s as W}from"../chunks/runtime.CsqbjnXD.js";import{i as I}from"../chunks/main-client.B0L5hVVe.js";import{b as pe}from"../chunks/paths.D6INj-vC.js";import{c as ce,L as _e}from"../chunks/db.DVEEUmQX.js";import{s as me,f as Y}from"../chunks/storage.CWIlOqU3.js";import{A as ge}from"../chunks/AddNewImages.BNou8-2W.js";import{B as be}from"../chunks/Notifications.6_IXH3UJ.js";function we(){return{d:null,e:null,p:fe,n:!0,r:null,t:ue}}function Z(v,p,b,y,c){const s=we();let o=null;te(v);let _,a=w,r=w,n=!1;s.r=e=>{const t=o,f=t.s;f.add(e),e.f(()=>{f.delete(e),f.size===0&&o!==t&&t.e!==null&&(t.d!==null&&(U(t.d),t.d=null),D(t.e),t.e=null)})};const q=()=>{const e={d:null,e:null,s:new Set,p:o},t=C(()=>{r===w?a===w?(s.n=!0,b!==null&&b(v)):y!==null&&(s.n=!1,y(v,a)):c!==null&&(s.n=!1,c(v,r)),e.d=s.d,s.d=null},s,!0,!0);e.e=t,o=e},d=()=>{const e=o;if(e===null){q();return}const t=e.s;t.size===0?(e.d!==null&&(U(e.d),e.d=null),e.e?ve(e.e):q()):(q(),ae(t,"out"))},A=C(()=>{const e={};_=e;const t=p();ne(t)?(t.then(f=>{_===e&&(oe(),a=f,n=!1,d())},f=>{r=f,n=!1,d()}),(a!==w||r!==w)&&(r=w,a=w),n||(n=!0,d())):(r=w,a=t,n=!1,d())},s,!1);de(A,()=>{let e=o;for(_={};e!==null;){const t=e.d;t!==null&&U(t);const f=e.e;f!==null&&D(f),e=e.p}}),s.e=A}var xe=H("<title> </title>"),he=H('<svg><!><path d="M18 6L16.57 7.393 24.15 15 4 15 4 17 24.15 17 16.57 24.573 18 26 28 16 18 6z"></path></svg>');function qe(v,p){const b=j(p,["children","$$slots","$$events"]),y=j(b,["size","title","$$props"]);J(p,!1);const c=K(),s=K();let o=S(p,"size",0,16),_=S(p,"title",0,void 0);V(()=>{R(p),R(_()),Q(()=>{W(c,b["aria-label"]||b["aria-labelledby"]||_())})}),V(()=>{B(c),R(p),Q(()=>{W(s,{"aria-hidden":B(c)?void 0:!0,role:B(c)?"img":void 0,focusable:Number(b.tabindex)===0?!0:void 0})})}),F();var a=g(v,!0,he),r=x(a);re(a,()=>[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:o()},{height:o()},B(s),y],!1,""),I(r,_,n=>{var q=g(n,!0,xe),d=G(x(q));E(d,_),m(n,q)},null),m(v,a),X()}var ke=h('<meta name="description" content="Application for investigating MRM outputs">'),Ae=h('<p class="svelte-qq8prw">Upload an image to get started:</p>'),ye=h("<p> </p>"),Me=h("<p> </p>"),ze=h("<p> </p>"),Be=h("<p> </p>"),Ie=h("Explore the dataset",!0),Le=h('<div class="svelte-qq8prw"><div><!> <!></div> <!></div>'),Ue=h('<section class="svelte-qq8prw"><h1 class="svelte-qq8prw">MRM Explorer</h1> <!> <!></section>');function Se(v,p){J(p,!1);const b=ce(),y=me();F();var c=g(v,!0,Ue);se(a=>{var r=g(a,!0,ke);le.title="MRM Explorer",m(a,r)});var s=x(c),o=k(k(s,!0)),_=k(k(o,!0));Z(o,()=>b,a=>{var r=O(a),n=P(r);_e(n,{withOverlay:!1}),z(a,r)},(a,r)=>{var n=O(a),q=P(n);I(q,()=>r===0,d=>{var A=g(d,!0,Ae);m(d,A)},d=>{var A=g(d,!0,Le),e=x(A),t=x(e),f=k(k(t,!0)),$=k(k(e,!0));I(t,()=>r===1,l=>{var i=g(l,!0,ye),u=x(i);u.nodeValue=`There is ${M(r)} image in the database.`,m(l,i)},l=>{var i=g(l,!0,Me),u=x(i);u.nodeValue=`There are ${M(r)} images in the database.`,m(l,i)}),Z(f,()=>y,null,(l,i)=>{var u=O(l),L=P(u);I(L,()=>i&&i.usage!==void 0&&i.quota!==void 0,N=>{var T=g(N,!0,ze),ee=x(T);E(ee,()=>`Local storage used ${M(Y(i.usage))} (max. ${M(Y(i.quota))} available).`),m(N,T)},null),z(l,u)},(l,i)=>{var u=g(l,!0,Be),L=G(x(u));E(L,()=>i.message),m(l,u)}),be($,{href:`${M(pe)}/dataset`,icon:qe,children:(l,i)=>{var u=ie(l,!0,Ie);z(l,u)}}),m(d,A)}),z(a,n)},null),ge(_,{redirectOnAdd:!0}),m(v,c),X()}export{Se as component};
