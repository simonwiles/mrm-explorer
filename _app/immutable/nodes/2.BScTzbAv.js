import{r as j,J as R,L as te,K as ae,k as C,q as K,v as S,i as Z,P as re,A as N,f as m,m as V,j as D,g,a as x,s as F,Q as G,h as se,$ as le,b as h,e as A,R as y,c as z,p as P,d as U,o as ie}from"../chunks/disclose-version.D3ZL7NP6.js";import{w as ne,x as oe,m as de,r as J,t as fe,A as ue,U as w,q as ve,a as H,g as I,p as X,d as E,u as Q}from"../chunks/runtime.DpG1UBjk.js";import{i as L}from"../chunks/main-client.3igdoS-M.js";import{b as pe}from"../chunks/paths.CVhcW1Sy.js";import{c as ce,s as _e,f as W,L as me}from"../chunks/storage.BbWkkyvw.js";import{A as ge}from"../chunks/AddNewImages.D4P0mS-8.js";import{B as be}from"../chunks/Notifications.ym6NJcZe.js";function we(){return{d:null,e:null,p:fe,n:!0,r:null,t:ue}}function Y(v,p,b,M,c){const s=we();let o=null;te(v);let _,a=w,r=w,n=!1;s.r=e=>{const t=o,f=t.s;f.add(e),e.f(()=>{f.delete(e),f.size===0&&o!==t&&t.e!==null&&(t.d!==null&&(R(t.d),t.d=null),J(t.e),t.e=null)})};const q=()=>{const e={d:null,e:null,s:new Set,p:o},t=j(()=>{r===w?a===w?(s.n=!0,b!==null&&b(v)):M!==null&&(s.n=!1,M(v,a)):c!==null&&(s.n=!1,c(v,r)),e.d=s.d,s.d=null},s,!0,!0);e.e=t,o=e},d=()=>{const e=o;if(e===null){q();return}const t=e.s;t.size===0?(e.d!==null&&(R(e.d),e.d=null),e.e?ve(e.e):q()):(q(),ae(t,"out"))},k=j(()=>{const e={};_=e;const t=p();ne(t)?(t.then(f=>{_===e&&(oe(),a=f,n=!1,d())},f=>{r=f,n=!1,d()}),(a!==w||r!==w)&&(r=w,a=w),n||(n=!0,d())):(r=w,a=t,n=!1,d())},s,!1);de(k,()=>{let e=o;for(_={};e!==null;){const t=e.d;t!==null&&R(t);const f=e.e;f!==null&&J(f),e=e.p}}),s.e=k}var xe=G("<title> </title>"),he=G('<svg><!><path d="M18 6L16.57 7.393 24.15 15 4 15 4 17 24.15 17 16.57 24.573 18 26 28 16 18 6z"></path></svg>');function qe(v,p){const b=C(p,["children","$$slots","$$events"]),M=C(b,["size","title","$$props"]);H(p,!1);const c=V(),s=V();let o=K(p,"size",0,16),_=K(p,"title",0,void 0);S(()=>{E(p),E(_()),Q(()=>{D(c,b["aria-label"]||b["aria-labelledby"]||_())})}),S(()=>{I(c),E(p),Q(()=>{D(s,{"aria-hidden":I(c)?void 0:!0,role:I(c)?"img":void 0,focusable:Number(b.tabindex)===0?!0:void 0})})}),Z();var a=g(v,!0,he),r=x(a);re(a,()=>[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:o()},{height:o()},I(s),M],!1,""),L(r,_,n=>{var q=g(n,!0,xe),d=F(x(q));N(d,_),m(n,q)},null),m(v,a),X()}var Ae=h('<meta name="description" content="Application for investigating MRM outputs">'),ke=h('<p class="svelte-qq8prw">Upload an image to get started:</p>'),Me=h("<p> </p>"),ye=h("<p> </p>"),ze=h("<p> </p>"),Ie=h("<p> </p>"),Le=h("Explore the dataset",!0),Be=h('<div class="svelte-qq8prw"><div><!> <!></div> <!></div>'),Re=h('<section class="svelte-qq8prw"><h1 class="svelte-qq8prw">MRM Explorer</h1> <!> <!></section>');function Ce(v,p){H(p,!1);const b=ce(),M=_e();Z();var c=g(v,!0,Re);se(a=>{var r=g(a,!0,Ae);le.title="MRM Explorer",m(a,r)});var s=x(c),o=A(A(s,!0)),_=A(A(o,!0));Y(o,()=>b,a=>{var r=P(a),n=U(r);me(n,{withOverlay:!1}),z(a,r)},(a,r)=>{var n=P(a),q=U(n);L(q,()=>r===0,d=>{var k=g(d,!0,ke);m(d,k)},d=>{var k=g(d,!0,Be),e=x(k),t=x(e),f=A(A(t,!0)),$=A(A(e,!0));L(t,()=>r===1,l=>{var i=g(l,!0,Me),u=x(i);u.nodeValue=`There is ${y(r)} image in the database.`,m(l,i)},l=>{var i=g(l,!0,ye),u=x(i);u.nodeValue=`There are ${y(r)} images in the database.`,m(l,i)}),Y(f,()=>M,null,(l,i)=>{var u=P(l),B=U(u);L(B,()=>i&&i.usage!==void 0&&i.quota!==void 0,O=>{var T=g(O,!0,ze),ee=x(T);N(ee,()=>`Local storage used ${y(W(i.usage))} (max. ${y(W(i.quota))} available).`),m(O,T)},null),z(l,u)},(l,i)=>{var u=g(l,!0,Ie),B=F(x(u));N(B,()=>i.message),m(l,u)}),be($,{href:`${y(pe)}/dataset`,icon:qe,children:(l,i)=>{var u=ie(l,!0,Le);z(l,u)}}),m(d,k)}),z(a,n)},null),ge(_,{redirectOnAdd:!0}),m(v,c),X()}export{Ce as component};
