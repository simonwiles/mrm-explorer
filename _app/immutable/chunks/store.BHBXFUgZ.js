import{s as c}from"./index.DJ7qrO_h.js";import{g as f,U as o,s as a,n as l,m as _,u as b,b as i}from"./runtime.CsqbjnXD.js";import{u as m}from"./disclose-version.C3L7z7x-.js";function y(n,s,t){let e=t[s];const u=e===void 0;u&&(e={store:null,last_value:null,value:_(o),unsubscribe:l},t[s]=e),(u||e.store!==n)&&(e.unsubscribe(),e.store=n??null,e.unsubscribe=d(n,e.value));const r=f(e.value);return r===o?e.last_value:r}function d(n,s){return n==null?(a(s,void 0),l):c(n,e=>{i(!0),a(s,e),i(!1)})}function N(n,s){return n.set(s),s}function U(n){v(()=>{let s;for(s in n)n[s].unsubscribe()})}function v(n){m(()=>()=>b(n))}export{N as a,y as s,U as u};
