import{s as c}from"./index.DcyK3XUE.js";import{g as f,U as o,n as l,u as _,s as a}from"./runtime.DpG1UBjk.js";import{u as b,j as i,m}from"./disclose-version.D3ZL7NP6.js";function y(n,s,t){let e=t[s];const u=e===void 0;u&&(e={store:null,last_value:null,value:m(o),unsubscribe:l},t[s]=e),(u||e.store!==n)&&(e.unsubscribe(),e.store=n??null,e.unsubscribe=d(n,e.value));const r=f(e.value);return r===o?e.last_value:r}function d(n,s){return n==null?(i(s,void 0),l):c(n,e=>{a(!0),i(s,e),a(!1)})}function N(n,s){return n.set(s),s}function U(n){v(()=>{let s;for(s in n)n[s].unsubscribe()})}function v(n){b(()=>()=>_(n))}export{N as a,y as s,U as u};
