import"./Dt2qGRMN.js";import{n as m,a7 as d,a8 as u,R as O,U as g,a9 as j}from"./C8mbV1xz.js";import{p as S}from"./cgYqcD7K.js";import{u as J}from"./CGNSJrrh.js";import{F as b}from"./BnJxqDPR.js";const F=[];function N(t,e=!1){return a(t,new Map,"",F)}function a(t,e,s,f,n=null){if(typeof t=="object"&&t!==null){var i=e.get(t);if(i!==void 0)return i;if(t instanceof Map)return new Map(t);if(t instanceof Set)return new Set(t);if(m(t)){var r=Array(t.length);e.set(t,r),n!==null&&e.set(n,r);for(var o=0;o<t.length;o+=1){var c=t[o];o in t&&(r[o]=a(c,e,s,f))}return r}if(d(t)===u){r={},e.set(t,r),n!==null&&e.set(n,r);for(var p in t)r[p]=a(t[p],e,s,f);return r}if(t instanceof Date)return structuredClone(t);if(typeof t.toJSON=="function")return a(t.toJSON(),e,s,f,t)}if(t instanceof EventTarget)return t;try{return structuredClone(t)}catch{return t}}function C(t,e){O(e,!0);let s=S(e,"imageObject",7);async function f(n){s().features=n.features,await j(),J(N(s()))}b(t,{labelText:"Add JSON",class:"add-json",$$events:{change:({detail:n})=>{const i=n[0];if(!i.type||!["application/geo+json","application/json"].includes(i.type)){alert("Only JSON / GEOJSON files are accepted");return}const r=new FileReader;r.addEventListener("load",()=>typeof r.result=="string"&&f(JSON.parse(r.result)),!1),r.readAsText(i)}}}),g()}export{C as A};
