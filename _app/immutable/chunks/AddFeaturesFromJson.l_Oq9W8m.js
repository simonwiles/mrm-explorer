import{k as O,q as l,v as J,i as X,P as ye,A as re,f as A,a as y,m as q,g as L,s as ne,Q as ce,j as H,x as s,r as de,y as r,e as _,D as ue,F as c,b as oe,w as le,T as se,z as pe,W as we,n as Se,c as Q,d as U,X as Te,R as ie,E,Y as Oe,p as W,H as Ce,G as je}from"./disclose-version.D3ZL7NP6.js";import{a as N,p as B,g as S,d as T,u as M,z as Ae}from"./runtime.DpG1UBjk.js";import{i as fe,c as Fe,u as Ee}from"./main-client.3igdoS-M.js";import{C as Je}from"./NotificationIcon.BfBJapZ_.js";import{F as Le,u as Me}from"./storage.BbWkkyvw.js";var Ne=ce("<title> </title>"),Be=ce('<svg><!><path d="M29,27.5859l-7.5521-7.5521a11.0177,11.0177,0,1,0-1.4141,1.4141L27.5859,29ZM4,13a9,9,0,1,1,9,9A9.01,9.01,0,0,1,4,13Z"></path></svg>');function Pe(b,e){const h=O(e,["children","$$slots","$$events"]),m=O(h,["size","title","$$props"]);N(e,!1);const i=q(),t=q();let v=l(e,"size",0,16),u=l(e,"title",0,void 0);J(()=>{T(e),T(u()),M(()=>{H(i,h["aria-label"]||h["aria-labelledby"]||u())})}),J(()=>{S(i),T(e),M(()=>{H(t,{"aria-hidden":S(i)?void 0:!0,role:S(i)?"img":void 0,focusable:Number(h.tabindex)===0?!0:void 0})})}),X();var g=L(b,!0,Be),o=y(g);ye(g,()=>[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:v()},{height:v()},S(t),m],!1,""),fe(o,u,p=>{var f=L(p,!0,Ne),P=ne(y(f));re(P,u),A(p,f)},null),A(b,g),B()}var Re=oe("<div><span></span> <div></div></div>");function De(b,e){const h=O(e,["children","$$slots","$$events"]),m=O(h,["size","$$props"]);N(e,!1);let i=l(e,"size",0,"xl");X();var t=L(b,!0,Re);let v;var u=y(t);s(u,"bx--label",!0);var g=_(_(u,!0));s(g,"bx--search-input",!0),de(()=>{v=ue(t,v,[m],!0,""),s(t,"bx--skeleton",!0),s(t,"bx--search--sm",i()==="sm"),s(t,"bx--search--lg",i()==="lg"),s(t,"bx--search--xl",i()==="xl")}),r("click",t,function(o){c.call(this,e,o)}),r("mouseover",t,function(o){c.call(this,e,o)}),r("mouseenter",t,function(o){c.call(this,e,o)}),r("mouseleave",t,function(o){c.call(this,e,o)}),A(b,t),B()}var Ie=oe('<div role="search"><div><!></div> <label><!></label> <input> <button type="button"><!></button></div>');function Qe(b,e){const h=O(e,["children","$$slots","$$events"]),m=O(h,["value","size","searchClass","skeleton","light","disabled","expandable","expanded","placeholder","autocomplete","autofocus","closeButtonLabelText","labelText","icon","id","ref","$$props"]);N(e,!1);let i=l(e,"value",4,""),t=l(e,"size",0,"xl"),v=l(e,"searchClass",0,""),u=l(e,"skeleton",0,!1),g=l(e,"light",0,!1),o=l(e,"disabled",0,!1),p=l(e,"expandable",0,!1),f=l(e,"expanded",4,!1),P=l(e,"placeholder",0,"Search..."),be=l(e,"autocomplete",0,"off"),ve=l(e,"autofocus",0,!1),he=l(e,"closeButtonLabelText",0,"Clear search input"),xe=l(e,"labelText",0,""),me=l(e,"icon",0,Pe),F=l(e,"id",8,()=>"ccs-"+Math.random().toString(36)),w=l(e,"ref",4,null);const R=Fe();let K=q(null);J(()=>{T(f()),T(w()),M(()=>{f()&&w()&&w().focus()})}),J(()=>{T(f()),M(()=>{R(f()?"expand":"collapse")})}),X();var V=W(b),_e=U(V);fe(_e,u,C=>{var d=W(C),k=U(d);De(k,Se({get size(){return t()}},()=>m,{$$events:{click(x){c.call(this,e,x)},mouseover(x){c.call(this,e,x)},mouseenter(x){c.call(this,e,x)},mouseleave(x){c.call(this,e,x)}}})),Q(C,d)},C=>{var ae;var d=L(C,!0,Ie),k=y(d);le(k,a=>H(K,a),()=>S(K)),s(k,"bx--search-magnifier",!0);var x=y(k),j=_(_(k,!0)),ge=y(j),n=_(_(j,!0));le(n,a=>w(a),()=>w()),Te(n);let $;var z=_(_(n,!0)),ee=y(z),ke=je(()=>t()==="xl"?20:16),D,I,G,Y,Z;de(()=>{D!==(D=`${ie(F())}-search`)&&E(d,"aria-labelledby",D),Oe(d,v()),s(d,"bx--search",!0),s(d,"bx--search--light",g()),s(d,"bx--search--disabled",o()),s(d,"bx--search--sm",t()==="sm"),s(d,"bx--search--lg",t()==="lg"),s(d,"bx--search--xl",t()==="xl"),s(d,"bx--search--expandable",p()),s(d,"bx--search--expanded",f()),I!==(I=`${ie(F())}-search`)&&E(j,"id",I),G!==(G=F())&&E(j,"for",G),s(j,"bx--label",!0),$=ue(n,$,[{type:"text"},{role:"searchbox"},{autofocus:ve()===!0?!0:void 0},{autocomplete:be()},{disabled:o()},{id:F()},{placeholder:P()},m],!0,""),s(n,"bx--search-input",!0),Y!==(Y=he())&&E(z,"aria-label",Y),Z!==(Z=o())&&(z.disabled=Z),s(z,"bx--search-close",!0),s(z,"bx--search-close--hidden",i()==="")}),r("click",k,()=>{p()&&f(!0)},!1),se(x,me,a=>{a(x,{class:"bx--search-magnifier-icon"})}),pe(ge,(ae=e.$$slots)==null?void 0:ae.labelText,{},a=>{var te=Ce(a),ze=ne(te);re(ze,xe),A(a,te)}),we(n,i,a=>i(a)),r("change",n,function(a){c.call(this,e,a)}),r("input",n,function(a){c.call(this,e,a)}),r("focus",n,function(a){c.call(this,e,a)}),r("focus",n,()=>{p()&&f(!0)},!1),r("blur",n,function(a){c.call(this,e,a)}),r("blur",n,()=>{f()&&i().trim().length===0&&f(!1)},!1),r("keydown",n,function(a){c.call(this,e,a)}),r("keydown",n,({key:a})=>{a==="Escape"&&(i(""),R("clear"))},!1),r("keyup",n,function(a){c.call(this,e,a)}),r("paste",n,function(a){c.call(this,e,a)}),r("click",z,function(a){c.call(this,e,a)}),r("click",z,()=>{i(""),w().focus(),R("clear")},!1),se(ee,()=>Je,a=>{a(ee,{get size(){return S(ke)}})}),A(C,d)}),Q(b,V),B()}function Ue(b,e){N(e,!0);async function h(t){e.imageObject.features=t.features,await Ae(),Me(Ee(e.imageObject))}var m=W(b),i=U(m);Le(i,{labelText:"Add JSON",class:"add-json",$$events:{change:({detail:t})=>{const v=t[0];if(!v.type||!["application/geo+json","application/json"].includes(v.type)){alert("Only JSON / GEOJSON files are accepted");return}const u=new FileReader;u.addEventListener("load",()=>typeof u.result=="string"&&h(JSON.parse(u.result)),!1),u.readAsText(v)}}}),Q(b,m),B()}export{Ue as A,Qe as S};
