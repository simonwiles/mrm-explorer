import{t as L,e as m,a as r,b as R,s as E,c as Se}from"./Dt2qGRMN.js";import{Y as tt,Z as we,_ as at,R as De,$ as lt,a0 as nt,a1 as U,a2 as ot,T as f,U as Ae,V as v,X as S,O as k,a3 as d,a4 as T,W as _,d as n,a5 as de,e as rt,S as Te,a6 as st,P as it}from"./C8mbV1xz.js";import{l as Me,p as l,i as M,b as Z,s as dt,a as ct,c as ut,d as bt}from"./cgYqcD7K.js";import{i as mt}from"./ByIkZpuU.js";import{e as ft,i as vt}from"./CIEhC5oT.js";import{s as h,a as ce,b as _t,C as xt,c as b,d as N,e as Le}from"./d1E7WoIg.js";import{B as ue}from"./CQJnOhs3.js";const be=new Set,Ee=we(0),Pe=()=>Ee.set([...be].filter(c=>at(c)).length),yt=c=>tt(()=>{be.add(c);const t=c.subscribe(Pe);return()=>{t(),be.delete(c),Pe()}});Ee.subscribe(c=>{typeof document<"u"&&document.body.classList.toggle("bx--body--with-modal-open",c>0)});var ht=L('<button type="button"><!></button>'),gt=L("<h2><!></h2>"),pt=L('<button type="button"><!></button>'),kt=L("<div></div>"),Bt=L("<div><!> <!></div>"),Ct=L('<div><div tabindex="-1" aria-modal="true"><div><!> <!> <h3><!></h3> <!></div> <div><!></div> <!> <!></div></div>');function Ot(c,t){const B=Me(t,["children","$$slots","$$events","$$legacy"]),I=Me(B,["size","open","danger","alert","passiveModal","modalHeading","modalLabel","modalAriaLabel","iconDescription","hasForm","hasScrollingContent","primaryButtonText","primaryButtonDisabled","primaryButtonIcon","shouldSubmitOnEnter","secondaryButtonText","secondaryButtons","selectorPrimaryFocus","preventCloseOnClickOutside","id","ref"]);De(t,!1);const[W,me]=dt(),C=T(),z=T(),J=T(),Q=T();let $=l(t,"size",8,void 0),u=l(t,"open",12,!1),fe=l(t,"danger",8,!1),ve=l(t,"alert",8,!1),P=l(t,"passiveModal",8,!1),ee=l(t,"modalHeading",8,void 0),F=l(t,"modalLabel",8,void 0),_e=l(t,"modalAriaLabel",8,void 0),xe=l(t,"iconDescription",8,"Close the modal"),Ie=l(t,"hasForm",8,!1),H=l(t,"hasScrollingContent",8,!1),ze=l(t,"primaryButtonText",8,""),ye=l(t,"primaryButtonDisabled",8,!1),Fe=l(t,"primaryButtonIcon",8,void 0),He=l(t,"shouldSubmitOnEnter",8,!0),te=l(t,"secondaryButtonText",8,""),ae=l(t,"secondaryButtons",24,()=>[]),je=l(t,"selectorPrimaryFocus",8,"[data-modal-primary-focus]"),qe=l(t,"preventCloseOnClickOutside",8,!1),O=l(t,"id",24,()=>"ccs-"+Math.random().toString(36)),le=l(t,"ref",12,null);const x=lt();let j=T(null),ne=T(null),oe=!1,re=T(!1);function Ke(e){(n(ne).querySelector(je())||n(j)).focus()}const he=we(u());yt(he),nt(()=>{oe?u()||(oe=!1,x("close")):u()&&(oe=!0,Ke(),x("open"))}),U(()=>k(u()),()=>{ct(he,u())}),U(()=>k(O()),()=>{d(C,`bx--modal-header__label--modal-${O()}`)}),U(()=>k(O()),()=>{d(z,`bx--modal-header__heading--modal-${O()}`)}),U(()=>k(O()),()=>{d(J,`bx--modal-body--${O()}`)}),U(()=>(k(F()),k(B),k(_e()),k(ee())),()=>{d(Q,F()||B["aria-label"]||_e()||ee())}),ot(),mt();var s=Ct();let ge;var g=v(s);let pe;var X=v(g);h(X,1,"",null,{},{"bx--modal-header":!0});var ke=v(X);{var Re=e=>{var a=ht();h(a,1,"",null,{},{"bx--modal-close":!0});var i=v(a);Le(i,{size:20,class:"bx--modal-close__icon","aria-hidden":"true"}),_(a),Z(a,o=>d(j,o),()=>n(j)),f(()=>b(a,"aria-label",xe())),m("click",a,()=>{u(!1)}),r(e,a)};M(ke,e=>{P()&&e(Re)})}var Be=S(ke,2);{var Ue=e=>{var a=gt();h(a,1,"",null,{},{"bx--modal-header__label":!0});var i=v(a);ce(i,t,"label",{},o=>{var Y=R();f(()=>E(Y,F())),r(o,Y)}),_(a),f(()=>b(a,"id",n(C))),r(e,a)};M(Be,e=>{F()&&e(Ue)})}var q=S(Be,2);h(q,1,"",null,{},{"bx--modal-header__heading":!0});var Ne=v(q);ce(Ne,t,"heading",{},e=>{var a=R();f(()=>E(a,ee())),r(e,a)}),_(q);var Ve=S(q,2);{var We=e=>{var a=pt();h(a,1,"",null,{},{"bx--modal-close":!0});var i=v(a);Le(i,{size:20,class:"bx--modal-close__icon","aria-hidden":"true"}),_(a),Z(a,o=>d(j,o),()=>n(j)),f(()=>b(a,"aria-label",xe())),m("click",a,()=>{u(!1)}),r(e,a)};M(Ve,e=>{P()||e(We)})}_(X);var y=S(X,2);let Ce;var Xe=v(y);ce(Xe,t,"default",{},null),_(y);var Oe=S(y,2);{var Ye=e=>{var a=kt();h(a,1,"",null,{},{"bx--modal-content--overflow-indicator":!0}),r(e,a)};M(Oe,e=>{H()&&e(Ye)})}var Ze=S(Oe,2);{var Ge=e=>{var a=Bt();let i;var o=v(a);{var Y=p=>{var w=Se(),D=Te(w);ft(D,1,ae,vt,(se,A)=>{ue(se,{kind:"secondary",$$events:{click:()=>{x("click:button--secondary",{text:n(A).text})}},children:(ie,et)=>{de();var K=R();f(()=>E(K,n(A).text)),r(ie,K)},$$slots:{default:!0}})}),r(p,w)},Je=p=>{var w=Se(),D=Te(w);{var se=A=>{ue(A,{kind:"secondary",$$events:{click:()=>{x("click:button--secondary",{text:te()})}},children:(ie,et)=>{de();var K=R();f(()=>E(K,te())),r(ie,K)},$$slots:{default:!0}})};M(D,A=>{te()&&A(se)},!0)}r(p,w)};M(o,p=>{ae().length>0?p(Y):p(Je,!1)})}var Qe=S(o,2);const $e=rt(()=>fe()?"danger":"primary");ue(Qe,{get kind(){return n($e)},get disabled(){return ye()},get icon(){return Fe()},$$events:{click:()=>{x("submit"),x("click:button--primary")}},children:(p,w)=>{de();var D=R();f(()=>E(D,ze())),r(p,D)},$$slots:{default:!0}}),_(a),f(()=>i=h(a,1,"",null,i,{"bx--modal-footer":!0,"bx--modal-footer--three-button":ae().length===2})),r(e,a)};M(Ze,e=>{P()||e(Ge)})}_(g),Z(g,e=>d(ne,e),()=>n(ne)),_(s),Z(s,e=>le(e),()=>le()),f(()=>{ge=_t(s,ge,{role:"presentation",id:O(),...I,[xt]:{"bx--modal":!0,"bx--modal-tall":!P(),"is-visible":u(),"bx--modal--danger":fe()}}),b(g,"role",ve()?P()?"alert":"alertdialog":"dialog"),b(g,"aria-describedby",ve()&&!P()?n(J):void 0),b(g,"aria-label",n(Q)),pe=h(g,1,"",null,pe,{"bx--modal-container":!0,"bx--modal-container--xs":$()==="xs","bx--modal-container--sm":$()==="sm","bx--modal-container--lg":$()==="lg"}),b(q,"id",n(z)),b(y,"id",n(J)),b(y,"tabindex",H()?"0":void 0),b(y,"role",H()?"region":void 0),b(y,"aria-label",H()?n(Q):void 0),b(y,"aria-labelledby",F()?n(C):n(z)),Ce=h(y,1,"",null,Ce,{"bx--modal-content":!0,"bx--modal-content--with-form":Ie(),"bx--modal-scroll-content":H()})}),m("click",g,()=>{d(re,!0)}),m("keydown",s,function(e){N.call(this,t,e)}),m("keydown",s,e=>{if(u())if(e.key==="Escape")u(!1);else if(e.key==="Tab"){const i=Array.from(le().querySelectorAll(`
  a[href], area[href], input:not([disabled]):not([tabindex='-1']),
  button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']),
  textarea:not([disabled]):not([tabindex='-1']),
  iframe, object, embed, *[tabindex]:not([tabindex='-1']):not([disabled]), *[contenteditable=true]
`));let o=i.indexOf(document.activeElement);o===-1&&e.shiftKey&&(o=0),o+=i.length+(e.shiftKey?-1:1),o%=i.length,i[o].focus(),e.preventDefault()}else He()&&e.key==="Enter"&&!ye()&&(x("submit"),x("click:button--primary"))}),m("click",s,function(e){N.call(this,t,e)}),m("click",s,()=>{!n(re)&&!qe()&&u(!1),d(re,!1)}),m("mouseover",s,function(e){N.call(this,t,e)}),m("mouseenter",s,function(e){N.call(this,t,e)}),m("mouseleave",s,function(e){N.call(this,t,e)}),m("transitionend",s,e=>{e.propertyName==="transform"&&x("transitionend",{open:u()})}),r(c,s),Ae(),me()}let V=st(void 0),St,Tt,G={resolve:()=>{},reject:()=>{}};async function zt(c,t=""){return d(V,!0),t=t,new Promise((B,I)=>{G.resolve=B,G.reject=I})}var Mt=L("<p> </p>");function Ft(c,t){De(t,!0);const B={modalHeading:"Are you sure?",primaryButtonText:"Confirm",secondaryButtonText:"Cancel"};var I=it(()=>({...B,...St}));Ot(c,ut(()=>n(I),{get open(){return n(V)},set open(W){d(V,bt(W))},$$events:{"click:button--primary":()=>{d(V,!1),G.resolve()},"click:button--secondary":()=>{d(V,!1),G.reject()}},children:(W,me)=>{var C=Mt(),z=v(C,!0);_(C),f(()=>E(z,Tt)),r(W,C)},$$slots:{default:!0}})),Ae()}export{Ft as C,zt as c};
