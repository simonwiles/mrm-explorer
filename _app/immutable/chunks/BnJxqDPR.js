import{t as V,e as l,a as P,b as W,s as X}from"./Dt2qGRMN.js";import{i as j}from"./ByIkZpuU.js";import{R as q,$ as H,T as S,U as I,V as x,X as J,W as p,d as N,a4 as O,a3 as _}from"./C8mbV1xz.js";import{a as Q,s as y,b as Y,C as Z,c as u,d as b}from"./d1E7WoIg.js";import{l as U,p as i,b as $}from"./cgYqcD7K.js";function w(a){return function(...t){var n=t[0];return n.stopPropagation(),a==null?void 0:a.apply(this,t)}}function F(a){return function(...t){var n=t[0];return n.preventDefault(),a==null?void 0:a.apply(this,t)}}var ee=V('<div><label><div><!></div></label> <input type="file" tabindex="-1"></div>');function re(a,t){const n=U(t,["children","$$slots","$$events","$$legacy"]),c=U(n,["accept","files","multiple","validateFiles","labelText","role","disabled","tabindex","id","name","ref"]);q(t,!1);let A=i(t,"accept",24,()=>[]),d=i(t,"files",28,()=>[]),M=i(t,"multiple",8,!1),E=i(t,"validateFiles",8,e=>e),z=i(t,"labelText",8,"Add file"),G=i(t,"role",8,"button"),f=i(t,"disabled",8,!1),K=i(t,"tabindex",8,"0"),T=i(t,"id",24,()=>"ccs-"+Math.random().toString(36)),L=i(t,"name",8,""),h=i(t,"ref",12,null);const v=H();let g=O(!1);j();var s=ee();let k;var o=x(s);let B;var m=x(o);let D;var R=x(m);Q(R,t,"labelText",{},e=>{var C=W();S(()=>X(C,z())),P(e,C)}),p(m),p(o);var r=J(o,2);y(r,1,"",null,{},{"bx--file-input":!0}),$(r,e=>h(e),()=>h()),p(s),S(()=>{k=Y(s,k,{...c,[Z]:{"bx--file":!0}}),u(o,"for",T()),u(o,"tabindex",K()),B=y(o,1,"",null,B,{"bx--file-browse-btn":!0,"bx--file-browse-btn--disabled":f()}),u(m,"role",G()),D=y(m,1,"",null,D,{"bx--file__drop-container":!0,"bx--file__drop-container--drag-over":N(g)}),u(r,"id",T()),r.disabled=f(),u(r,"accept",A()),u(r,"name",L()),r.multiple=M()}),l("keydown",o,function(e){b.call(this,t,e)}),l("keydown",o,({key:e})=>{(e===" "||e==="Enter")&&h().click()}),l("change",r,({target:e})=>{d(E()([...e.files])),v("add",d()),v("change",d())}),l("click",r,function(e){b.call(this,t,e)}),l("click",r,({target:e})=>{e.value=null}),l("dragover",s,function(e){b.call(this,t,e)}),l("dragover",s,F(w(({dataTransfer:e})=>{f()||(_(g,!0),e.dropEffect="copy")}))),l("dragleave",s,function(e){b.call(this,t,e)}),l("dragleave",s,F(w(({dataTransfer:e})=>{f()||(_(g,!1),e.dropEffect="move")}))),l("drop",s,function(e){b.call(this,t,e)}),l("drop",s,F(w(({dataTransfer:e})=>{f()||(_(g,!1),d(E()([...e.files])),v("add",d()),v("change",d()))}))),P(a,s),I()}const ne=async()=>{try{if(navigator.storage&&navigator.storage.estimate)return await navigator.storage.estimate();throw new Error("navigator.storage is not available")}catch(a){console.error(`Failed to get storage stats: ${a}`)}},oe=a=>{const t=["bytes","KiB","MiB","GiB"];let n=0,c=a;for(;c>=1024&&++n;)c=c/1024;return c.toFixed(c<10&&n>0?1:0)+" "+t[n]};export{re as F,w as a,oe as f,ne as s};
