import{f as Ke,p as l,g as U,i as ot,v as te,z as r,r as ae,w as _,x as ke,k as v,a as y,j as F,F as dt,G as st,c as W,l as P,e as u,y as ut,A as f,B as J,H as ct,d as X,E as Q,s as I,q as Y,b as S,n as bt}from"./disclose-version.C3L7z7x-.js";import{p as Ue,a as Je,g as o,s as c,m as T,e as Ge,d as M,u as V,c as ft}from"./runtime.CsqbjnXD.js";import{o as vt,c as mt,a as _t,i as L,p as xt}from"./main-client.B0L5hVVe.js";import{u as gt,a as yt}from"./store.BHBXFUgZ.js";import{C as Ne}from"./Close.Dih6Zpbz.js";import{B as Be}from"./Notifications.6_IXH3UJ.js";import{w as Qe,g as ht}from"./index.DJ7qrO_h.js";const Ce=new Set,Ve=Qe(0),Re=()=>Ve.set([...Ce].filter(s=>ht(s)).length),pt=s=>vt(()=>{Ce.add(s);const t=s.subscribe(Re);return()=>{t(),Ce.delete(s),Re()}});Ve.subscribe(s=>{typeof document<"u"&&document.body.classList.toggle("bx--body--with-modal-open",s>0)});var kt=S('<button type="button"><!></button>'),Bt=S("<h2><!></h2>"),Ct=S('<button type="button"><!></button>'),Mt=S("<div></div>"),Ot=S("<div><!> <!></div>"),wt=S('<div><div tabindex="-1" aria-modal="true"><div><!> <!> <h3><!></h3> <!></div> <div><!></div> <!> <!></div></div>');function Tt(s,t){var Fe;const D=Ke(t,["children","$$slots","$$events"]),E=Ke(D,["size","open","danger","alert","passiveModal","modalHeading","modalLabel","modalAriaLabel","iconDescription","hasForm","hasScrollingContent","primaryButtonText","primaryButtonDisabled","primaryButtonIcon","shouldSubmitOnEnter","secondaryButtonText","secondaryButtons","selectorPrimaryFocus","preventCloseOnClickOutside","id","ref","$$props"]);Je(t,!1),gt({});const k=T(),$=T(),z=T(),H=T();let ne=l(t,"size",0,void 0),b=l(t,"open",4,!1),Oe=l(t,"danger",0,!1),we=l(t,"alert",0,!1),A=l(t,"passiveModal",0,!1),re=l(t,"modalHeading",0,void 0),j=l(t,"modalLabel",0,void 0),Te=l(t,"modalAriaLabel",0,void 0),Le=l(t,"iconDescription",0,"Close the modal"),We=l(t,"hasForm",0,!1),q=l(t,"hasScrollingContent",0,!1),Xe=l(t,"primaryButtonText",0,""),Pe=l(t,"primaryButtonDisabled",0,!1),Ye=l(t,"primaryButtonIcon",0,void 0),Ze=l(t,"shouldSubmitOnEnter",0,!0),ie=l(t,"secondaryButtonText",0,""),oe=l(t,"secondaryButtons",8,()=>[]),$e=l(t,"selectorPrimaryFocus",0,"[data-modal-primary-focus]"),et=l(t,"preventCloseOnClickOutside",0,!1),O=l(t,"id",8,()=>"ccs-"+Math.random().toString(36)),de=l(t,"ref",4,null);const h=mt();let K=T(null),se=T(null),ue=!1,ce=T(!1);function tt(e){((e||o(se)).querySelector($e())||o(K)).focus()}const Se=Qe(b());pt(Se),_t(()=>{ue?b()||(ue=!1,h("close")):b()&&(ue=!0,tt(),h("open"))}),U(()=>{M(b()),V(()=>{yt(Se,b())})}),U(()=>{M(O()),V(()=>{c(k,`bx--modal-header__label--modal-${O()}`)})}),U(()=>{M(O()),V(()=>{c($,`bx--modal-header__heading--modal-${O()}`)})}),U(()=>{M(O()),V(()=>{c(z,`bx--modal-body--${O()}`)})}),U(()=>{M(j()),M(t),M(Te()),M(re()),V(()=>{c(H,j()||D["aria-label"]||Te()||re())})}),ot();var i=P(s,!0,wt);te(i,e=>de(e),()=>de());let De;var x=y(i);te(x,e=>c(se,e),()=>o(se));var be=y(x);r(be,"bx--modal-header",!0);var Ee=y(be),ze=u(u(Ee,!0)),ee=u(u(ze,!0)),at=y(ee),lt=u(u(ee,!0)),g=u(u(be,!0)),nt=y(g),Ae=u(u(g,!0)),rt=u(u(Ae,!0)),fe,ve,me,_e,xe,ge,ye,he,pe;ae(()=>{De=ut(i,De,[{role:"presentation"},{id:O()},E],!0,""),r(i,"bx--modal",!0),r(i,"bx--modal-tall",!A()),r(i,"is-visible",b()),r(i,"bx--modal--danger",Oe()),fe!==(fe=we()?A()?"alert":"alertdialog":"dialog")&&f(x,"role",fe),ve!==(ve=we()&&!A()?o(z):void 0)&&f(x,"aria-describedby",ve),me!==(me=o(H))&&f(x,"aria-label",me),r(x,"bx--modal-container",!0),r(x,"bx--modal-container--xs",ne()==="xs"),r(x,"bx--modal-container--sm",ne()==="sm"),r(x,"bx--modal-container--lg",ne()==="lg"),_e!==(_e=o($))&&f(ee,"id",_e),r(ee,"bx--modal-header__heading",!0),xe!==(xe=o(z))&&f(g,"id",xe),ge!==(ge=q()?"0":void 0)&&f(g,"tabindex",ge),ye!==(ye=q()?"region":void 0)&&f(g,"role",ye),he!==(he=q()?o(H):void 0)&&f(g,"aria-label",he),pe!==(pe=j()?o(k):o($))&&f(g,"aria-labelledby",pe),r(g,"bx--modal-content",!0),r(g,"bx--modal-content--with-form",We()),r(g,"bx--modal-scroll-content",q())}),_("keydown",i,function(e){J.call(this,t,e)}),_("keydown",i,e=>{if(b())if(e.key==="Escape")b(!1);else if(e.key==="Tab"){const d=Array.from(de().querySelectorAll(`
  a[href], area[href], input:not([disabled]):not([tabindex='-1']),
  button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']),
  textarea:not([disabled]):not([tabindex='-1']),
  iframe, object, embed, *[tabindex]:not([tabindex='-1']):not([disabled]), *[contenteditable=true]
`));let n=d.indexOf(document.activeElement);n===-1&&e.shiftKey&&(n=0),n+=d.length+(e.shiftKey?-1:1),n%=d.length,d[n].focus(),e.preventDefault()}else Ze()&&e.key==="Enter"&&!Pe()&&(h("submit"),h("click:button--primary"))},!1),_("click",i,function(e){J.call(this,t,e)}),_("click",i,()=>{!o(ce)&&!et()&&b(!1),c(ce,!1)},!1),_("mouseover",i,function(e){J.call(this,t,e)}),_("mouseenter",i,function(e){J.call(this,t,e)}),_("mouseleave",i,function(e){J.call(this,t,e)}),_("transitionend",i,e=>{e.propertyName==="transform"&&h("transitionend",{open:b()})},!1),_("click",x,()=>{c(ce,!0)},!1),L(Ee,A,e=>{var a=P(e,!0,kt);te(a,B=>c(K,B),()=>o(K));var d=y(a),n;ae(()=>{n!==(n=Le())&&f(a,"aria-label",n),r(a,"bx--modal-close",!0)}),_("click",a,()=>{b(!1)},!1),Ne(d,{size:20,class:"bx--modal-close__icon","aria-hidden":"true"}),v(e,a)},null),L(ze,j,e=>{var B;var a=P(e,!0,Bt),d=y(a),n;ae(()=>{n!==(n=o(k))&&f(a,"id",n),r(a,"bx--modal-header__label",!0)}),ke(d,(B=t.$$slots)==null?void 0:B.label,{},m=>{var p=Q(m),C=I(p);F(C,j),v(m,p)}),v(e,a)},null),ke(at,(Fe=t.$$slots)==null?void 0:Fe.heading,{},e=>{var a=Q(e),d=I(a);F(d,re),v(e,a)}),L(lt,()=>!A(),e=>{var a=P(e,!0,Ct);te(a,B=>c(K,B),()=>o(K));var d=y(a),n;ae(()=>{n!==(n=Le())&&f(a,"aria-label",n),r(a,"bx--modal-close",!0)}),_("click",a,()=>{b(!1)},!1),Ne(d,{size:20,class:"bx--modal-close__icon","aria-hidden":"true"}),v(e,a)},null),ke(nt,t.children,{},null),L(Ae,q,e=>{var a=P(e,!0,Mt);r(a,"bx--modal-content--overflow-indicator",!0),v(e,a)},null),L(rt,()=>!A(),e=>{var a=P(e,!0,Ot);r(a,"bx--modal-footer",!0);var d=y(a),n=u(u(d,!0)),B=ct(()=>Oe()?"danger":"primary");dt(a,"bx--modal-footer--three-button",()=>oe().length===2),L(d,()=>oe().length>0,m=>{var p=Y(m),C=X(p);st(C,oe,1,(w,G,Ie)=>{var N=Y(w),He=X(N);Be(He,{kind:"secondary",$$events:{click:()=>{h("click:button--secondary",{text:Ge(G).text})}},children:(R,je)=>{var qe=Q(R),it=I(qe);F(it,()=>Ge(G).text),v(R,qe)}}),W(w,N)},null),W(m,p)},m=>{var p=Y(m),C=X(p);L(C,ie,w=>{var G=Y(w),Ie=X(G);Be(Ie,{kind:"secondary",$$events:{click:()=>{h("click:button--secondary",{text:ie()})}},children:(N,He)=>{var R=Q(N),je=I(R);F(je,ie),v(N,R)}}),W(w,G)},null),W(m,p)}),Be(n,{get kind(){return o(B)},get disabled(){return Pe()},get icon(){return Ye()},$$events:{click:()=>{h("submit"),h("click:button--primary")}},children:(m,p)=>{var C=Q(m),w=I(C);F(w,Xe),v(m,C)}}),v(e,a)},null),v(s,i),Ue()}var Lt=S("<p> </p>");let Z=ft(void 0),Pt,St,le={resolve:()=>{},reject:()=>{}};async function jt(s,t=""){return c(Z,!0),t=t,new Promise((D,E)=>{le.resolve=D,le.reject=E})}function qt(s,t){Je(t,!0);const D={modalHeading:"Are you sure?",primaryButtonText:"Confirm",secondaryButtonText:"Cancel"};var E=Y(s),Me=X(E);Tt(Me,bt({get open(){return o(Z)},set open(k){c(Z,xt(k))}},()=>({...D,...Pt}),{$$events:{"click:button--primary":()=>{c(Z,!1),le.resolve()},"click:button--secondary":()=>{c(Z,!1),le.reject()}},children:(k,$)=>{var z=P(k,!0,Lt),H=I(y(z));F(H,()=>St),v(k,z)}})),W(s,E),Ue()}export{qt as C,jt as c};
